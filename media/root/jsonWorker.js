data:application/javascript;base64,LyohLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFZlcnNpb246IDAuNDYuMCgyMTAwNzM2MGNhZDI4NjQ4YmRmNDYyODJhMjU5MmNiNDdjM2E3YTZmKQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9tb25hY28tZWRpdG9yL2Jsb2IvbWFpbi9MSUNFTlNFLnR4dAogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KZGVmaW5lKCJ2cy9sYW5ndWFnZS9qc29uL2pzb25Xb3JrZXIiLCBbInJlcXVpcmUiLCJyZXF1aXJlIl0sKHJlcXVpcmUpPT57CiJ1c2Ugc3RyaWN0Ijt2YXIgbW9kdWxlRXhwb3J0cz0oKCk9Pnt2YXIgaHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5O3ZhciBIcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3ZhciBHcj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lczt2YXIgWHI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgWnI9KHQscik9Pntmb3IodmFyIGkgaW4gcilodCh0LGkse2dldDpyW2ldLGVudW1lcmFibGU6ITB9KX0sUXI9KHQscixpLGUpPT57aWYociYmdHlwZW9mIHI9PSJvYmplY3QifHx0eXBlb2Ygcj09ImZ1bmN0aW9uIilmb3IobGV0IG4gb2YgR3IocikpIVhyLmNhbGwodCxuKSYmbiE9PWkmJmh0KHQsbix7Z2V0OigpPT5yW25dLGVudW1lcmFibGU6IShlPUhyKHIsbikpfHxlLmVudW1lcmFibGV9KTtyZXR1cm4gdH07dmFyIFlyPXQ9PlFyKGh0KHt9LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0KTt2YXIgX249e307WnIoX24se0pTT05Xb3JrZXI6KCk9PmZ0LGNyZWF0ZTooKT0+Qm59KTtmdW5jdGlvbiBDZSh0LHIpe3I9PT12b2lkIDAmJihyPSExKTt2YXIgaT10Lmxlbmd0aCxlPTAsbj0iIixhPTAscz0xNixvPTAsZj0wLGw9MCx1PTAsYz0wO2Z1bmN0aW9uIGgodixPKXtmb3IodmFyIEU9MCxJPTA7RTx2fHwhTzspe3ZhciBBPXQuY2hhckNvZGVBdChlKTtpZihBPj00OCYmQTw9NTcpST1JKjE2K0EtNDg7ZWxzZSBpZihBPj02NSYmQTw9NzApST1JKjE2K0EtNjUrMTA7ZWxzZSBpZihBPj05NyYmQTw9MTAyKUk9SSoxNitBLTk3KzEwO2Vsc2UgYnJlYWs7ZSsrLEUrK31yZXR1cm4gRTx2JiYoST0tMSksSX1mdW5jdGlvbiBkKHYpe2U9dixuPSIiLGE9MCxzPTE2LGM9MH1mdW5jdGlvbiBtKCl7dmFyIHY9ZTtpZih0LmNoYXJDb2RlQXQoZSk9PT00OCllKys7ZWxzZSBmb3IoZSsrO2U8dC5sZW5ndGgmJk9lKHQuY2hhckNvZGVBdChlKSk7KWUrKztpZihlPHQubGVuZ3RoJiZ0LmNoYXJDb2RlQXQoZSk9PT00NilpZihlKyssZTx0Lmxlbmd0aCYmT2UodC5jaGFyQ29kZUF0KGUpKSlmb3IoZSsrO2U8dC5sZW5ndGgmJk9lKHQuY2hhckNvZGVBdChlKSk7KWUrKztlbHNlIHJldHVybiBjPTMsdC5zdWJzdHJpbmcodixlKTt2YXIgTz1lO2lmKGU8dC5sZW5ndGgmJih0LmNoYXJDb2RlQXQoZSk9PT02OXx8dC5jaGFyQ29kZUF0KGUpPT09MTAxKSlpZihlKyssKGU8dC5sZW5ndGgmJnQuY2hhckNvZGVBdChlKT09PTQzfHx0LmNoYXJDb2RlQXQoZSk9PT00NSkmJmUrKyxlPHQubGVuZ3RoJiZPZSh0LmNoYXJDb2RlQXQoZSkpKXtmb3IoZSsrO2U8dC5sZW5ndGgmJk9lKHQuY2hhckNvZGVBdChlKSk7KWUrKztPPWV9ZWxzZSBjPTM7cmV0dXJuIHQuc3Vic3RyaW5nKHYsTyl9ZnVuY3Rpb24gcCgpe2Zvcih2YXIgdj0iIixPPWU7Oyl7aWYoZT49aSl7dis9dC5zdWJzdHJpbmcoTyxlKSxjPTI7YnJlYWt9dmFyIEU9dC5jaGFyQ29kZUF0KGUpO2lmKEU9PT0zNCl7dis9dC5zdWJzdHJpbmcoTyxlKSxlKys7YnJlYWt9aWYoRT09PTkyKXtpZih2Kz10LnN1YnN0cmluZyhPLGUpLGUrKyxlPj1pKXtjPTI7YnJlYWt9dmFyIEk9dC5jaGFyQ29kZUF0KGUrKyk7c3dpdGNoKEkpe2Nhc2UgMzQ6dis9JyInO2JyZWFrO2Nhc2UgOTI6dis9IlxcIjticmVhaztjYXNlIDQ3OnYrPSIvIjticmVhaztjYXNlIDk4OnYrPSJcYiI7YnJlYWs7Y2FzZSAxMDI6dis9IlxmIjticmVhaztjYXNlIDExMDp2Kz1gCmA7YnJlYWs7Y2FzZSAxMTQ6dis9IlxyIjticmVhaztjYXNlIDExNjp2Kz0iCSI7YnJlYWs7Y2FzZSAxMTc6dmFyIEE9aCg0LCEwKTtBPj0wP3YrPVN0cmluZy5mcm9tQ2hhckNvZGUoQSk6Yz00O2JyZWFrO2RlZmF1bHQ6Yz01fU89ZTtjb250aW51ZX1pZihFPj0wJiZFPD0zMSlpZihNZShFKSl7dis9dC5zdWJzdHJpbmcoTyxlKSxjPTI7YnJlYWt9ZWxzZSBjPTY7ZSsrfXJldHVybiB2fWZ1bmN0aW9uIGcoKXtpZihuPSIiLGM9MCxhPWUsZj1vLHU9bCxlPj1pKXJldHVybiBhPWkscz0xNzt2YXIgdj10LmNoYXJDb2RlQXQoZSk7aWYoZ3Qodikpe2RvIGUrKyxuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHYpLHY9dC5jaGFyQ29kZUF0KGUpO3doaWxlKGd0KHYpKTtyZXR1cm4gcz0xNX1pZihNZSh2KSlyZXR1cm4gZSsrLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUodiksdj09PTEzJiZ0LmNoYXJDb2RlQXQoZSk9PT0xMCYmKGUrKyxuKz1gCmApLG8rKyxsPWUscz0xNDtzd2l0Y2godil7Y2FzZSAxMjM6cmV0dXJuIGUrKyxzPTE7Y2FzZSAxMjU6cmV0dXJuIGUrKyxzPTI7Y2FzZSA5MTpyZXR1cm4gZSsrLHM9MztjYXNlIDkzOnJldHVybiBlKysscz00O2Nhc2UgNTg6cmV0dXJuIGUrKyxzPTY7Y2FzZSA0NDpyZXR1cm4gZSsrLHM9NTtjYXNlIDM0OnJldHVybiBlKyssbj1wKCkscz0xMDtjYXNlIDQ3OnZhciBPPWUtMTtpZih0LmNoYXJDb2RlQXQoZSsxKT09PTQ3KXtmb3IoZSs9MjtlPGkmJiFNZSh0LmNoYXJDb2RlQXQoZSkpOyllKys7cmV0dXJuIG49dC5zdWJzdHJpbmcoTyxlKSxzPTEyfWlmKHQuY2hhckNvZGVBdChlKzEpPT09NDIpe2UrPTI7Zm9yKHZhciBFPWktMSxJPSExO2U8RTspe3ZhciBBPXQuY2hhckNvZGVBdChlKTtpZihBPT09NDImJnQuY2hhckNvZGVBdChlKzEpPT09NDcpe2UrPTIsST0hMDticmVha31lKyssTWUoQSkmJihBPT09MTMmJnQuY2hhckNvZGVBdChlKT09PTEwJiZlKyssbysrLGw9ZSl9cmV0dXJuIEl8fChlKyssYz0xKSxuPXQuc3Vic3RyaW5nKE8sZSkscz0xM31yZXR1cm4gbis9U3RyaW5nLmZyb21DaGFyQ29kZSh2KSxlKysscz0xNjtjYXNlIDQ1OmlmKG4rPVN0cmluZy5mcm9tQ2hhckNvZGUodiksZSsrLGU9PT1pfHwhT2UodC5jaGFyQ29kZUF0KGUpKSlyZXR1cm4gcz0xNjtjYXNlIDQ4OmNhc2UgNDk6Y2FzZSA1MDpjYXNlIDUxOmNhc2UgNTI6Y2FzZSA1MzpjYXNlIDU0OmNhc2UgNTU6Y2FzZSA1NjpjYXNlIDU3OnJldHVybiBuKz1tKCkscz0xMTtkZWZhdWx0OmZvcig7ZTxpJiZiKHYpOyllKyssdj10LmNoYXJDb2RlQXQoZSk7aWYoYSE9PWUpe3N3aXRjaChuPXQuc3Vic3RyaW5nKGEsZSksbil7Y2FzZSJ0cnVlIjpyZXR1cm4gcz04O2Nhc2UiZmFsc2UiOnJldHVybiBzPTk7Y2FzZSJudWxsIjpyZXR1cm4gcz03fXJldHVybiBzPTE2fXJldHVybiBuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHYpLGUrKyxzPTE2fX1mdW5jdGlvbiBiKHYpe2lmKGd0KHYpfHxNZSh2KSlyZXR1cm4hMTtzd2l0Y2godil7Y2FzZSAxMjU6Y2FzZSA5MzpjYXNlIDEyMzpjYXNlIDkxOmNhc2UgMzQ6Y2FzZSA1ODpjYXNlIDQ0OmNhc2UgNDc6cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24geSgpe3ZhciB2O2RvIHY9ZygpO3doaWxlKHY+PTEyJiZ2PD0xNSk7cmV0dXJuIHZ9cmV0dXJue3NldFBvc2l0aW9uOmQsZ2V0UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2NhbjpyP3k6ZyxnZXRUb2tlbjpmdW5jdGlvbigpe3JldHVybiBzfSxnZXRUb2tlblZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGdldFRva2VuT2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGdldFRva2VuTGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGUtYX0sZ2V0VG9rZW5TdGFydExpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sZ2V0VG9rZW5TdGFydENoYXJhY3RlcjpmdW5jdGlvbigpe3JldHVybiBhLXV9LGdldFRva2VuRXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gY319fWZ1bmN0aW9uIGd0KHQpe3JldHVybiB0PT09MzJ8fHQ9PT05fHx0PT09MTF8fHQ9PT0xMnx8dD09PTE2MHx8dD09PTU3NjB8fHQ+PTgxOTImJnQ8PTgyMDN8fHQ9PT04MjM5fHx0PT09ODI4N3x8dD09PTEyMjg4fHx0PT09NjUyNzl9ZnVuY3Rpb24gTWUodCl7cmV0dXJuIHQ9PT0xMHx8dD09PTEzfHx0PT09ODIzMnx8dD09PTgyMzN9ZnVuY3Rpb24gT2UodCl7cmV0dXJuIHQ+PTQ4JiZ0PD01N31mdW5jdGlvbiBtdCh0LHIsaSl7dmFyIGUsbixhLHMsbztpZihyKXtmb3Iocz1yLm9mZnNldCxvPXMrci5sZW5ndGgsYT1zO2E+MCYmIXB0KHQsYS0xKTspYS0tO2Zvcih2YXIgZj1vO2Y8dC5sZW5ndGgmJiFwdCh0LGYpOylmKys7bj10LnN1YnN0cmluZyhhLGYpLGU9ZW4obixpKX1lbHNlIG49dCxlPTAsYT0wLHM9MCxvPXQubGVuZ3RoO3ZhciBsPXRuKGksdCksdT0hMSxjPTAsaDtpLmluc2VydFNwYWNlcz9oPWR0KCIgIixpLnRhYlNpemV8fDQpOmg9IgkiO3ZhciBkPUNlKG4sITEpLG09ITE7ZnVuY3Rpb24gcCgpe3JldHVybiBsK2R0KGgsZStjKX1mdW5jdGlvbiBnKCl7dmFyIE49ZC5zY2FuKCk7Zm9yKHU9ITE7Tj09PTE1fHxOPT09MTQ7KXU9dXx8Tj09PTE0LE49ZC5zY2FuKCk7cmV0dXJuIG09Tj09PTE2fHxkLmdldFRva2VuRXJyb3IoKSE9PTAsTn12YXIgYj1bXTtmdW5jdGlvbiB5KE4sTCxSKXshbSYmKCFyfHxMPG8mJlI+cykmJnQuc3Vic3RyaW5nKEwsUikhPT1OJiZiLnB1c2goe29mZnNldDpMLGxlbmd0aDpSLUwsY29udGVudDpOfSl9dmFyIHY9ZygpO2lmKHYhPT0xNyl7dmFyIE89ZC5nZXRUb2tlbk9mZnNldCgpK2EsRT1kdChoLGUpO3koRSxhLE8pfWZvcig7diE9PTE3Oyl7Zm9yKHZhciBJPWQuZ2V0VG9rZW5PZmZzZXQoKStkLmdldFRva2VuTGVuZ3RoKCkrYSxBPWcoKSxQPSIiLHc9ITE7IXUmJihBPT09MTJ8fEE9PT0xMyk7KXt2YXIgQz1kLmdldFRva2VuT2Zmc2V0KCkrYTt5KCIgIixJLEMpLEk9ZC5nZXRUb2tlbk9mZnNldCgpK2QuZ2V0VG9rZW5MZW5ndGgoKSthLHc9QT09PTEyLFA9dz9wKCk6IiIsQT1nKCl9aWYoQT09PTIpdiE9PTEmJihjLS0sUD1wKCkpO2Vsc2UgaWYoQT09PTQpdiE9PTMmJihjLS0sUD1wKCkpO2Vsc2V7c3dpdGNoKHYpe2Nhc2UgMzpjYXNlIDE6YysrLFA9cCgpO2JyZWFrO2Nhc2UgNTpjYXNlIDEyOlA9cCgpO2JyZWFrO2Nhc2UgMTM6dT9QPXAoKTp3fHwoUD0iICIpO2JyZWFrO2Nhc2UgNjp3fHwoUD0iICIpO2JyZWFrO2Nhc2UgMTA6aWYoQT09PTYpe3d8fChQPSIiKTticmVha31jYXNlIDc6Y2FzZSA4OmNhc2UgOTpjYXNlIDExOmNhc2UgMjpjYXNlIDQ6QT09PTEyfHxBPT09MTM/d3x8KFA9IiAiKTpBIT09NSYmQSE9PTE3JiYobT0hMCk7YnJlYWs7Y2FzZSAxNjptPSEwO2JyZWFrfXUmJihBPT09MTJ8fEE9PT0xMykmJihQPXAoKSl9QT09PTE3JiYoUD1pLmluc2VydEZpbmFsTmV3bGluZT9sOiIiKTt2YXIgRj1kLmdldFRva2VuT2Zmc2V0KCkrYTt5KFAsSSxGKSx2PUF9cmV0dXJuIGJ9ZnVuY3Rpb24gZHQodCxyKXtmb3IodmFyIGk9IiIsZT0wO2U8cjtlKyspaSs9dDtyZXR1cm4gaX1mdW5jdGlvbiBlbih0LHIpe2Zvcih2YXIgaT0wLGU9MCxuPXIudGFiU2l6ZXx8NDtpPHQubGVuZ3RoOyl7dmFyIGE9dC5jaGFyQXQoaSk7aWYoYT09PSIgIillKys7ZWxzZSBpZihhPT09IgkiKWUrPW47ZWxzZSBicmVhaztpKyt9cmV0dXJuIE1hdGguZmxvb3IoZS9uKX1mdW5jdGlvbiB0bih0LHIpe2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgZT1yLmNoYXJBdChpKTtpZihlPT09IlxyIilyZXR1cm4gaSsxPHIubGVuZ3RoJiZyLmNoYXJBdChpKzEpPT09YApgP2BccgpgOiJcciI7aWYoZT09PWAKYClyZXR1cm5gCmB9cmV0dXJuIHQmJnQuZW9sfHxgCmB9ZnVuY3Rpb24gcHQodCxyKXtyZXR1cm5gXHIKYC5pbmRleE9mKHQuY2hhckF0KHIpKSE9PS0xfXZhciB6ZTsoZnVuY3Rpb24odCl7dC5ERUZBVUxUPXthbGxvd1RyYWlsaW5nQ29tbWE6ITF9fSkoemV8fCh6ZT17fSkpO2Z1bmN0aW9uIFp0KHQscixpKXtyPT09dm9pZCAwJiYocj1bXSksaT09PXZvaWQgMCYmKGk9emUuREVGQVVMVCk7dmFyIGU9bnVsbCxuPVtdLGE9W107ZnVuY3Rpb24gcyhmKXtBcnJheS5pc0FycmF5KG4pP24ucHVzaChmKTplIT09bnVsbCYmKG5bZV09Zil9dmFyIG89e29uT2JqZWN0QmVnaW46ZnVuY3Rpb24oKXt2YXIgZj17fTtzKGYpLGEucHVzaChuKSxuPWYsZT1udWxsfSxvbk9iamVjdFByb3BlcnR5OmZ1bmN0aW9uKGYpe2U9Zn0sb25PYmplY3RFbmQ6ZnVuY3Rpb24oKXtuPWEucG9wKCl9LG9uQXJyYXlCZWdpbjpmdW5jdGlvbigpe3ZhciBmPVtdO3MoZiksYS5wdXNoKG4pLG49ZixlPW51bGx9LG9uQXJyYXlFbmQ6ZnVuY3Rpb24oKXtuPWEucG9wKCl9LG9uTGl0ZXJhbFZhbHVlOnMsb25FcnJvcjpmdW5jdGlvbihmLGwsdSl7ci5wdXNoKHtlcnJvcjpmLG9mZnNldDpsLGxlbmd0aDp1fSl9fTtyZXR1cm4gUXQodCxvLGkpLG5bMF19ZnVuY3Rpb24gdnQodCl7aWYoIXQucGFyZW50fHwhdC5wYXJlbnQuY2hpbGRyZW4pcmV0dXJuW107dmFyIHI9dnQodC5wYXJlbnQpO2lmKHQucGFyZW50LnR5cGU9PT0icHJvcGVydHkiKXt2YXIgaT10LnBhcmVudC5jaGlsZHJlblswXS52YWx1ZTtyLnB1c2goaSl9ZWxzZSBpZih0LnBhcmVudC50eXBlPT09ImFycmF5Iil7dmFyIGU9dC5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0KTtlIT09LTEmJnIucHVzaChlKX1yZXR1cm4gcn1mdW5jdGlvbiBCZSh0KXtzd2l0Y2godC50eXBlKXtjYXNlImFycmF5IjpyZXR1cm4gdC5jaGlsZHJlbi5tYXAoQmUpO2Nhc2Uib2JqZWN0Ijpmb3IodmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKSxpPTAsZT10LmNoaWxkcmVuO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldLGE9bi5jaGlsZHJlblsxXTthJiYocltuLmNoaWxkcmVuWzBdLnZhbHVlXT1CZShhKSl9cmV0dXJuIHI7Y2FzZSJudWxsIjpjYXNlInN0cmluZyI6Y2FzZSJudW1iZXIiOmNhc2UiYm9vbGVhbiI6cmV0dXJuIHQudmFsdWU7ZGVmYXVsdDpyZXR1cm59fWZ1bmN0aW9uIG5uKHQscixpKXtyZXR1cm4gaT09PXZvaWQgMCYmKGk9ITEpLHI+PXQub2Zmc2V0JiZyPHQub2Zmc2V0K3QubGVuZ3RofHxpJiZyPT09dC5vZmZzZXQrdC5sZW5ndGh9ZnVuY3Rpb24geXQodCxyLGkpe2lmKGk9PT12b2lkIDAmJihpPSExKSxubih0LHIsaSkpe3ZhciBlPXQuY2hpbGRyZW47aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIG49MDtuPGUubGVuZ3RoJiZlW25dLm9mZnNldDw9cjtuKyspe3ZhciBhPXl0KGVbbl0scixpKTtpZihhKXJldHVybiBhfXJldHVybiB0fX1mdW5jdGlvbiBRdCh0LHIsaSl7aT09PXZvaWQgMCYmKGk9emUuREVGQVVMVCk7dmFyIGU9Q2UodCwhMSk7ZnVuY3Rpb24gbih3KXtyZXR1cm4gdz9mdW5jdGlvbigpe3JldHVybiB3KGUuZ2V0VG9rZW5PZmZzZXQoKSxlLmdldFRva2VuTGVuZ3RoKCksZS5nZXRUb2tlblN0YXJ0TGluZSgpLGUuZ2V0VG9rZW5TdGFydENoYXJhY3RlcigpKX06ZnVuY3Rpb24oKXtyZXR1cm4hMH19ZnVuY3Rpb24gYSh3KXtyZXR1cm4gdz9mdW5jdGlvbihDKXtyZXR1cm4gdyhDLGUuZ2V0VG9rZW5PZmZzZXQoKSxlLmdldFRva2VuTGVuZ3RoKCksZS5nZXRUb2tlblN0YXJ0TGluZSgpLGUuZ2V0VG9rZW5TdGFydENoYXJhY3RlcigpKX06ZnVuY3Rpb24oKXtyZXR1cm4hMH19dmFyIHM9bihyLm9uT2JqZWN0QmVnaW4pLG89YShyLm9uT2JqZWN0UHJvcGVydHkpLGY9bihyLm9uT2JqZWN0RW5kKSxsPW4oci5vbkFycmF5QmVnaW4pLHU9bihyLm9uQXJyYXlFbmQpLGM9YShyLm9uTGl0ZXJhbFZhbHVlKSxoPWEoci5vblNlcGFyYXRvciksZD1uKHIub25Db21tZW50KSxtPWEoci5vbkVycm9yKSxwPWkmJmkuZGlzYWxsb3dDb21tZW50cyxnPWkmJmkuYWxsb3dUcmFpbGluZ0NvbW1hO2Z1bmN0aW9uIGIoKXtmb3IoOzspe3ZhciB3PWUuc2NhbigpO3N3aXRjaChlLmdldFRva2VuRXJyb3IoKSl7Y2FzZSA0OnkoMTQpO2JyZWFrO2Nhc2UgNTp5KDE1KTticmVhaztjYXNlIDM6eSgxMyk7YnJlYWs7Y2FzZSAxOnB8fHkoMTEpO2JyZWFrO2Nhc2UgMjp5KDEyKTticmVhaztjYXNlIDY6eSgxNik7YnJlYWt9c3dpdGNoKHcpe2Nhc2UgMTI6Y2FzZSAxMzpwP3koMTApOmQoKTticmVhaztjYXNlIDE2OnkoMSk7YnJlYWs7Y2FzZSAxNTpjYXNlIDE0OmJyZWFrO2RlZmF1bHQ6cmV0dXJuIHd9fX1mdW5jdGlvbiB5KHcsQyxGKXtpZihDPT09dm9pZCAwJiYoQz1bXSksRj09PXZvaWQgMCYmKEY9W10pLG0odyksQy5sZW5ndGgrRi5sZW5ndGg+MClmb3IodmFyIE49ZS5nZXRUb2tlbigpO04hPT0xNzspe2lmKEMuaW5kZXhPZihOKSE9PS0xKXtiKCk7YnJlYWt9ZWxzZSBpZihGLmluZGV4T2YoTikhPT0tMSlicmVhaztOPWIoKX19ZnVuY3Rpb24gdih3KXt2YXIgQz1lLmdldFRva2VuVmFsdWUoKTtyZXR1cm4gdz9jKEMpOm8oQyksYigpLCEwfWZ1bmN0aW9uIE8oKXtzd2l0Y2goZS5nZXRUb2tlbigpKXtjYXNlIDExOnZhciB3PWUuZ2V0VG9rZW5WYWx1ZSgpLEM9TnVtYmVyKHcpO2lzTmFOKEMpJiYoeSgyKSxDPTApLGMoQyk7YnJlYWs7Y2FzZSA3OmMobnVsbCk7YnJlYWs7Y2FzZSA4OmMoITApO2JyZWFrO2Nhc2UgOTpjKCExKTticmVhaztkZWZhdWx0OnJldHVybiExfXJldHVybiBiKCksITB9ZnVuY3Rpb24gRSgpe3JldHVybiBlLmdldFRva2VuKCkhPT0xMD8oeSgzLFtdLFsyLDVdKSwhMSk6KHYoITEpLGUuZ2V0VG9rZW4oKT09PTY/KGgoIjoiKSxiKCksUCgpfHx5KDQsW10sWzIsNV0pKTp5KDUsW10sWzIsNV0pLCEwKX1mdW5jdGlvbiBJKCl7cygpLGIoKTtmb3IodmFyIHc9ITE7ZS5nZXRUb2tlbigpIT09MiYmZS5nZXRUb2tlbigpIT09MTc7KXtpZihlLmdldFRva2VuKCk9PT01KXtpZih3fHx5KDQsW10sW10pLGgoIiwiKSxiKCksZS5nZXRUb2tlbigpPT09MiYmZylicmVha31lbHNlIHcmJnkoNixbXSxbXSk7RSgpfHx5KDQsW10sWzIsNV0pLHc9ITB9cmV0dXJuIGYoKSxlLmdldFRva2VuKCkhPT0yP3koNyxbMl0sW10pOmIoKSwhMH1mdW5jdGlvbiBBKCl7bCgpLGIoKTtmb3IodmFyIHc9ITE7ZS5nZXRUb2tlbigpIT09NCYmZS5nZXRUb2tlbigpIT09MTc7KXtpZihlLmdldFRva2VuKCk9PT01KXtpZih3fHx5KDQsW10sW10pLGgoIiwiKSxiKCksZS5nZXRUb2tlbigpPT09NCYmZylicmVha31lbHNlIHcmJnkoNixbXSxbXSk7UCgpfHx5KDQsW10sWzQsNV0pLHc9ITB9cmV0dXJuIHUoKSxlLmdldFRva2VuKCkhPT00P3koOCxbNF0sW10pOmIoKSwhMH1mdW5jdGlvbiBQKCl7c3dpdGNoKGUuZ2V0VG9rZW4oKSl7Y2FzZSAzOnJldHVybiBBKCk7Y2FzZSAxOnJldHVybiBJKCk7Y2FzZSAxMDpyZXR1cm4gdighMCk7ZGVmYXVsdDpyZXR1cm4gTygpfX1yZXR1cm4gYigpLGUuZ2V0VG9rZW4oKT09PTE3P2kuYWxsb3dFbXB0eUNvbnRlbnQ/ITA6KHkoNCxbXSxbXSksITEpOlAoKT8oZS5nZXRUb2tlbigpIT09MTcmJnkoOSxbXSxbXSksITApOih5KDQsW10sW10pLCExKX12YXIgbGU9Q2U7dmFyIFl0PVp0O3ZhciBLdD15dCxlcj12dCx0cj1CZTtmdW5jdGlvbiBycih0LHIsaSl7cmV0dXJuIG10KHQscixpKX1mdW5jdGlvbiBQZSh0LHIpe2lmKHQ9PT1yKXJldHVybiEwO2lmKHQ9PW51bGx8fHI9PT1udWxsfHxyPT09dm9pZCAwfHx0eXBlb2YgdCE9dHlwZW9mIHJ8fHR5cGVvZiB0IT0ib2JqZWN0Inx8QXJyYXkuaXNBcnJheSh0KSE9PUFycmF5LmlzQXJyYXkocikpcmV0dXJuITE7dmFyIGksZTtpZihBcnJheS5pc0FycmF5KHQpKXtpZih0Lmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspaWYoIVBlKHRbaV0scltpXSkpcmV0dXJuITF9ZWxzZXt2YXIgbj1bXTtmb3IoZSBpbiB0KW4ucHVzaChlKTtuLnNvcnQoKTt2YXIgYT1bXTtmb3IoZSBpbiByKWEucHVzaChlKTtpZihhLnNvcnQoKSwhUGUobixhKSlyZXR1cm4hMTtmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKWlmKCFQZSh0W25baV1dLHJbbltpXV0pKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGVlKHQpe3JldHVybiB0eXBlb2YgdD09Im51bWJlciJ9ZnVuY3Rpb24gc2UodCl7cmV0dXJuIHR5cGVvZiB0PCJ1In1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJib29sZWFuIn1mdW5jdGlvbiBucih0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmcifWZ1bmN0aW9uIHVuKHQscil7aWYodC5sZW5ndGg8ci5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspaWYodFtpXSE9PXJbaV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcGUodCxyKXt2YXIgaT10Lmxlbmd0aC1yLmxlbmd0aDtyZXR1cm4gaT4wP3QubGFzdEluZGV4T2Yocik9PT1pOmk9PT0wP3Q9PT1yOiExfWZ1bmN0aW9uIHhlKHQpe3ZhciByPSIiO3VuKHQsIig/aSkiKSYmKHQ9dC5zdWJzdHJpbmcoNCkscj0iaSIpO3RyeXtyZXR1cm4gbmV3IFJlZ0V4cCh0LHIrInUiKX1jYXRjaHt0cnl7cmV0dXJuIG5ldyBSZWdFeHAodCxyKX1jYXRjaHtyZXR1cm59fX12YXIgYXI7KGZ1bmN0aW9uKHQpe3QuTUlOX1ZBTFVFPS0yMTQ3NDgzNjQ4LHQuTUFYX1ZBTFVFPTIxNDc0ODM2NDd9KShhcnx8KGFyPXt9KSk7dmFyIEhlOyhmdW5jdGlvbih0KXt0Lk1JTl9WQUxVRT0wLHQuTUFYX1ZBTFVFPTIxNDc0ODM2NDd9KShIZXx8KEhlPXt9KSk7dmFyIHJlOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7cmV0dXJuIGU9PT1OdW1iZXIuTUFYX1ZBTFVFJiYoZT1IZS5NQVhfVkFMVUUpLG49PT1OdW1iZXIuTUFYX1ZBTFVFJiYobj1IZS5NQVhfVkFMVUUpLHtsaW5lOmUsY2hhcmFjdGVyOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4Lm9iamVjdExpdGVyYWwobikmJngudWludGVnZXIobi5saW5lKSYmeC51aW50ZWdlcihuLmNoYXJhY3Rlcil9dC5pcz1pfSkocmV8fChyZT17fSkpO3ZhciBVOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhLHMpe2lmKHgudWludGVnZXIoZSkmJngudWludGVnZXIobikmJngudWludGVnZXIoYSkmJngudWludGVnZXIocykpcmV0dXJue3N0YXJ0OnJlLmNyZWF0ZShlLG4pLGVuZDpyZS5jcmVhdGUoYSxzKX07aWYocmUuaXMoZSkmJnJlLmlzKG4pKXJldHVybntzdGFydDplLGVuZDpufTt0aHJvdyBuZXcgRXJyb3IoIlJhbmdlI2NyZWF0ZSBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50c1siK2UrIiwgIituKyIsICIrYSsiLCAiK3MrIl0iKX10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4geC5vYmplY3RMaXRlcmFsKG4pJiZyZS5pcyhuLnN0YXJ0KSYmcmUuaXMobi5lbmQpfXQuaXM9aX0pKFV8fChVPXt9KSk7dmFyIFNlOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7cmV0dXJue3VyaTplLHJhbmdlOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJlUuaXMobi5yYW5nZSkmJih4LnN0cmluZyhuLnVyaSl8fHgudW5kZWZpbmVkKG4udXJpKSl9dC5pcz1pfSkoU2V8fChTZT17fSkpO3ZhciBvcjsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4sYSxzKXtyZXR1cm57dGFyZ2V0VXJpOmUsdGFyZ2V0UmFuZ2U6bix0YXJnZXRTZWxlY3Rpb25SYW5nZTphLG9yaWdpblNlbGVjdGlvblJhbmdlOnN9fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJlUuaXMobi50YXJnZXRSYW5nZSkmJnguc3RyaW5nKG4udGFyZ2V0VXJpKSYmKFUuaXMobi50YXJnZXRTZWxlY3Rpb25SYW5nZSl8fHgudW5kZWZpbmVkKG4udGFyZ2V0U2VsZWN0aW9uUmFuZ2UpKSYmKFUuaXMobi5vcmlnaW5TZWxlY3Rpb25SYW5nZSl8fHgudW5kZWZpbmVkKG4ub3JpZ2luU2VsZWN0aW9uUmFuZ2UpKX10LmlzPWl9KShvcnx8KG9yPXt9KSk7dmFyIEdlOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhLHMpe3JldHVybntyZWQ6ZSxncmVlbjpuLGJsdWU6YSxhbHBoYTpzfX10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4geC5udW1iZXJSYW5nZShuLnJlZCwwLDEpJiZ4Lm51bWJlclJhbmdlKG4uZ3JlZW4sMCwxKSYmeC5udW1iZXJSYW5nZShuLmJsdWUsMCwxKSYmeC5udW1iZXJSYW5nZShuLmFscGhhLDAsMSl9dC5pcz1pfSkoR2V8fChHZT17fSkpO3ZhciB4dDsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3JldHVybntyYW5nZTplLGNvbG9yOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiBVLmlzKG4ucmFuZ2UpJiZHZS5pcyhuLmNvbG9yKX10LmlzPWl9KSh4dHx8KHh0PXt9KSk7dmFyIFN0OyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhKXtyZXR1cm57bGFiZWw6ZSx0ZXh0RWRpdDpuLGFkZGl0aW9uYWxUZXh0RWRpdHM6YX19dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIHguc3RyaW5nKG4ubGFiZWwpJiYoeC51bmRlZmluZWQobi50ZXh0RWRpdCl8fFkuaXMobikpJiYoeC51bmRlZmluZWQobi5hZGRpdGlvbmFsVGV4dEVkaXRzKXx8eC50eXBlZEFycmF5KG4uYWRkaXRpb25hbFRleHRFZGl0cyxZLmlzKSl9dC5pcz1pfSkoU3R8fChTdD17fSkpO3ZhciBBZTsoZnVuY3Rpb24odCl7dC5Db21tZW50PSJjb21tZW50Iix0LkltcG9ydHM9ImltcG9ydHMiLHQuUmVnaW9uPSJyZWdpb24ifSkoQWV8fChBZT17fSkpO3ZhciBBdDsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4sYSxzLG8pe3ZhciBmPXtzdGFydExpbmU6ZSxlbmRMaW5lOm59O3JldHVybiB4LmRlZmluZWQoYSkmJihmLnN0YXJ0Q2hhcmFjdGVyPWEpLHguZGVmaW5lZChzKSYmKGYuZW5kQ2hhcmFjdGVyPXMpLHguZGVmaW5lZChvKSYmKGYua2luZD1vKSxmfXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LnVpbnRlZ2VyKG4uc3RhcnRMaW5lKSYmeC51aW50ZWdlcihuLnN0YXJ0TGluZSkmJih4LnVuZGVmaW5lZChuLnN0YXJ0Q2hhcmFjdGVyKXx8eC51aW50ZWdlcihuLnN0YXJ0Q2hhcmFjdGVyKSkmJih4LnVuZGVmaW5lZChuLmVuZENoYXJhY3Rlcil8fHgudWludGVnZXIobi5lbmRDaGFyYWN0ZXIpKSYmKHgudW5kZWZpbmVkKG4ua2luZCl8fHguc3RyaW5nKG4ua2luZCkpfXQuaXM9aX0pKEF0fHwoQXQ9e30pKTt2YXIgd3Q7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuKXtyZXR1cm57bG9jYXRpb246ZSxtZXNzYWdlOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJlNlLmlzKG4ubG9jYXRpb24pJiZ4LnN0cmluZyhuLm1lc3NhZ2UpfXQuaXM9aX0pKHd0fHwod3Q9e30pKTt2YXIgWjsoZnVuY3Rpb24odCl7dC5FcnJvcj0xLHQuV2FybmluZz0yLHQuSW5mb3JtYXRpb249Myx0LkhpbnQ9NH0pKFp8fChaPXt9KSk7dmFyIHNyOyhmdW5jdGlvbih0KXt0LlVubmVjZXNzYXJ5PTEsdC5EZXByZWNhdGVkPTJ9KShzcnx8KHNyPXt9KSk7dmFyIGZyOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGkpe3ZhciBlPWk7cmV0dXJuIGUhPW51bGwmJnguc3RyaW5nKGUuaHJlZil9dC5pcz1yfSkoZnJ8fChmcj17fSkpO3ZhciBhZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4sYSxzLG8sZil7dmFyIGw9e3JhbmdlOmUsbWVzc2FnZTpufTtyZXR1cm4geC5kZWZpbmVkKGEpJiYobC5zZXZlcml0eT1hKSx4LmRlZmluZWQocykmJihsLmNvZGU9cykseC5kZWZpbmVkKG8pJiYobC5zb3VyY2U9bykseC5kZWZpbmVkKGYpJiYobC5yZWxhdGVkSW5mb3JtYXRpb249ZiksbH10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG4sYT1lO3JldHVybiB4LmRlZmluZWQoYSkmJlUuaXMoYS5yYW5nZSkmJnguc3RyaW5nKGEubWVzc2FnZSkmJih4Lm51bWJlcihhLnNldmVyaXR5KXx8eC51bmRlZmluZWQoYS5zZXZlcml0eSkpJiYoeC5pbnRlZ2VyKGEuY29kZSl8fHguc3RyaW5nKGEuY29kZSl8fHgudW5kZWZpbmVkKGEuY29kZSkpJiYoeC51bmRlZmluZWQoYS5jb2RlRGVzY3JpcHRpb24pfHx4LnN0cmluZygobj1hLmNvZGVEZXNjcmlwdGlvbik9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmhyZWYpKSYmKHguc3RyaW5nKGEuc291cmNlKXx8eC51bmRlZmluZWQoYS5zb3VyY2UpKSYmKHgudW5kZWZpbmVkKGEucmVsYXRlZEluZm9ybWF0aW9uKXx8eC50eXBlZEFycmF5KGEucmVsYXRlZEluZm9ybWF0aW9uLHd0LmlzKSl9dC5pcz1pfSkoYWV8fChhZT17fSkpO3ZhciBFZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe2Zvcih2YXIgYT1bXSxzPTI7czxhcmd1bWVudHMubGVuZ3RoO3MrKylhW3MtMl09YXJndW1lbnRzW3NdO3ZhciBvPXt0aXRsZTplLGNvbW1hbmQ6bn07cmV0dXJuIHguZGVmaW5lZChhKSYmYS5sZW5ndGg+MCYmKG8uYXJndW1lbnRzPWEpLG99dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIHguZGVmaW5lZChuKSYmeC5zdHJpbmcobi50aXRsZSkmJnguc3RyaW5nKG4uY29tbWFuZCl9dC5pcz1pfSkoRWV8fChFZT17fSkpO3ZhciBZOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGEscyl7cmV0dXJue3JhbmdlOmEsbmV3VGV4dDpzfX10LnJlcGxhY2U9cjtmdW5jdGlvbiBpKGEscyl7cmV0dXJue3JhbmdlOntzdGFydDphLGVuZDphfSxuZXdUZXh0OnN9fXQuaW5zZXJ0PWk7ZnVuY3Rpb24gZShhKXtyZXR1cm57cmFuZ2U6YSxuZXdUZXh0OiIifX10LmRlbD1lO2Z1bmN0aW9uIG4oYSl7dmFyIHM9YTtyZXR1cm4geC5vYmplY3RMaXRlcmFsKHMpJiZ4LnN0cmluZyhzLm5ld1RleHQpJiZVLmlzKHMucmFuZ2UpfXQuaXM9bn0pKFl8fChZPXt9KSk7dmFyIGplOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhKXt2YXIgcz17bGFiZWw6ZX07cmV0dXJuIG4hPT12b2lkIDAmJihzLm5lZWRzQ29uZmlybWF0aW9uPW4pLGEhPT12b2lkIDAmJihzLmRlc2NyaXB0aW9uPWEpLHN9dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIG4hPT12b2lkIDAmJngub2JqZWN0TGl0ZXJhbChuKSYmeC5zdHJpbmcobi5sYWJlbCkmJih4LmJvb2xlYW4obi5uZWVkc0NvbmZpcm1hdGlvbil8fG4ubmVlZHNDb25maXJtYXRpb249PT12b2lkIDApJiYoeC5zdHJpbmcobi5kZXNjcmlwdGlvbil8fG4uZGVzY3JpcHRpb249PT12b2lkIDApfXQuaXM9aX0pKGplfHwoamU9e30pKTt2YXIgWDsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihpKXt2YXIgZT1pO3JldHVybiB0eXBlb2YgZT09InN0cmluZyJ9dC5pcz1yfSkoWHx8KFg9e30pKTt2YXIgbWU7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoYSxzLG8pe3JldHVybntyYW5nZTphLG5ld1RleHQ6cyxhbm5vdGF0aW9uSWQ6b319dC5yZXBsYWNlPXI7ZnVuY3Rpb24gaShhLHMsbyl7cmV0dXJue3JhbmdlOntzdGFydDphLGVuZDphfSxuZXdUZXh0OnMsYW5ub3RhdGlvbklkOm99fXQuaW5zZXJ0PWk7ZnVuY3Rpb24gZShhLHMpe3JldHVybntyYW5nZTphLG5ld1RleHQ6IiIsYW5ub3RhdGlvbklkOnN9fXQuZGVsPWU7ZnVuY3Rpb24gbihhKXt2YXIgcz1hO3JldHVybiBZLmlzKHMpJiYoamUuaXMocy5hbm5vdGF0aW9uSWQpfHxYLmlzKHMuYW5ub3RhdGlvbklkKSl9dC5pcz1ufSkobWV8fChtZT17fSkpO3ZhciBGZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3JldHVybnt0ZXh0RG9jdW1lbnQ6ZSxlZGl0czpufX10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4geC5kZWZpbmVkKG4pJiZaZS5pcyhuLnRleHREb2N1bWVudCkmJkFycmF5LmlzQXJyYXkobi5lZGl0cyl9dC5pcz1pfSkoRmV8fChGZT17fSkpO3ZhciBMZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4sYSl7dmFyIHM9e2tpbmQ6ImNyZWF0ZSIsdXJpOmV9O3JldHVybiBuIT09dm9pZCAwJiYobi5vdmVyd3JpdGUhPT12b2lkIDB8fG4uaWdub3JlSWZFeGlzdHMhPT12b2lkIDApJiYocy5vcHRpb25zPW4pLGEhPT12b2lkIDAmJihzLmFubm90YXRpb25JZD1hKSxzfXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiBuJiZuLmtpbmQ9PT0iY3JlYXRlIiYmeC5zdHJpbmcobi51cmkpJiYobi5vcHRpb25zPT09dm9pZCAwfHwobi5vcHRpb25zLm92ZXJ3cml0ZT09PXZvaWQgMHx8eC5ib29sZWFuKG4ub3B0aW9ucy5vdmVyd3JpdGUpKSYmKG4ub3B0aW9ucy5pZ25vcmVJZkV4aXN0cz09PXZvaWQgMHx8eC5ib29sZWFuKG4ub3B0aW9ucy5pZ25vcmVJZkV4aXN0cykpKSYmKG4uYW5ub3RhdGlvbklkPT09dm9pZCAwfHxYLmlzKG4uYW5ub3RhdGlvbklkKSl9dC5pcz1pfSkoTGV8fChMZT17fSkpO3ZhciBWZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4sYSxzKXt2YXIgbz17a2luZDoicmVuYW1lIixvbGRVcmk6ZSxuZXdVcmk6bn07cmV0dXJuIGEhPT12b2lkIDAmJihhLm92ZXJ3cml0ZSE9PXZvaWQgMHx8YS5pZ25vcmVJZkV4aXN0cyE9PXZvaWQgMCkmJihvLm9wdGlvbnM9YSkscyE9PXZvaWQgMCYmKG8uYW5ub3RhdGlvbklkPXMpLG99dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIG4mJm4ua2luZD09PSJyZW5hbWUiJiZ4LnN0cmluZyhuLm9sZFVyaSkmJnguc3RyaW5nKG4ubmV3VXJpKSYmKG4ub3B0aW9ucz09PXZvaWQgMHx8KG4ub3B0aW9ucy5vdmVyd3JpdGU9PT12b2lkIDB8fHguYm9vbGVhbihuLm9wdGlvbnMub3ZlcndyaXRlKSkmJihuLm9wdGlvbnMuaWdub3JlSWZFeGlzdHM9PT12b2lkIDB8fHguYm9vbGVhbihuLm9wdGlvbnMuaWdub3JlSWZFeGlzdHMpKSkmJihuLmFubm90YXRpb25JZD09PXZvaWQgMHx8WC5pcyhuLmFubm90YXRpb25JZCkpfXQuaXM9aX0pKFZlfHwoVmU9e30pKTt2YXIgRGU7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLGEpe3ZhciBzPXtraW5kOiJkZWxldGUiLHVyaTplfTtyZXR1cm4gbiE9PXZvaWQgMCYmKG4ucmVjdXJzaXZlIT09dm9pZCAwfHxuLmlnbm9yZUlmTm90RXhpc3RzIT09dm9pZCAwKSYmKHMub3B0aW9ucz1uKSxhIT09dm9pZCAwJiYocy5hbm5vdGF0aW9uSWQ9YSksc310LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4gbiYmbi5raW5kPT09ImRlbGV0ZSImJnguc3RyaW5nKG4udXJpKSYmKG4ub3B0aW9ucz09PXZvaWQgMHx8KG4ub3B0aW9ucy5yZWN1cnNpdmU9PT12b2lkIDB8fHguYm9vbGVhbihuLm9wdGlvbnMucmVjdXJzaXZlKSkmJihuLm9wdGlvbnMuaWdub3JlSWZOb3RFeGlzdHM9PT12b2lkIDB8fHguYm9vbGVhbihuLm9wdGlvbnMuaWdub3JlSWZOb3RFeGlzdHMpKSkmJihuLmFubm90YXRpb25JZD09PXZvaWQgMHx8WC5pcyhuLmFubm90YXRpb25JZCkpfXQuaXM9aX0pKERlfHwoRGU9e30pKTt2YXIgWGU7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoaSl7dmFyIGU9aTtyZXR1cm4gZSYmKGUuY2hhbmdlcyE9PXZvaWQgMHx8ZS5kb2N1bWVudENoYW5nZXMhPT12b2lkIDApJiYoZS5kb2N1bWVudENoYW5nZXM9PT12b2lkIDB8fGUuZG9jdW1lbnRDaGFuZ2VzLmV2ZXJ5KGZ1bmN0aW9uKG4pe3JldHVybiB4LnN0cmluZyhuLmtpbmQpP0xlLmlzKG4pfHxWZS5pcyhuKXx8RGUuaXMobik6RmUuaXMobil9KSl9dC5pcz1yfSkoWGV8fChYZT17fSkpO3ZhciBfZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocixpKXt0aGlzLmVkaXRzPXIsdGhpcy5jaGFuZ2VBbm5vdGF0aW9ucz1pfXJldHVybiB0LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24ocixpLGUpe3ZhciBuLGE7aWYoZT09PXZvaWQgMD9uPVkuaW5zZXJ0KHIsaSk6WC5pcyhlKT8oYT1lLG49bWUuaW5zZXJ0KHIsaSxlKSk6KHRoaXMuYXNzZXJ0Q2hhbmdlQW5ub3RhdGlvbnModGhpcy5jaGFuZ2VBbm5vdGF0aW9ucyksYT10aGlzLmNoYW5nZUFubm90YXRpb25zLm1hbmFnZShlKSxuPW1lLmluc2VydChyLGksYSkpLHRoaXMuZWRpdHMucHVzaChuKSxhIT09dm9pZCAwKXJldHVybiBhfSx0LnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHIsaSxlKXt2YXIgbixhO2lmKGU9PT12b2lkIDA/bj1ZLnJlcGxhY2UocixpKTpYLmlzKGUpPyhhPWUsbj1tZS5yZXBsYWNlKHIsaSxlKSk6KHRoaXMuYXNzZXJ0Q2hhbmdlQW5ub3RhdGlvbnModGhpcy5jaGFuZ2VBbm5vdGF0aW9ucyksYT10aGlzLmNoYW5nZUFubm90YXRpb25zLm1hbmFnZShlKSxuPW1lLnJlcGxhY2UocixpLGEpKSx0aGlzLmVkaXRzLnB1c2gobiksYSE9PXZvaWQgMClyZXR1cm4gYX0sdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHIsaSl7dmFyIGUsbjtpZihpPT09dm9pZCAwP2U9WS5kZWwocik6WC5pcyhpKT8obj1pLGU9bWUuZGVsKHIsaSkpOih0aGlzLmFzc2VydENoYW5nZUFubm90YXRpb25zKHRoaXMuY2hhbmdlQW5ub3RhdGlvbnMpLG49dGhpcy5jaGFuZ2VBbm5vdGF0aW9ucy5tYW5hZ2UoaSksZT1tZS5kZWwocixuKSksdGhpcy5lZGl0cy5wdXNoKGUpLG4hPT12b2lkIDApcmV0dXJuIG59LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihyKXt0aGlzLmVkaXRzLnB1c2gocil9LHQucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRzfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuZWRpdHMuc3BsaWNlKDAsdGhpcy5lZGl0cy5sZW5ndGgpfSx0LnByb3RvdHlwZS5hc3NlcnRDaGFuZ2VBbm5vdGF0aW9ucz1mdW5jdGlvbihyKXtpZihyPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiVGV4dCBlZGl0IGNoYW5nZSBpcyBub3QgY29uZmlndXJlZCB0byBtYW5hZ2UgY2hhbmdlIGFubm90YXRpb25zLiIpfSx0fSgpLHVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyKXt0aGlzLl9hbm5vdGF0aW9ucz1yPT09dm9pZCAwP09iamVjdC5jcmVhdGUobnVsbCk6cix0aGlzLl9jb3VudGVyPTAsdGhpcy5fc2l6ZT0wfXJldHVybiB0LnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5ub3RhdGlvbnN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLm1hbmFnZT1mdW5jdGlvbihyLGkpe3ZhciBlO2lmKFguaXMocik/ZT1yOihlPXRoaXMubmV4dElkKCksaT1yKSx0aGlzLl9hbm5vdGF0aW9uc1tlXSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIklkICIrZSsiIGlzIGFscmVhZHkgaW4gdXNlLiIpO2lmKGk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJObyBhbm5vdGF0aW9uIHByb3ZpZGVkIGZvciBpZCAiK2UpO3JldHVybiB0aGlzLl9hbm5vdGF0aW9uc1tlXT1pLHRoaXMuX3NpemUrKyxlfSx0LnByb3RvdHlwZS5uZXh0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY291bnRlcisrLHRoaXMuX2NvdW50ZXIudG9TdHJpbmcoKX0sdH0oKSxuaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocil7dmFyIGk9dGhpczt0aGlzLl90ZXh0RWRpdENoYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxyIT09dm9pZCAwPyh0aGlzLl93b3Jrc3BhY2VFZGl0PXIsci5kb2N1bWVudENoYW5nZXM/KHRoaXMuX2NoYW5nZUFubm90YXRpb25zPW5ldyB1cihyLmNoYW5nZUFubm90YXRpb25zKSxyLmNoYW5nZUFubm90YXRpb25zPXRoaXMuX2NoYW5nZUFubm90YXRpb25zLmFsbCgpLHIuZG9jdW1lbnRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoRmUuaXMoZSkpe3ZhciBuPW5ldyBfZShlLmVkaXRzLGkuX2NoYW5nZUFubm90YXRpb25zKTtpLl90ZXh0RWRpdENoYW5nZXNbZS50ZXh0RG9jdW1lbnQudXJpXT1ufX0pKTpyLmNoYW5nZXMmJk9iamVjdC5rZXlzKHIuY2hhbmdlcykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1uZXcgX2Uoci5jaGFuZ2VzW2VdKTtpLl90ZXh0RWRpdENoYW5nZXNbZV09bn0pKTp0aGlzLl93b3Jrc3BhY2VFZGl0PXt9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImVkaXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCksdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMhPT12b2lkIDAmJih0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5zaXplPT09MD90aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZUFubm90YXRpb25zPXZvaWQgMDp0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZUFubm90YXRpb25zPXRoaXMuX2NoYW5nZUFubm90YXRpb25zLmFsbCgpKSx0aGlzLl93b3Jrc3BhY2VFZGl0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldFRleHRFZGl0Q2hhbmdlPWZ1bmN0aW9uKHIpe2lmKFplLmlzKHIpKXtpZih0aGlzLmluaXREb2N1bWVudENoYW5nZXMoKSx0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcz09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIldvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBkb2N1bWVudCBjaGFuZ2VzLiIpO3ZhciBpPXt1cmk6ci51cmksdmVyc2lvbjpyLnZlcnNpb259LGU9dGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2kudXJpXTtpZighZSl7dmFyIG49W10sYT17dGV4dERvY3VtZW50OmksZWRpdHM6bn07dGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMucHVzaChhKSxlPW5ldyBfZShuLHRoaXMuX2NoYW5nZUFubm90YXRpb25zKSx0aGlzLl90ZXh0RWRpdENoYW5nZXNbaS51cmldPWV9cmV0dXJuIGV9ZWxzZXtpZih0aGlzLmluaXRDaGFuZ2VzKCksdGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VzPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiV29ya3NwYWNlIGVkaXQgaXMgbm90IGNvbmZpZ3VyZWQgZm9yIG5vcm1hbCB0ZXh0IGVkaXQgY2hhbmdlcy4iKTt2YXIgZT10aGlzLl90ZXh0RWRpdENoYW5nZXNbcl07aWYoIWUpe3ZhciBuPVtdO3RoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlc1tyXT1uLGU9bmV3IF9lKG4pLHRoaXMuX3RleHRFZGl0Q2hhbmdlc1tyXT1lfXJldHVybiBlfX0sdC5wcm90b3R5cGUuaW5pdERvY3VtZW50Q2hhbmdlcz1mdW5jdGlvbigpe3RoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzPT09dm9pZCAwJiZ0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZXM9PT12b2lkIDAmJih0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucz1uZXcgdXIsdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXM9W10sdGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VBbm5vdGF0aW9ucz10aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5hbGwoKSl9LHQucHJvdG90eXBlLmluaXRDaGFuZ2VzPWZ1bmN0aW9uKCl7dGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXM9PT12b2lkIDAmJnRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlcz09PXZvaWQgMCYmKHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpKX0sdC5wcm90b3R5cGUuY3JlYXRlRmlsZT1mdW5jdGlvbihyLGksZSl7aWYodGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCksdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXM9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy4iKTt2YXIgbjtqZS5pcyhpKXx8WC5pcyhpKT9uPWk6ZT1pO3ZhciBhLHM7aWYobj09PXZvaWQgMD9hPUxlLmNyZWF0ZShyLGUpOihzPVguaXMobik/bjp0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5tYW5hZ2UobiksYT1MZS5jcmVhdGUocixlLHMpKSx0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcy5wdXNoKGEpLHMhPT12b2lkIDApcmV0dXJuIHN9LHQucHJvdG90eXBlLnJlbmFtZUZpbGU9ZnVuY3Rpb24ocixpLGUsbil7aWYodGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCksdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXM9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy4iKTt2YXIgYTtqZS5pcyhlKXx8WC5pcyhlKT9hPWU6bj1lO3ZhciBzLG87aWYoYT09PXZvaWQgMD9zPVZlLmNyZWF0ZShyLGksbik6KG89WC5pcyhhKT9hOnRoaXMuX2NoYW5nZUFubm90YXRpb25zLm1hbmFnZShhKSxzPVZlLmNyZWF0ZShyLGksbixvKSksdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMucHVzaChzKSxvIT09dm9pZCAwKXJldHVybiBvfSx0LnByb3RvdHlwZS5kZWxldGVGaWxlPWZ1bmN0aW9uKHIsaSxlKXtpZih0aGlzLmluaXREb2N1bWVudENoYW5nZXMoKSx0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcz09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIldvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBkb2N1bWVudCBjaGFuZ2VzLiIpO3ZhciBuO2plLmlzKGkpfHxYLmlzKGkpP249aTplPWk7dmFyIGEscztpZihuPT09dm9pZCAwP2E9RGUuY3JlYXRlKHIsZSk6KHM9WC5pcyhuKT9uOnRoaXMuX2NoYW5nZUFubm90YXRpb25zLm1hbmFnZShuKSxhPURlLmNyZWF0ZShyLGUscykpLHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2goYSkscyE9PXZvaWQgMClyZXR1cm4gc30sdH0oKTt2YXIgY3I7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7cmV0dXJue3VyaTplfX10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4geC5kZWZpbmVkKG4pJiZ4LnN0cmluZyhuLnVyaSl9dC5pcz1pfSkoY3J8fChjcj17fSkpO3ZhciBUdDsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3JldHVybnt1cmk6ZSx2ZXJzaW9uOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJnguc3RyaW5nKG4udXJpKSYmeC5pbnRlZ2VyKG4udmVyc2lvbil9dC5pcz1pfSkoVHR8fChUdD17fSkpO3ZhciBaZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3JldHVybnt1cmk6ZSx2ZXJzaW9uOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJnguc3RyaW5nKG4udXJpKSYmKG4udmVyc2lvbj09PW51bGx8fHguaW50ZWdlcihuLnZlcnNpb24pKX10LmlzPWl9KShaZXx8KFplPXt9KSk7dmFyIGxyOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhLHMpe3JldHVybnt1cmk6ZSxsYW5ndWFnZUlkOm4sdmVyc2lvbjphLHRleHQ6c319dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIHguZGVmaW5lZChuKSYmeC5zdHJpbmcobi51cmkpJiZ4LnN0cmluZyhuLmxhbmd1YWdlSWQpJiZ4LmludGVnZXIobi52ZXJzaW9uKSYmeC5zdHJpbmcobi50ZXh0KX10LmlzPWl9KShscnx8KGxyPXt9KSk7dmFyIGZlOyhmdW5jdGlvbih0KXt0LlBsYWluVGV4dD0icGxhaW50ZXh0Iix0Lk1hcmtkb3duPSJtYXJrZG93biJ9KShmZXx8KGZlPXt9KSk7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoaSl7dmFyIGU9aTtyZXR1cm4gZT09PXQuUGxhaW5UZXh0fHxlPT09dC5NYXJrZG93bn10LmlzPXJ9KShmZXx8KGZlPXt9KSk7dmFyIFFlOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGkpe3ZhciBlPWk7cmV0dXJuIHgub2JqZWN0TGl0ZXJhbChpKSYmZmUuaXMoZS5raW5kKSYmeC5zdHJpbmcoZS52YWx1ZSl9dC5pcz1yfSkoUWV8fChRZT17fSkpO3ZhciBROyhmdW5jdGlvbih0KXt0LlRleHQ9MSx0Lk1ldGhvZD0yLHQuRnVuY3Rpb249Myx0LkNvbnN0cnVjdG9yPTQsdC5GaWVsZD01LHQuVmFyaWFibGU9Nix0LkNsYXNzPTcsdC5JbnRlcmZhY2U9OCx0Lk1vZHVsZT05LHQuUHJvcGVydHk9MTAsdC5Vbml0PTExLHQuVmFsdWU9MTIsdC5FbnVtPTEzLHQuS2V5d29yZD0xNCx0LlNuaXBwZXQ9MTUsdC5Db2xvcj0xNix0LkZpbGU9MTcsdC5SZWZlcmVuY2U9MTgsdC5Gb2xkZXI9MTksdC5FbnVtTWVtYmVyPTIwLHQuQ29uc3RhbnQ9MjEsdC5TdHJ1Y3Q9MjIsdC5FdmVudD0yMyx0Lk9wZXJhdG9yPTI0LHQuVHlwZVBhcmFtZXRlcj0yNX0pKFF8fChRPXt9KSk7dmFyIHo7KGZ1bmN0aW9uKHQpe3QuUGxhaW5UZXh0PTEsdC5TbmlwcGV0PTJ9KSh6fHwoej17fSkpO3ZhciBrdDsoZnVuY3Rpb24odCl7dC5EZXByZWNhdGVkPTF9KShrdHx8KGt0PXt9KSk7dmFyIGhyOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhKXtyZXR1cm57bmV3VGV4dDplLGluc2VydDpuLHJlcGxhY2U6YX19dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIG4mJnguc3RyaW5nKG4ubmV3VGV4dCkmJlUuaXMobi5pbnNlcnQpJiZVLmlzKG4ucmVwbGFjZSl9dC5pcz1pfSkoaHJ8fChocj17fSkpO3ZhciBncjsoZnVuY3Rpb24odCl7dC5hc0lzPTEsdC5hZGp1c3RJbmRlbnRhdGlvbj0yfSkoZ3J8fChncj17fSkpO3ZhciAkZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihpKXtyZXR1cm57bGFiZWw6aX19dC5jcmVhdGU9cn0pKCRlfHwoJGU9e30pKTt2YXIgT3Q7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoaSxlKXtyZXR1cm57aXRlbXM6aXx8W10saXNJbmNvbXBsZXRlOiEhZX19dC5jcmVhdGU9cn0pKE90fHwoT3Q9e30pKTt2YXIgUmU7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUucmVwbGFjZSgvW1xcYCpfe31bXF0oKSMrXC0uIV0vZywiXFwkJiIpfXQuZnJvbVBsYWluVGV4dD1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4geC5zdHJpbmcobil8fHgub2JqZWN0TGl0ZXJhbChuKSYmeC5zdHJpbmcobi5sYW5ndWFnZSkmJnguc3RyaW5nKG4udmFsdWUpfXQuaXM9aX0pKFJlfHwoUmU9e30pKTt2YXIgQ3Q7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoaSl7dmFyIGU9aTtyZXR1cm4hIWUmJngub2JqZWN0TGl0ZXJhbChlKSYmKFFlLmlzKGUuY29udGVudHMpfHxSZS5pcyhlLmNvbnRlbnRzKXx8eC50eXBlZEFycmF5KGUuY29udGVudHMsUmUuaXMpKSYmKGkucmFuZ2U9PT12b2lkIDB8fFUuaXMoaS5yYW5nZSkpfXQuaXM9cn0pKEN0fHwoQ3Q9e30pKTt2YXIgZHI7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoaSxlKXtyZXR1cm4gZT97bGFiZWw6aSxkb2N1bWVudGF0aW9uOmV9OntsYWJlbDppfX10LmNyZWF0ZT1yfSkoZHJ8fChkcj17fSkpO3ZhciBwcjsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihpLGUpe2Zvcih2YXIgbj1bXSxhPTI7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyluW2EtMl09YXJndW1lbnRzW2FdO3ZhciBzPXtsYWJlbDppfTtyZXR1cm4geC5kZWZpbmVkKGUpJiYocy5kb2N1bWVudGF0aW9uPWUpLHguZGVmaW5lZChuKT9zLnBhcmFtZXRlcnM9bjpzLnBhcmFtZXRlcnM9W10sc310LmNyZWF0ZT1yfSkocHJ8fChwcj17fSkpO3ZhciBQdDsoZnVuY3Rpb24odCl7dC5UZXh0PTEsdC5SZWFkPTIsdC5Xcml0ZT0zfSkoUHR8fChQdD17fSkpO3ZhciBqdDsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihpLGUpe3ZhciBuPXtyYW5nZTppfTtyZXR1cm4geC5udW1iZXIoZSkmJihuLmtpbmQ9ZSksbn10LmNyZWF0ZT1yfSkoanR8fChqdD17fSkpO3ZhciBvZTsoZnVuY3Rpb24odCl7dC5GaWxlPTEsdC5Nb2R1bGU9Mix0Lk5hbWVzcGFjZT0zLHQuUGFja2FnZT00LHQuQ2xhc3M9NSx0Lk1ldGhvZD02LHQuUHJvcGVydHk9Nyx0LkZpZWxkPTgsdC5Db25zdHJ1Y3Rvcj05LHQuRW51bT0xMCx0LkludGVyZmFjZT0xMSx0LkZ1bmN0aW9uPTEyLHQuVmFyaWFibGU9MTMsdC5Db25zdGFudD0xNCx0LlN0cmluZz0xNSx0Lk51bWJlcj0xNix0LkJvb2xlYW49MTcsdC5BcnJheT0xOCx0Lk9iamVjdD0xOSx0LktleT0yMCx0Lk51bGw9MjEsdC5FbnVtTWVtYmVyPTIyLHQuU3RydWN0PTIzLHQuRXZlbnQ9MjQsdC5PcGVyYXRvcj0yNSx0LlR5cGVQYXJhbWV0ZXI9MjZ9KShvZXx8KG9lPXt9KSk7dmFyIG1yOyhmdW5jdGlvbih0KXt0LkRlcHJlY2F0ZWQ9MX0pKG1yfHwobXI9e30pKTt2YXIgRXQ7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoaSxlLG4sYSxzKXt2YXIgbz17bmFtZTppLGtpbmQ6ZSxsb2NhdGlvbjp7dXJpOmEscmFuZ2U6bn19O3JldHVybiBzJiYoby5jb250YWluZXJOYW1lPXMpLG99dC5jcmVhdGU9cn0pKEV0fHwoRXQ9e30pKTt2YXIgSXQ7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLGEscyxvLGYpe3ZhciBsPXtuYW1lOmUsZGV0YWlsOm4sa2luZDphLHJhbmdlOnMsc2VsZWN0aW9uUmFuZ2U6b307cmV0dXJuIGYhPT12b2lkIDAmJihsLmNoaWxkcmVuPWYpLGx9dC5jcmVhdGU9cjtmdW5jdGlvbiBpKGUpe3ZhciBuPWU7cmV0dXJuIG4mJnguc3RyaW5nKG4ubmFtZSkmJngubnVtYmVyKG4ua2luZCkmJlUuaXMobi5yYW5nZSkmJlUuaXMobi5zZWxlY3Rpb25SYW5nZSkmJihuLmRldGFpbD09PXZvaWQgMHx8eC5zdHJpbmcobi5kZXRhaWwpKSYmKG4uZGVwcmVjYXRlZD09PXZvaWQgMHx8eC5ib29sZWFuKG4uZGVwcmVjYXRlZCkpJiYobi5jaGlsZHJlbj09PXZvaWQgMHx8QXJyYXkuaXNBcnJheShuLmNoaWxkcmVuKSkmJihuLnRhZ3M9PT12b2lkIDB8fEFycmF5LmlzQXJyYXkobi50YWdzKSl9dC5pcz1pfSkoSXR8fChJdD17fSkpO3ZhciBOdDsoZnVuY3Rpb24odCl7dC5FbXB0eT0iIix0LlF1aWNrRml4PSJxdWlja2ZpeCIsdC5SZWZhY3Rvcj0icmVmYWN0b3IiLHQuUmVmYWN0b3JFeHRyYWN0PSJyZWZhY3Rvci5leHRyYWN0Iix0LlJlZmFjdG9ySW5saW5lPSJyZWZhY3Rvci5pbmxpbmUiLHQuUmVmYWN0b3JSZXdyaXRlPSJyZWZhY3Rvci5yZXdyaXRlIix0LlNvdXJjZT0ic291cmNlIix0LlNvdXJjZU9yZ2FuaXplSW1wb3J0cz0ic291cmNlLm9yZ2FuaXplSW1wb3J0cyIsdC5Tb3VyY2VGaXhBbGw9InNvdXJjZS5maXhBbGwifSkoTnR8fChOdD17fSkpO3ZhciBNdDsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBhPXtkaWFnbm9zdGljczplfTtyZXR1cm4gbiE9bnVsbCYmKGEub25seT1uKSxhfXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJngudHlwZWRBcnJheShuLmRpYWdub3N0aWNzLGFlLmlzKSYmKG4ub25seT09PXZvaWQgMHx8eC50eXBlZEFycmF5KG4ub25seSx4LnN0cmluZykpfXQuaXM9aX0pKE10fHwoTXQ9e30pKTt2YXIgRnQ7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLGEpe3ZhciBzPXt0aXRsZTplfSxvPSEwO3JldHVybiB0eXBlb2Ygbj09InN0cmluZyI/KG89ITEscy5raW5kPW4pOkVlLmlzKG4pP3MuY29tbWFuZD1uOnMuZWRpdD1uLG8mJmEhPT12b2lkIDAmJihzLmtpbmQ9YSksc310LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4gbiYmeC5zdHJpbmcobi50aXRsZSkmJihuLmRpYWdub3N0aWNzPT09dm9pZCAwfHx4LnR5cGVkQXJyYXkobi5kaWFnbm9zdGljcyxhZS5pcykpJiYobi5raW5kPT09dm9pZCAwfHx4LnN0cmluZyhuLmtpbmQpKSYmKG4uZWRpdCE9PXZvaWQgMHx8bi5jb21tYW5kIT09dm9pZCAwKSYmKG4uY29tbWFuZD09PXZvaWQgMHx8RWUuaXMobi5jb21tYW5kKSkmJihuLmlzUHJlZmVycmVkPT09dm9pZCAwfHx4LmJvb2xlYW4obi5pc1ByZWZlcnJlZCkpJiYobi5lZGl0PT09dm9pZCAwfHxYZS5pcyhuLmVkaXQpKX10LmlzPWl9KShGdHx8KEZ0PXt9KSk7dmFyIHZyOyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIGE9e3JhbmdlOmV9O3JldHVybiB4LmRlZmluZWQobikmJihhLmRhdGE9biksYX10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4geC5kZWZpbmVkKG4pJiZVLmlzKG4ucmFuZ2UpJiYoeC51bmRlZmluZWQobi5jb21tYW5kKXx8RWUuaXMobi5jb21tYW5kKSl9dC5pcz1pfSkodnJ8fCh2cj17fSkpO3ZhciB5cjsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3JldHVybnt0YWJTaXplOmUsaW5zZXJ0U3BhY2VzOm59fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJngudWludGVnZXIobi50YWJTaXplKSYmeC5ib29sZWFuKG4uaW5zZXJ0U3BhY2VzKX10LmlzPWl9KSh5cnx8KHlyPXt9KSk7dmFyIEx0OyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixhKXtyZXR1cm57cmFuZ2U6ZSx0YXJnZXQ6bixkYXRhOmF9fXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShlKXt2YXIgbj1lO3JldHVybiB4LmRlZmluZWQobikmJlUuaXMobi5yYW5nZSkmJih4LnVuZGVmaW5lZChuLnRhcmdldCl8fHguc3RyaW5nKG4udGFyZ2V0KSl9dC5pcz1pfSkoTHR8fChMdD17fSkpO3ZhciBJZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3JldHVybntyYW5nZTplLHBhcmVudDpufX10LmNyZWF0ZT1yO2Z1bmN0aW9uIGkoZSl7dmFyIG49ZTtyZXR1cm4gbiE9PXZvaWQgMCYmVS5pcyhuLnJhbmdlKSYmKG4ucGFyZW50PT09dm9pZCAwfHx0LmlzKG4ucGFyZW50KSl9dC5pcz1pfSkoSWV8fChJZT17fSkpO3ZhciBicjsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihhLHMsbyxmKXtyZXR1cm4gbmV3IGNuKGEscyxvLGYpfXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShhKXt2YXIgcz1hO3JldHVybiEhKHguZGVmaW5lZChzKSYmeC5zdHJpbmcocy51cmkpJiYoeC51bmRlZmluZWQocy5sYW5ndWFnZUlkKXx8eC5zdHJpbmcocy5sYW5ndWFnZUlkKSkmJngudWludGVnZXIocy5saW5lQ291bnQpJiZ4LmZ1bmMocy5nZXRUZXh0KSYmeC5mdW5jKHMucG9zaXRpb25BdCkmJnguZnVuYyhzLm9mZnNldEF0KSl9dC5pcz1pO2Z1bmN0aW9uIGUoYSxzKXtmb3IodmFyIG89YS5nZXRUZXh0KCksZj1uKHMsZnVuY3Rpb24obSxwKXt2YXIgZz1tLnJhbmdlLnN0YXJ0LmxpbmUtcC5yYW5nZS5zdGFydC5saW5lO3JldHVybiBnPT09MD9tLnJhbmdlLnN0YXJ0LmNoYXJhY3Rlci1wLnJhbmdlLnN0YXJ0LmNoYXJhY3RlcjpnfSksbD1vLmxlbmd0aCx1PWYubGVuZ3RoLTE7dT49MDt1LS0pe3ZhciBjPWZbdV0saD1hLm9mZnNldEF0KGMucmFuZ2Uuc3RhcnQpLGQ9YS5vZmZzZXRBdChjLnJhbmdlLmVuZCk7aWYoZDw9bClvPW8uc3Vic3RyaW5nKDAsaCkrYy5uZXdUZXh0K28uc3Vic3RyaW5nKGQsby5sZW5ndGgpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJPdmVybGFwcGluZyBlZGl0Iik7bD1ofXJldHVybiBvfXQuYXBwbHlFZGl0cz1lO2Z1bmN0aW9uIG4oYSxzKXtpZihhLmxlbmd0aDw9MSlyZXR1cm4gYTt2YXIgbz1hLmxlbmd0aC8yfDAsZj1hLnNsaWNlKDAsbyksbD1hLnNsaWNlKG8pO24oZixzKSxuKGwscyk7Zm9yKHZhciB1PTAsYz0wLGg9MDt1PGYubGVuZ3RoJiZjPGwubGVuZ3RoOyl7dmFyIGQ9cyhmW3VdLGxbY10pO2Q8PTA/YVtoKytdPWZbdSsrXTphW2grK109bFtjKytdfWZvcig7dTxmLmxlbmd0aDspYVtoKytdPWZbdSsrXTtmb3IoO2M8bC5sZW5ndGg7KWFbaCsrXT1sW2MrK107cmV0dXJuIGF9fSkoYnJ8fChicj17fSkpO3ZhciBjbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocixpLGUsbil7dGhpcy5fdXJpPXIsdGhpcy5fbGFuZ3VhZ2VJZD1pLHRoaXMuX3ZlcnNpb249ZSx0aGlzLl9jb250ZW50PW4sdGhpcy5fbGluZU9mZnNldHM9dm9pZCAwfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInVyaSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cml9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJsYW5ndWFnZUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhbmd1YWdlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJ2ZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihyKXtpZihyKXt2YXIgaT10aGlzLm9mZnNldEF0KHIuc3RhcnQpLGU9dGhpcy5vZmZzZXRBdChyLmVuZCk7cmV0dXJuIHRoaXMuX2NvbnRlbnQuc3Vic3RyaW5nKGksZSl9cmV0dXJuIHRoaXMuX2NvbnRlbnR9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihyLGkpe3RoaXMuX2NvbnRlbnQ9ci50ZXh0LHRoaXMuX3ZlcnNpb249aSx0aGlzLl9saW5lT2Zmc2V0cz12b2lkIDB9LHQucHJvdG90eXBlLmdldExpbmVPZmZzZXRzPWZ1bmN0aW9uKCl7aWYodGhpcy5fbGluZU9mZnNldHM9PT12b2lkIDApe2Zvcih2YXIgcj1bXSxpPXRoaXMuX2NvbnRlbnQsZT0hMCxuPTA7bjxpLmxlbmd0aDtuKyspe2UmJihyLnB1c2gobiksZT0hMSk7dmFyIGE9aS5jaGFyQXQobik7ZT1hPT09IlxyInx8YT09PWAKYCxhPT09IlxyIiYmbisxPGkubGVuZ3RoJiZpLmNoYXJBdChuKzEpPT09YApgJiZuKyt9ZSYmaS5sZW5ndGg+MCYmci5wdXNoKGkubGVuZ3RoKSx0aGlzLl9saW5lT2Zmc2V0cz1yfXJldHVybiB0aGlzLl9saW5lT2Zmc2V0c30sdC5wcm90b3R5cGUucG9zaXRpb25BdD1mdW5jdGlvbihyKXtyPU1hdGgubWF4KE1hdGgubWluKHIsdGhpcy5fY29udGVudC5sZW5ndGgpLDApO3ZhciBpPXRoaXMuZ2V0TGluZU9mZnNldHMoKSxlPTAsbj1pLmxlbmd0aDtpZihuPT09MClyZXR1cm4gcmUuY3JlYXRlKDAscik7Zm9yKDtlPG47KXt2YXIgYT1NYXRoLmZsb29yKChlK24pLzIpO2lbYV0+cj9uPWE6ZT1hKzF9dmFyIHM9ZS0xO3JldHVybiByZS5jcmVhdGUocyxyLWlbc10pfSx0LnByb3RvdHlwZS5vZmZzZXRBdD1mdW5jdGlvbihyKXt2YXIgaT10aGlzLmdldExpbmVPZmZzZXRzKCk7aWYoci5saW5lPj1pLmxlbmd0aClyZXR1cm4gdGhpcy5fY29udGVudC5sZW5ndGg7aWYoci5saW5lPDApcmV0dXJuIDA7dmFyIGU9aVtyLmxpbmVdLG49ci5saW5lKzE8aS5sZW5ndGg/aVtyLmxpbmUrMV06dGhpcy5fY29udGVudC5sZW5ndGg7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGUrci5jaGFyYWN0ZXIsbiksZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibGluZUNvdW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGluZU9mZnNldHMoKS5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdH0oKSx4OyhmdW5jdGlvbih0KXt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIGkoZCl7cmV0dXJuIHR5cGVvZiBkPCJ1In10LmRlZmluZWQ9aTtmdW5jdGlvbiBlKGQpe3JldHVybiB0eXBlb2YgZD4idSJ9dC51bmRlZmluZWQ9ZTtmdW5jdGlvbiBuKGQpe3JldHVybiBkPT09ITB8fGQ9PT0hMX10LmJvb2xlYW49bjtmdW5jdGlvbiBhKGQpe3JldHVybiByLmNhbGwoZCk9PT0iW29iamVjdCBTdHJpbmddIn10LnN0cmluZz1hO2Z1bmN0aW9uIHMoZCl7cmV0dXJuIHIuY2FsbChkKT09PSJbb2JqZWN0IE51bWJlcl0ifXQubnVtYmVyPXM7ZnVuY3Rpb24gbyhkLG0scCl7cmV0dXJuIHIuY2FsbChkKT09PSJbb2JqZWN0IE51bWJlcl0iJiZtPD1kJiZkPD1wfXQubnVtYmVyUmFuZ2U9bztmdW5jdGlvbiBmKGQpe3JldHVybiByLmNhbGwoZCk9PT0iW29iamVjdCBOdW1iZXJdIiYmLTIxNDc0ODM2NDg8PWQmJmQ8PTIxNDc0ODM2NDd9dC5pbnRlZ2VyPWY7ZnVuY3Rpb24gbChkKXtyZXR1cm4gci5jYWxsKGQpPT09IltvYmplY3QgTnVtYmVyXSImJjA8PWQmJmQ8PTIxNDc0ODM2NDd9dC51aW50ZWdlcj1sO2Z1bmN0aW9uIHUoZCl7cmV0dXJuIHIuY2FsbChkKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSJ9dC5mdW5jPXU7ZnVuY3Rpb24gYyhkKXtyZXR1cm4gZCE9PW51bGwmJnR5cGVvZiBkPT0ib2JqZWN0In10Lm9iamVjdExpdGVyYWw9YztmdW5jdGlvbiBoKGQsbSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZCkmJmQuZXZlcnkobSl9dC50eXBlZEFycmF5PWh9KSh4fHwoeD17fSkpO3ZhciBZZT1jbGFzcyB0e2NvbnN0cnVjdG9yKHIsaSxlLG4pe3RoaXMuX3VyaT1yLHRoaXMuX2xhbmd1YWdlSWQ9aSx0aGlzLl92ZXJzaW9uPWUsdGhpcy5fY29udGVudD1uLHRoaXMuX2xpbmVPZmZzZXRzPXZvaWQgMH1nZXQgdXJpKCl7cmV0dXJuIHRoaXMuX3VyaX1nZXQgbGFuZ3VhZ2VJZCgpe3JldHVybiB0aGlzLl9sYW5ndWFnZUlkfWdldCB2ZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259Z2V0VGV4dChyKXtpZihyKXtsZXQgaT10aGlzLm9mZnNldEF0KHIuc3RhcnQpLGU9dGhpcy5vZmZzZXRBdChyLmVuZCk7cmV0dXJuIHRoaXMuX2NvbnRlbnQuc3Vic3RyaW5nKGksZSl9cmV0dXJuIHRoaXMuX2NvbnRlbnR9dXBkYXRlKHIsaSl7Zm9yKGxldCBlIG9mIHIpaWYodC5pc0luY3JlbWVudGFsKGUpKXtsZXQgbj1TcihlLnJhbmdlKSxhPXRoaXMub2Zmc2V0QXQobi5zdGFydCkscz10aGlzLm9mZnNldEF0KG4uZW5kKTt0aGlzLl9jb250ZW50PXRoaXMuX2NvbnRlbnQuc3Vic3RyaW5nKDAsYSkrZS50ZXh0K3RoaXMuX2NvbnRlbnQuc3Vic3RyaW5nKHMsdGhpcy5fY29udGVudC5sZW5ndGgpO2xldCBvPU1hdGgubWF4KG4uc3RhcnQubGluZSwwKSxmPU1hdGgubWF4KG4uZW5kLmxpbmUsMCksbD10aGlzLl9saW5lT2Zmc2V0cyx1PXhyKGUudGV4dCwhMSxhKTtpZihmLW89PT11Lmxlbmd0aClmb3IobGV0IGg9MCxkPXUubGVuZ3RoO2g8ZDtoKyspbFtoK28rMV09dVtoXTtlbHNlIHUubGVuZ3RoPDFlND9sLnNwbGljZShvKzEsZi1vLC4uLnUpOnRoaXMuX2xpbmVPZmZzZXRzPWw9bC5zbGljZSgwLG8rMSkuY29uY2F0KHUsbC5zbGljZShmKzEpKTtsZXQgYz1lLnRleHQubGVuZ3RoLShzLWEpO2lmKGMhPT0wKWZvcihsZXQgaD1vKzErdS5sZW5ndGgsZD1sLmxlbmd0aDtoPGQ7aCsrKWxbaF09bFtoXStjfWVsc2UgaWYodC5pc0Z1bGwoZSkpdGhpcy5fY29udGVudD1lLnRleHQsdGhpcy5fbGluZU9mZnNldHM9dm9pZCAwO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNoYW5nZSBldmVudCByZWNlaXZlZCIpO3RoaXMuX3ZlcnNpb249aX1nZXRMaW5lT2Zmc2V0cygpe3JldHVybiB0aGlzLl9saW5lT2Zmc2V0cz09PXZvaWQgMCYmKHRoaXMuX2xpbmVPZmZzZXRzPXhyKHRoaXMuX2NvbnRlbnQsITApKSx0aGlzLl9saW5lT2Zmc2V0c31wb3NpdGlvbkF0KHIpe3I9TWF0aC5tYXgoTWF0aC5taW4ocix0aGlzLl9jb250ZW50Lmxlbmd0aCksMCk7bGV0IGk9dGhpcy5nZXRMaW5lT2Zmc2V0cygpLGU9MCxuPWkubGVuZ3RoO2lmKG49PT0wKXJldHVybntsaW5lOjAsY2hhcmFjdGVyOnJ9O2Zvcig7ZTxuOyl7bGV0IHM9TWF0aC5mbG9vcigoZStuKS8yKTtpW3NdPnI/bj1zOmU9cysxfWxldCBhPWUtMTtyZXR1cm57bGluZTphLGNoYXJhY3RlcjpyLWlbYV19fW9mZnNldEF0KHIpe2xldCBpPXRoaXMuZ2V0TGluZU9mZnNldHMoKTtpZihyLmxpbmU+PWkubGVuZ3RoKXJldHVybiB0aGlzLl9jb250ZW50Lmxlbmd0aDtpZihyLmxpbmU8MClyZXR1cm4gMDtsZXQgZT1pW3IubGluZV0sbj1yLmxpbmUrMTxpLmxlbmd0aD9pW3IubGluZSsxXTp0aGlzLl9jb250ZW50Lmxlbmd0aDtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oZStyLmNoYXJhY3RlcixuKSxlKX1nZXQgbGluZUNvdW50KCl7cmV0dXJuIHRoaXMuZ2V0TGluZU9mZnNldHMoKS5sZW5ndGh9c3RhdGljIGlzSW5jcmVtZW50YWwocil7bGV0IGk9cjtyZXR1cm4gaSE9bnVsbCYmdHlwZW9mIGkudGV4dD09InN0cmluZyImJmkucmFuZ2UhPT12b2lkIDAmJihpLnJhbmdlTGVuZ3RoPT09dm9pZCAwfHx0eXBlb2YgaS5yYW5nZUxlbmd0aD09Im51bWJlciIpfXN0YXRpYyBpc0Z1bGwocil7bGV0IGk9cjtyZXR1cm4gaSE9bnVsbCYmdHlwZW9mIGkudGV4dD09InN0cmluZyImJmkucmFuZ2U9PT12b2lkIDAmJmkucmFuZ2VMZW5ndGg9PT12b2lkIDB9fSxVZTsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihuLGEscyxvKXtyZXR1cm4gbmV3IFllKG4sYSxzLG8pfXQuY3JlYXRlPXI7ZnVuY3Rpb24gaShuLGEscyl7aWYobiBpbnN0YW5jZW9mIFllKXJldHVybiBuLnVwZGF0ZShhLHMpLG47dGhyb3cgbmV3IEVycm9yKCJUZXh0RG9jdW1lbnQudXBkYXRlOiBkb2N1bWVudCBtdXN0IGJlIGNyZWF0ZWQgYnkgVGV4dERvY3VtZW50LmNyZWF0ZSIpfXQudXBkYXRlPWk7ZnVuY3Rpb24gZShuLGEpe2xldCBzPW4uZ2V0VGV4dCgpLG89VnQoYS5tYXAobG4pLCh1LGMpPT57bGV0IGg9dS5yYW5nZS5zdGFydC5saW5lLWMucmFuZ2Uuc3RhcnQubGluZTtyZXR1cm4gaD09PTA/dS5yYW5nZS5zdGFydC5jaGFyYWN0ZXItYy5yYW5nZS5zdGFydC5jaGFyYWN0ZXI6aH0pLGY9MCxsPVtdO2ZvcihsZXQgdSBvZiBvKXtsZXQgYz1uLm9mZnNldEF0KHUucmFuZ2Uuc3RhcnQpO2lmKGM8Zil0aHJvdyBuZXcgRXJyb3IoIk92ZXJsYXBwaW5nIGVkaXQiKTtjPmYmJmwucHVzaChzLnN1YnN0cmluZyhmLGMpKSx1Lm5ld1RleHQubGVuZ3RoJiZsLnB1c2godS5uZXdUZXh0KSxmPW4ub2Zmc2V0QXQodS5yYW5nZS5lbmQpfXJldHVybiBsLnB1c2gocy5zdWJzdHIoZikpLGwuam9pbigiIil9dC5hcHBseUVkaXRzPWV9KShVZXx8KFVlPXt9KSk7ZnVuY3Rpb24gVnQodCxyKXtpZih0Lmxlbmd0aDw9MSlyZXR1cm4gdDtsZXQgaT10Lmxlbmd0aC8yfDAsZT10LnNsaWNlKDAsaSksbj10LnNsaWNlKGkpO1Z0KGUsciksVnQobixyKTtsZXQgYT0wLHM9MCxvPTA7Zm9yKDthPGUubGVuZ3RoJiZzPG4ubGVuZ3RoOylyKGVbYV0sbltzXSk8PTA/dFtvKytdPWVbYSsrXTp0W28rK109bltzKytdO2Zvcig7YTxlLmxlbmd0aDspdFtvKytdPWVbYSsrXTtmb3IoO3M8bi5sZW5ndGg7KXRbbysrXT1uW3MrK107cmV0dXJuIHR9ZnVuY3Rpb24geHIodCxyLGk9MCl7bGV0IGU9cj9baV06W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2xldCBhPXQuY2hhckNvZGVBdChuKTsoYT09PTEzfHxhPT09MTApJiYoYT09PTEzJiZuKzE8dC5sZW5ndGgmJnQuY2hhckNvZGVBdChuKzEpPT09MTAmJm4rKyxlLnB1c2goaStuKzEpKX1yZXR1cm4gZX1mdW5jdGlvbiBTcih0KXtsZXQgcj10LnN0YXJ0LGk9dC5lbmQ7cmV0dXJuIHIubGluZT5pLmxpbmV8fHIubGluZT09PWkubGluZSYmci5jaGFyYWN0ZXI+aS5jaGFyYWN0ZXI/e3N0YXJ0OmksZW5kOnJ9OnR9ZnVuY3Rpb24gbG4odCl7bGV0IHI9U3IodC5yYW5nZSk7cmV0dXJuIHIhPT10LnJhbmdlP3tuZXdUZXh0OnQubmV3VGV4dCxyYW5nZTpyfTp0fXZhciBXOyhmdW5jdGlvbih0KXt0W3QuVW5kZWZpbmVkPTBdPSJVbmRlZmluZWQiLHRbdC5FbnVtVmFsdWVNaXNtYXRjaD0xXT0iRW51bVZhbHVlTWlzbWF0Y2giLHRbdC5EZXByZWNhdGVkPTJdPSJEZXByZWNhdGVkIix0W3QuVW5leHBlY3RlZEVuZE9mQ29tbWVudD0yNTddPSJVbmV4cGVjdGVkRW5kT2ZDb21tZW50Iix0W3QuVW5leHBlY3RlZEVuZE9mU3RyaW5nPTI1OF09IlVuZXhwZWN0ZWRFbmRPZlN0cmluZyIsdFt0LlVuZXhwZWN0ZWRFbmRPZk51bWJlcj0yNTldPSJVbmV4cGVjdGVkRW5kT2ZOdW1iZXIiLHRbdC5JbnZhbGlkVW5pY29kZT0yNjBdPSJJbnZhbGlkVW5pY29kZSIsdFt0LkludmFsaWRFc2NhcGVDaGFyYWN0ZXI9MjYxXT0iSW52YWxpZEVzY2FwZUNoYXJhY3RlciIsdFt0LkludmFsaWRDaGFyYWN0ZXI9MjYyXT0iSW52YWxpZENoYXJhY3RlciIsdFt0LlByb3BlcnR5RXhwZWN0ZWQ9NTEzXT0iUHJvcGVydHlFeHBlY3RlZCIsdFt0LkNvbW1hRXhwZWN0ZWQ9NTE0XT0iQ29tbWFFeHBlY3RlZCIsdFt0LkNvbG9uRXhwZWN0ZWQ9NTE1XT0iQ29sb25FeHBlY3RlZCIsdFt0LlZhbHVlRXhwZWN0ZWQ9NTE2XT0iVmFsdWVFeHBlY3RlZCIsdFt0LkNvbW1hT3JDbG9zZUJhY2tldEV4cGVjdGVkPTUxN109IkNvbW1hT3JDbG9zZUJhY2tldEV4cGVjdGVkIix0W3QuQ29tbWFPckNsb3NlQnJhY2VFeHBlY3RlZD01MThdPSJDb21tYU9yQ2xvc2VCcmFjZUV4cGVjdGVkIix0W3QuVHJhaWxpbmdDb21tYT01MTldPSJUcmFpbGluZ0NvbW1hIix0W3QuRHVwbGljYXRlS2V5PTUyMF09IkR1cGxpY2F0ZUtleSIsdFt0LkNvbW1lbnROb3RQZXJtaXR0ZWQ9NTIxXT0iQ29tbWVudE5vdFBlcm1pdHRlZCIsdFt0LlNjaGVtYVJlc29sdmVFcnJvcj03NjhdPSJTY2hlbWFSZXNvbHZlRXJyb3IifSkoV3x8KFc9e30pKTt2YXIgS2U7KGZ1bmN0aW9uKHQpe3QuTEFURVNUPXt0ZXh0RG9jdW1lbnQ6e2NvbXBsZXRpb246e2NvbXBsZXRpb25JdGVtOntkb2N1bWVudGF0aW9uRm9ybWF0OltmZS5NYXJrZG93bixmZS5QbGFpblRleHRdLGNvbW1pdENoYXJhY3RlcnNTdXBwb3J0OiEwfX19fX0pKEtlfHwoS2U9e30pKTtmdW5jdGlvbiBobih0LHIpe2xldCBpO3JldHVybiByLmxlbmd0aD09PTA/aT10Omk9dC5yZXBsYWNlKC9ceyhcZCspXH0vZywoZSxuKT0+e2xldCBhPW5bMF07cmV0dXJuIHR5cGVvZiByW2FdPCJ1Ij9yW2FdOmV9KSxpfWZ1bmN0aW9uIGduKHQsciwuLi5pKXtyZXR1cm4gaG4ocixpKX1mdW5jdGlvbiBoZSh0KXtyZXR1cm4gZ259dmFyIHdlPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24ocixpKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSxuKXtlLl9fcHJvdG9fXz1ufXx8ZnVuY3Rpb24oZSxuKXtmb3IodmFyIGEgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixhKSYmKGVbYV09blthXSl9LHQocixpKX07cmV0dXJuIGZ1bmN0aW9uKHIsaSl7aWYodHlwZW9mIGkhPSJmdW5jdGlvbiImJmkhPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcoaSkrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7dChyLGkpO2Z1bmN0aW9uIGUoKXt0aGlzLmNvbnN0cnVjdG9yPXJ9ci5wcm90b3R5cGU9aT09PW51bGw/T2JqZWN0LmNyZWF0ZShpKTooZS5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IGUpfX0oKSxNPWhlKCksZG49eyJjb2xvci1oZXgiOntlcnJvck1lc3NhZ2U6TSgiY29sb3JIZXhGb3JtYXRXYXJuaW5nIiwiSW52YWxpZCBjb2xvciBmb3JtYXQuIFVzZSAjUkdCLCAjUkdCQSwgI1JSR0dCQiBvciAjUlJHR0JCQUEuIikscGF0dGVybjovXiMoWzAtOUEtRmEtZl17Myw0fXwoWzAtOUEtRmEtZl17Mn0pezMsNH0pJC99LCJkYXRlLXRpbWUiOntlcnJvck1lc3NhZ2U6TSgiZGF0ZVRpbWVGb3JtYXRXYXJuaW5nIiwiU3RyaW5nIGlzIG5vdCBhIFJGQzMzMzkgZGF0ZS10aW1lLiIpLHBhdHRlcm46L14oXGR7NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSlUKFswMV1bMC05XXwyWzAtM10pOihbMC01XVswLTldKTooWzAtNV1bMC05XXw2MCkoXC5bMC05XSspPyhafChcK3wtKShbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSkpJC9pfSxkYXRlOntlcnJvck1lc3NhZ2U6TSgiZGF0ZUZvcm1hdFdhcm5pbmciLCJTdHJpbmcgaXMgbm90IGEgUkZDMzMzOSBkYXRlLiIpLHBhdHRlcm46L14oXGR7NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSkkL2l9LHRpbWU6e2Vycm9yTWVzc2FnZTpNKCJ0aW1lRm9ybWF0V2FybmluZyIsIlN0cmluZyBpcyBub3QgYSBSRkMzMzM5IHRpbWUuIikscGF0dGVybjovXihbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSk6KFswLTVdWzAtOV18NjApKFwuWzAtOV0rKT8oWnwoXCt8LSkoWzAxXVswLTldfDJbMC0zXSk6KFswLTVdWzAtOV0pKSQvaX0sZW1haWw6e2Vycm9yTWVzc2FnZTpNKCJlbWFpbEZvcm1hdFdhcm5pbmciLCJTdHJpbmcgaXMgbm90IGFuIGUtbWFpbCBhZGRyZXNzLiIpLHBhdHRlcm46L14oKFtePD4oKVxbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClcW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31dKXwoKFthLXpBLVowLTktXStcLikrW2EtekEtWl17Mix9KSkkL30saG9zdG5hbWU6e2Vycm9yTWVzc2FnZTpNKCJob3N0bmFtZUZvcm1hdFdhcm5pbmciLCJTdHJpbmcgaXMgbm90IGEgaG9zdG5hbWUuIikscGF0dGVybjovXig/PS57MSwyNTN9XC4/JClbYS16MC05XSg/OlthLXowLTktXXswLDYxfVthLXowLTldKT8oPzpcLlthLXowLTldKD86Wy0wLTlhLXpdezAsNjF9WzAtOWEtel0pPykqXC4/JC9pfSxpcHY0OntlcnJvck1lc3NhZ2U6TSgiaXB2NEZvcm1hdFdhcm5pbmciLCJTdHJpbmcgaXMgbm90IGFuIElQdjQgYWRkcmVzcy4iKSxwYXR0ZXJuOi9eKD86KD86MjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZClcLil7M30oPzoyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSQvfSxpcHY2OntlcnJvck1lc3NhZ2U6TSgiaXB2NkZvcm1hdFdhcm5pbmciLCJTdHJpbmcgaXMgbm90IGFuIElQdjYgYWRkcmVzcy4iKSxwYXR0ZXJuOi9eKCgoWzAtOWEtZl17MSw0fTopezd9KFswLTlhLWZdezEsNH18OikpfCgoWzAtOWEtZl17MSw0fTopezZ9KDpbMC05YS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05YS1mXXsxLDR9Oil7NX0oKCg6WzAtOWEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KXw6KSl8KChbMC05YS1mXXsxLDR9Oil7NH0oKCg6WzAtOWEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOWEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCgoWzAtOWEtZl17MSw0fTopezN9KCgoOlswLTlhLWZdezEsNH0pezEsNH0pfCgoOlswLTlhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSl8KChbMC05YS1mXXsxLDR9Oil7Mn0oKCg6WzAtOWEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOWEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKFwuKDI1WzAtNV18MlswLTRdXGR8MVxkXGR8WzEtOV0/XGQpKXszfSkpfDopKXwoKFswLTlhLWZdezEsNH06KXsxfSgoKDpbMC05YS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05YS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkoXC4oMjVbMC01XXwyWzAtNF1cZHwxXGRcZHxbMS05XT9cZCkpezN9KSl8OikpfCg6KCgoOlswLTlhLWZdezEsNH0pezEsN30pfCgoOlswLTlhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKShcLigyNVswLTVdfDJbMC00XVxkfDFcZFxkfFsxLTldP1xkKSl7M30pKXw6KSkpJC9pfX0sVGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsaSxlKXtlPT09dm9pZCAwJiYoZT0wKSx0aGlzLm9mZnNldD1pLHRoaXMubGVuZ3RoPWUsdGhpcy5wYXJlbnQ9cn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjaGlsZHJlbiIse2dldDpmdW5jdGlvbigpe3JldHVybltdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuInR5cGU6ICIrdGhpcy50eXBlKyIgKCIrdGhpcy5vZmZzZXQrIi8iK3RoaXMubGVuZ3RoKyIpIisodGhpcy5wYXJlbnQ/IiBwYXJlbnQ6IHsiK3RoaXMucGFyZW50LnRvU3RyaW5nKCkrIn0iOiIiKX0sdH0oKTt2YXIgcG49ZnVuY3Rpb24odCl7d2Uocix0KTtmdW5jdGlvbiByKGksZSl7dmFyIG49dC5jYWxsKHRoaXMsaSxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJudWxsIixuLnZhbHVlPW51bGwsbn1yZXR1cm4gcn0oVGUpO3ZhciBBcj1mdW5jdGlvbih0KXt3ZShyLHQpO2Z1bmN0aW9uIHIoaSxlLG4pe3ZhciBhPXQuY2FsbCh0aGlzLGksbil8fHRoaXM7cmV0dXJuIGEudHlwZT0iYm9vbGVhbiIsYS52YWx1ZT1lLGF9cmV0dXJuIHJ9KFRlKTt2YXIgbW49ZnVuY3Rpb24odCl7d2Uocix0KTtmdW5jdGlvbiByKGksZSl7dmFyIG49dC5jYWxsKHRoaXMsaSxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJhcnJheSIsbi5pdGVtcz1bXSxufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsImNoaWxkcmVuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscn0oVGUpO3ZhciB2bj1mdW5jdGlvbih0KXt3ZShyLHQpO2Z1bmN0aW9uIHIoaSxlKXt2YXIgbj10LmNhbGwodGhpcyxpLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9Im51bWJlciIsbi5pc0ludGVnZXI9ITAsbi52YWx1ZT1OdW1iZXIuTmFOLG59cmV0dXJuIHJ9KFRlKTt2YXIgRHQ9ZnVuY3Rpb24odCl7d2Uocix0KTtmdW5jdGlvbiByKGksZSxuKXt2YXIgYT10LmNhbGwodGhpcyxpLGUsbil8fHRoaXM7cmV0dXJuIGEudHlwZT0ic3RyaW5nIixhLnZhbHVlPSIiLGF9cmV0dXJuIHJ9KFRlKTt2YXIgeW49ZnVuY3Rpb24odCl7d2Uocix0KTtmdW5jdGlvbiByKGksZSxuKXt2YXIgYT10LmNhbGwodGhpcyxpLGUpfHx0aGlzO3JldHVybiBhLnR5cGU9InByb3BlcnR5IixhLmNvbG9uT2Zmc2V0PS0xLGEua2V5Tm9kZT1uLGF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSwiY2hpbGRyZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU5vZGU/W3RoaXMua2V5Tm9kZSx0aGlzLnZhbHVlTm9kZV06W3RoaXMua2V5Tm9kZV19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscn0oVGUpO3ZhciBibj1mdW5jdGlvbih0KXt3ZShyLHQpO2Z1bmN0aW9uIHIoaSxlKXt2YXIgbj10LmNhbGwodGhpcyxpLGUpfHx0aGlzO3JldHVybiBuLnR5cGU9Im9iamVjdCIsbi5wcm9wZXJ0aWVzPVtdLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSwiY2hpbGRyZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHJ9KFRlKTtmdW5jdGlvbiBLKHQpe3JldHVybiBpZSh0KT90P3t9Ontub3Q6e319OnR9dmFyIHdyOyhmdW5jdGlvbih0KXt0W3QuS2V5PTBdPSJLZXkiLHRbdC5FbnVtPTFdPSJFbnVtIn0pKHdyfHwod3I9e30pKTt2YXIgeG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsaSl7cj09PXZvaWQgMCYmKHI9LTEpLHRoaXMuZm9jdXNPZmZzZXQ9cix0aGlzLmV4Y2x1ZGU9aSx0aGlzLnNjaGVtYXM9W119cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihyKXt0aGlzLnNjaGVtYXMucHVzaChyKX0sdC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24ocil7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5zY2hlbWFzLHIuc2NoZW1hcyl9LHQucHJvdG90eXBlLmluY2x1ZGU9ZnVuY3Rpb24ocil7cmV0dXJuKHRoaXMuZm9jdXNPZmZzZXQ9PT0tMXx8UnQocix0aGlzLmZvY3VzT2Zmc2V0KSkmJnIhPT10aGlzLmV4Y2x1ZGV9LHQucHJvdG90eXBlLm5ld1N1Yj1mdW5jdGlvbigpe3JldHVybiBuZXcgdCgtMSx0aGlzLmV4Y2x1ZGUpfSx0fSgpLCR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzY2hlbWFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuW119LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHIpe30sdC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24ocil7fSx0LnByb3RvdHlwZS5pbmNsdWRlPWZ1bmN0aW9uKHIpe3JldHVybiEwfSx0LnByb3RvdHlwZS5uZXdTdWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5pbnN0YW5jZT1uZXcgdCx0fSgpLHRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucHJvYmxlbXM9W10sdGhpcy5wcm9wZXJ0aWVzTWF0Y2hlcz0wLHRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcz0wLHRoaXMucHJpbWFyeVZhbHVlTWF0Y2hlcz0wLHRoaXMuZW51bVZhbHVlTWF0Y2g9ITEsdGhpcy5lbnVtVmFsdWVzPXZvaWQgMH1yZXR1cm4gdC5wcm90b3R5cGUuaGFzUHJvYmxlbXM9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucHJvYmxlbXMubGVuZ3RofSx0LnByb3RvdHlwZS5tZXJnZUFsbD1mdW5jdGlvbihyKXtmb3IodmFyIGk9MCxlPXI7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07dGhpcy5tZXJnZShuKX19LHQucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHIpe3RoaXMucHJvYmxlbXM9dGhpcy5wcm9ibGVtcy5jb25jYXQoci5wcm9ibGVtcyl9LHQucHJvdG90eXBlLm1lcmdlRW51bVZhbHVlcz1mdW5jdGlvbihyKXtpZighdGhpcy5lbnVtVmFsdWVNYXRjaCYmIXIuZW51bVZhbHVlTWF0Y2gmJnRoaXMuZW51bVZhbHVlcyYmci5lbnVtVmFsdWVzKXt0aGlzLmVudW1WYWx1ZXM9dGhpcy5lbnVtVmFsdWVzLmNvbmNhdChyLmVudW1WYWx1ZXMpO2Zvcih2YXIgaT0wLGU9dGhpcy5wcm9ibGVtcztpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTtuLmNvZGU9PT1XLkVudW1WYWx1ZU1pc21hdGNoJiYobi5tZXNzYWdlPU0oImVudW1XYXJuaW5nIiwiVmFsdWUgaXMgbm90IGFjY2VwdGVkLiBWYWxpZCB2YWx1ZXM6IHswfS4iLHRoaXMuZW51bVZhbHVlcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGEpfSkuam9pbigiLCAiKSkpfX19LHQucHJvdG90eXBlLm1lcmdlUHJvcGVydHlNYXRjaD1mdW5jdGlvbihyKXt0aGlzLm1lcmdlKHIpLHRoaXMucHJvcGVydGllc01hdGNoZXMrKywoci5lbnVtVmFsdWVNYXRjaHx8IXIuaGFzUHJvYmxlbXMoKSYmci5wcm9wZXJ0aWVzTWF0Y2hlcykmJnRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrLHIuZW51bVZhbHVlTWF0Y2gmJnIuZW51bVZhbHVlcyYmci5lbnVtVmFsdWVzLmxlbmd0aD09PTEmJnRoaXMucHJpbWFyeVZhbHVlTWF0Y2hlcysrfSx0LnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHIpe3ZhciBpPXRoaXMuaGFzUHJvYmxlbXMoKTtyZXR1cm4gaSE9PXIuaGFzUHJvYmxlbXMoKT9pPy0xOjE6dGhpcy5lbnVtVmFsdWVNYXRjaCE9PXIuZW51bVZhbHVlTWF0Y2g/ci5lbnVtVmFsdWVNYXRjaD8tMToxOnRoaXMucHJpbWFyeVZhbHVlTWF0Y2hlcyE9PXIucHJpbWFyeVZhbHVlTWF0Y2hlcz90aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMtci5wcmltYXJ5VmFsdWVNYXRjaGVzOnRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyE9PXIucHJvcGVydGllc1ZhbHVlTWF0Y2hlcz90aGlzLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMtci5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzOnRoaXMucHJvcGVydGllc01hdGNoZXMtci5wcm9wZXJ0aWVzTWF0Y2hlc30sdH0oKTtmdW5jdGlvbiBUcih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj1bXSksbmV3IGtyKHQscixbXSl9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHRyKHQpfWZ1bmN0aW9uIEplKHQpe3JldHVybiBlcih0KX1mdW5jdGlvbiBSdCh0LHIsaSl7cmV0dXJuIGk9PT12b2lkIDAmJihpPSExKSxyPj10Lm9mZnNldCYmcjx0Lm9mZnNldCt0Lmxlbmd0aHx8aSYmcj09PXQub2Zmc2V0K3QubGVuZ3RofXZhciBrcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocixpLGUpe2k9PT12b2lkIDAmJihpPVtdKSxlPT09dm9pZCAwJiYoZT1bXSksdGhpcy5yb290PXIsdGhpcy5zeW50YXhFcnJvcnM9aSx0aGlzLmNvbW1lbnRzPWV9cmV0dXJuIHQucHJvdG90eXBlLmdldE5vZGVGcm9tT2Zmc2V0PWZ1bmN0aW9uKHIsaSl7aWYoaT09PXZvaWQgMCYmKGk9ITEpLHRoaXMucm9vdClyZXR1cm4gS3QodGhpcy5yb290LHIsaSl9LHQucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKHIpe2lmKHRoaXMucm9vdCl7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIG49cihlKSxhPWUuY2hpbGRyZW47aWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoJiZuO3MrKyluPWkoYVtzXSk7cmV0dXJuIG59O2kodGhpcy5yb290KX19LHQucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHIsaSxlKXtpZihlPT09dm9pZCAwJiYoZT1aLldhcm5pbmcpLHRoaXMucm9vdCYmaSl7dmFyIG49bmV3IHRlO3JldHVybiBfKHRoaXMucm9vdCxpLG4sJHQuaW5zdGFuY2UpLG4ucHJvYmxlbXMubWFwKGZ1bmN0aW9uKGEpe3ZhciBzLG89VS5jcmVhdGUoci5wb3NpdGlvbkF0KGEubG9jYXRpb24ub2Zmc2V0KSxyLnBvc2l0aW9uQXQoYS5sb2NhdGlvbi5vZmZzZXQrYS5sb2NhdGlvbi5sZW5ndGgpKTtyZXR1cm4gYWUuY3JlYXRlKG8sYS5tZXNzYWdlLChzPWEuc2V2ZXJpdHkpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUsYS5jb2RlKX0pfX0sdC5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdTY2hlbWFzPWZ1bmN0aW9uKHIsaSxlKXtpPT09dm9pZCAwJiYoaT0tMSk7dmFyIG49bmV3IHhuKGksZSk7cmV0dXJuIHRoaXMucm9vdCYmciYmXyh0aGlzLnJvb3QscixuZXcgdGUsbiksbi5zY2hlbWFzfSx0fSgpO2Z1bmN0aW9uIF8odCxyLGksZSl7aWYoIXR8fCFlLmluY2x1ZGUodCkpcmV0dXJuO3ZhciBuPXQ7c3dpdGNoKG4udHlwZSl7Y2FzZSJvYmplY3QiOmwobixyLGksZSk7YnJlYWs7Y2FzZSJhcnJheSI6ZihuLHIsaSxlKTticmVhaztjYXNlInN0cmluZyI6byhuLHIsaSxlKTticmVhaztjYXNlIm51bWJlciI6cyhuLHIsaSxlKTticmVhaztjYXNlInByb3BlcnR5IjpyZXR1cm4gXyhuLnZhbHVlTm9kZSxyLGksZSl9YSgpLGUuYWRkKHtub2RlOm4sc2NoZW1hOnJ9KTtmdW5jdGlvbiBhKCl7ZnVuY3Rpb24gdShMKXtyZXR1cm4gbi50eXBlPT09THx8TD09PSJpbnRlZ2VyIiYmbi50eXBlPT09Im51bWJlciImJm4uaXNJbnRlZ2VyfWlmKEFycmF5LmlzQXJyYXkoci50eXBlKT9yLnR5cGUuc29tZSh1KXx8aS5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Om4ub2Zmc2V0LGxlbmd0aDpuLmxlbmd0aH0sbWVzc2FnZTpyLmVycm9yTWVzc2FnZXx8TSgidHlwZUFycmF5TWlzbWF0Y2hXYXJuaW5nIiwiSW5jb3JyZWN0IHR5cGUuIEV4cGVjdGVkIG9uZSBvZiB7MH0uIixyLnR5cGUuam9pbigiLCAiKSl9KTpyLnR5cGUmJih1KHIudHlwZSl8fGkucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDpuLm9mZnNldCxsZW5ndGg6bi5sZW5ndGh9LG1lc3NhZ2U6ci5lcnJvck1lc3NhZ2V8fE0oInR5cGVNaXNtYXRjaFdhcm5pbmciLCdJbmNvcnJlY3QgdHlwZS4gRXhwZWN0ZWQgInswfSIuJyxyLnR5cGUpfSkpLEFycmF5LmlzQXJyYXkoci5hbGxPZikpZm9yKHZhciBjPTAsaD1yLmFsbE9mO2M8aC5sZW5ndGg7YysrKXt2YXIgZD1oW2NdO18obixLKGQpLGksZSl9dmFyIG09SyhyLm5vdCk7aWYobSl7dmFyIHA9bmV3IHRlLGc9ZS5uZXdTdWIoKTtfKG4sbSxwLGcpLHAuaGFzUHJvYmxlbXMoKXx8aS5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Om4ub2Zmc2V0LGxlbmd0aDpuLmxlbmd0aH0sbWVzc2FnZTpNKCJub3RTY2hlbWFXYXJuaW5nIiwiTWF0Y2hlcyBhIHNjaGVtYSB0aGF0IGlzIG5vdCBhbGxvd2VkLiIpfSk7Zm9yKHZhciBiPTAseT1nLnNjaGVtYXM7Yjx5Lmxlbmd0aDtiKyspe3ZhciB2PXlbYl07di5pbnZlcnRlZD0hdi5pbnZlcnRlZCxlLmFkZCh2KX19dmFyIE89ZnVuY3Rpb24oTCxSKXtmb3IodmFyIEg9W10scT12b2lkIDAsVD0wLFM9TDtUPFMubGVuZ3RoO1QrKyl7dmFyIGs9U1tUXSxqPUsoayksVj1uZXcgdGUsJD1lLm5ld1N1YigpO2lmKF8obixqLFYsJCksVi5oYXNQcm9ibGVtcygpfHxILnB1c2goaiksIXEpcT17c2NoZW1hOmosdmFsaWRhdGlvblJlc3VsdDpWLG1hdGNoaW5nU2NoZW1hczokfTtlbHNlIGlmKCFSJiYhVi5oYXNQcm9ibGVtcygpJiYhcS52YWxpZGF0aW9uUmVzdWx0Lmhhc1Byb2JsZW1zKCkpcS5tYXRjaGluZ1NjaGVtYXMubWVyZ2UoJCkscS52YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNNYXRjaGVzKz1WLnByb3BlcnRpZXNNYXRjaGVzLHEudmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKz1WLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXM7ZWxzZXt2YXIgSj1WLmNvbXBhcmUocS52YWxpZGF0aW9uUmVzdWx0KTtKPjA/cT17c2NoZW1hOmosdmFsaWRhdGlvblJlc3VsdDpWLG1hdGNoaW5nU2NoZW1hczokfTpKPT09MCYmKHEubWF0Y2hpbmdTY2hlbWFzLm1lcmdlKCQpLHEudmFsaWRhdGlvblJlc3VsdC5tZXJnZUVudW1WYWx1ZXMoVikpfX1yZXR1cm4gSC5sZW5ndGg+MSYmUiYmaS5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Om4ub2Zmc2V0LGxlbmd0aDoxfSxtZXNzYWdlOk0oIm9uZU9mV2FybmluZyIsIk1hdGNoZXMgbXVsdGlwbGUgc2NoZW1hcyB3aGVuIG9ubHkgb25lIG11c3QgdmFsaWRhdGUuIil9KSxxJiYoaS5tZXJnZShxLnZhbGlkYXRpb25SZXN1bHQpLGkucHJvcGVydGllc01hdGNoZXMrPXEudmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzTWF0Y2hlcyxpLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMrPXEudmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzLGUubWVyZ2UocS5tYXRjaGluZ1NjaGVtYXMpKSxILmxlbmd0aH07QXJyYXkuaXNBcnJheShyLmFueU9mKSYmTyhyLmFueU9mLCExKSxBcnJheS5pc0FycmF5KHIub25lT2YpJiZPKHIub25lT2YsITApO3ZhciBFPWZ1bmN0aW9uKEwpe3ZhciBSPW5ldyB0ZSxIPWUubmV3U3ViKCk7XyhuLEsoTCksUixIKSxpLm1lcmdlKFIpLGkucHJvcGVydGllc01hdGNoZXMrPVIucHJvcGVydGllc01hdGNoZXMsaS5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKz1SLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMsZS5tZXJnZShIKX0sST1mdW5jdGlvbihMLFIsSCl7dmFyIHE9SyhMKSxUPW5ldyB0ZSxTPWUubmV3U3ViKCk7XyhuLHEsVCxTKSxlLm1lcmdlKFMpLFQuaGFzUHJvYmxlbXMoKT9IJiZFKEgpOlImJkUoUil9LEE9SyhyLmlmKTtpZihBJiZJKEEsSyhyLnRoZW4pLEsoci5lbHNlKSksQXJyYXkuaXNBcnJheShyLmVudW0pKXtmb3IodmFyIFA9ZGUobiksdz0hMSxDPTAsRj1yLmVudW07QzxGLmxlbmd0aDtDKyspe3ZhciBOPUZbQ107aWYoUGUoUCxOKSl7dz0hMDticmVha319aS5lbnVtVmFsdWVzPXIuZW51bSxpLmVudW1WYWx1ZU1hdGNoPXcsd3x8aS5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Om4ub2Zmc2V0LGxlbmd0aDpuLmxlbmd0aH0sY29kZTpXLkVudW1WYWx1ZU1pc21hdGNoLG1lc3NhZ2U6ci5lcnJvck1lc3NhZ2V8fE0oImVudW1XYXJuaW5nIiwiVmFsdWUgaXMgbm90IGFjY2VwdGVkLiBWYWxpZCB2YWx1ZXM6IHswfS4iLHIuZW51bS5tYXAoZnVuY3Rpb24oTCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KEwpfSkuam9pbigiLCAiKSl9KX1pZihzZShyLmNvbnN0KSl7dmFyIFA9ZGUobik7UGUoUCxyLmNvbnN0KT9pLmVudW1WYWx1ZU1hdGNoPSEwOihpLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6bi5vZmZzZXQsbGVuZ3RoOm4ubGVuZ3RofSxjb2RlOlcuRW51bVZhbHVlTWlzbWF0Y2gsbWVzc2FnZTpyLmVycm9yTWVzc2FnZXx8TSgiY29uc3RXYXJuaW5nIiwiVmFsdWUgbXVzdCBiZSB7MH0uIixKU09OLnN0cmluZ2lmeShyLmNvbnN0KSl9KSxpLmVudW1WYWx1ZU1hdGNoPSExKSxpLmVudW1WYWx1ZXM9W3IuY29uc3RdfXIuZGVwcmVjYXRpb25NZXNzYWdlJiZuLnBhcmVudCYmaS5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Om4ucGFyZW50Lm9mZnNldCxsZW5ndGg6bi5wYXJlbnQubGVuZ3RofSxzZXZlcml0eTpaLldhcm5pbmcsbWVzc2FnZTpyLmRlcHJlY2F0aW9uTWVzc2FnZSxjb2RlOlcuRGVwcmVjYXRlZH0pfWZ1bmN0aW9uIHModSxjLGgsZCl7dmFyIG09dS52YWx1ZTtmdW5jdGlvbiBwKEMpe3ZhciBGLE49L14oLT9cZCspKD86XC4oXGQrKSk/KD86ZShbLStdXGQrKSk/JC8uZXhlYyhDLnRvU3RyaW5nKCkpO3JldHVybiBOJiZ7dmFsdWU6TnVtYmVyKE5bMV0rKE5bMl18fCIiKSksbXVsdGlwbGllcjooKChGPU5bMl0pPT09bnVsbHx8Rj09PXZvaWQgMD92b2lkIDA6Ri5sZW5ndGgpfHwwKS0ocGFyc2VJbnQoTlszXSl8fDApfX1pZihlZShjLm11bHRpcGxlT2YpKXt2YXIgZz0tMTtpZihOdW1iZXIuaXNJbnRlZ2VyKGMubXVsdGlwbGVPZikpZz1tJWMubXVsdGlwbGVPZjtlbHNle3ZhciBiPXAoYy5tdWx0aXBsZU9mKSx5PXAobSk7aWYoYiYmeSl7dmFyIHY9TWF0aC5wb3coMTAsTWF0aC5hYnMoeS5tdWx0aXBsaWVyLWIubXVsdGlwbGllcikpO3kubXVsdGlwbGllcjxiLm11bHRpcGxpZXI/eS52YWx1ZSo9djpiLnZhbHVlKj12LGc9eS52YWx1ZSViLnZhbHVlfX1nIT09MCYmaC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0OnUub2Zmc2V0LGxlbmd0aDp1Lmxlbmd0aH0sbWVzc2FnZTpNKCJtdWx0aXBsZU9mV2FybmluZyIsIlZhbHVlIGlzIG5vdCBkaXZpc2libGUgYnkgezB9LiIsYy5tdWx0aXBsZU9mKX0pfWZ1bmN0aW9uIE8oQyxGKXtpZihlZShGKSlyZXR1cm4gRjtpZihpZShGKSYmRilyZXR1cm4gQ31mdW5jdGlvbiBFKEMsRil7aWYoIWllKEYpfHwhRilyZXR1cm4gQ312YXIgST1PKGMubWluaW11bSxjLmV4Y2x1c2l2ZU1pbmltdW0pO2VlKEkpJiZtPD1JJiZoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6dS5vZmZzZXQsbGVuZ3RoOnUubGVuZ3RofSxtZXNzYWdlOk0oImV4Y2x1c2l2ZU1pbmltdW1XYXJuaW5nIiwiVmFsdWUgaXMgYmVsb3cgdGhlIGV4Y2x1c2l2ZSBtaW5pbXVtIG9mIHswfS4iLEkpfSk7dmFyIEE9TyhjLm1heGltdW0sYy5leGNsdXNpdmVNYXhpbXVtKTtlZShBKSYmbT49QSYmaC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0OnUub2Zmc2V0LGxlbmd0aDp1Lmxlbmd0aH0sbWVzc2FnZTpNKCJleGNsdXNpdmVNYXhpbXVtV2FybmluZyIsIlZhbHVlIGlzIGFib3ZlIHRoZSBleGNsdXNpdmUgbWF4aW11bSBvZiB7MH0uIixBKX0pO3ZhciBQPUUoYy5taW5pbXVtLGMuZXhjbHVzaXZlTWluaW11bSk7ZWUoUCkmJm08UCYmaC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0OnUub2Zmc2V0LGxlbmd0aDp1Lmxlbmd0aH0sbWVzc2FnZTpNKCJtaW5pbXVtV2FybmluZyIsIlZhbHVlIGlzIGJlbG93IHRoZSBtaW5pbXVtIG9mIHswfS4iLFApfSk7dmFyIHc9RShjLm1heGltdW0sYy5leGNsdXNpdmVNYXhpbXVtKTtlZSh3KSYmbT53JiZoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6dS5vZmZzZXQsbGVuZ3RoOnUubGVuZ3RofSxtZXNzYWdlOk0oIm1heGltdW1XYXJuaW5nIiwiVmFsdWUgaXMgYWJvdmUgdGhlIG1heGltdW0gb2YgezB9LiIsdyl9KX1mdW5jdGlvbiBvKHUsYyxoLGQpe2lmKGVlKGMubWluTGVuZ3RoKSYmdS52YWx1ZS5sZW5ndGg8Yy5taW5MZW5ndGgmJmgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6TSgibWluTGVuZ3RoV2FybmluZyIsIlN0cmluZyBpcyBzaG9ydGVyIHRoYW4gdGhlIG1pbmltdW0gbGVuZ3RoIG9mIHswfS4iLGMubWluTGVuZ3RoKX0pLGVlKGMubWF4TGVuZ3RoKSYmdS52YWx1ZS5sZW5ndGg+Yy5tYXhMZW5ndGgmJmgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6TSgibWF4TGVuZ3RoV2FybmluZyIsIlN0cmluZyBpcyBsb25nZXIgdGhhbiB0aGUgbWF4aW11bSBsZW5ndGggb2YgezB9LiIsYy5tYXhMZW5ndGgpfSksbnIoYy5wYXR0ZXJuKSl7dmFyIG09eGUoYy5wYXR0ZXJuKTttPy50ZXN0KHUudmFsdWUpfHxoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6dS5vZmZzZXQsbGVuZ3RoOnUubGVuZ3RofSxtZXNzYWdlOmMucGF0dGVybkVycm9yTWVzc2FnZXx8Yy5lcnJvck1lc3NhZ2V8fE0oInBhdHRlcm5XYXJuaW5nIiwnU3RyaW5nIGRvZXMgbm90IG1hdGNoIHRoZSBwYXR0ZXJuIG9mICJ7MH0iLicsYy5wYXR0ZXJuKX0pfWlmKGMuZm9ybWF0KXN3aXRjaChjLmZvcm1hdCl7Y2FzZSJ1cmkiOmNhc2UidXJpLXJlZmVyZW5jZSI6e3ZhciBwPXZvaWQgMDtpZighdS52YWx1ZSlwPU0oInVyaUVtcHR5IiwiVVJJIGV4cGVjdGVkLiIpO2Vsc2V7dmFyIGc9L14oKFteOi8/I10rPyk6KT8oXC9cLyhbXi8/I10qKSk/KFtePyNdKikoXD8oW14jXSopKT8oIyguKikpPy8uZXhlYyh1LnZhbHVlKTtnPyFnWzJdJiZjLmZvcm1hdD09PSJ1cmkiJiYocD1NKCJ1cmlTY2hlbWVNaXNzaW5nIiwiVVJJIHdpdGggYSBzY2hlbWUgaXMgZXhwZWN0ZWQuIikpOnA9TSgidXJpTWlzc2luZyIsIlVSSSBpcyBleHBlY3RlZC4iKX1wJiZoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6dS5vZmZzZXQsbGVuZ3RoOnUubGVuZ3RofSxtZXNzYWdlOmMucGF0dGVybkVycm9yTWVzc2FnZXx8Yy5lcnJvck1lc3NhZ2V8fE0oInVyaUZvcm1hdFdhcm5pbmciLCJTdHJpbmcgaXMgbm90IGEgVVJJOiB7MH0iLHApfSl9YnJlYWs7Y2FzZSJjb2xvci1oZXgiOmNhc2UiZGF0ZS10aW1lIjpjYXNlImRhdGUiOmNhc2UidGltZSI6Y2FzZSJlbWFpbCI6Y2FzZSJob3N0bmFtZSI6Y2FzZSJpcHY0IjpjYXNlImlwdjYiOnZhciBiPWRuW2MuZm9ybWF0XTsoIXUudmFsdWV8fCFiLnBhdHRlcm4uZXhlYyh1LnZhbHVlKSkmJmgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6Yy5wYXR0ZXJuRXJyb3JNZXNzYWdlfHxjLmVycm9yTWVzc2FnZXx8Yi5lcnJvck1lc3NhZ2V9KTtkZWZhdWx0On19ZnVuY3Rpb24gZih1LGMsaCxkKXtpZihBcnJheS5pc0FycmF5KGMuaXRlbXMpKXtmb3IodmFyIG09Yy5pdGVtcyxwPTA7cDxtLmxlbmd0aDtwKyspe3ZhciBnPW1bcF0sYj1LKGcpLHk9bmV3IHRlLHY9dS5pdGVtc1twXTt2PyhfKHYsYix5LGQpLGgubWVyZ2VQcm9wZXJ0eU1hdGNoKHkpKTp1Lml0ZW1zLmxlbmd0aD49bS5sZW5ndGgmJmgucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrfWlmKHUuaXRlbXMubGVuZ3RoPm0ubGVuZ3RoKWlmKHR5cGVvZiBjLmFkZGl0aW9uYWxJdGVtcz09Im9iamVjdCIpZm9yKHZhciBPPW0ubGVuZ3RoO088dS5pdGVtcy5sZW5ndGg7TysrKXt2YXIgeT1uZXcgdGU7Xyh1Lml0ZW1zW09dLGMuYWRkaXRpb25hbEl0ZW1zLHksZCksaC5tZXJnZVByb3BlcnR5TWF0Y2goeSl9ZWxzZSBjLmFkZGl0aW9uYWxJdGVtcz09PSExJiZoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6dS5vZmZzZXQsbGVuZ3RoOnUubGVuZ3RofSxtZXNzYWdlOk0oImFkZGl0aW9uYWxJdGVtc1dhcm5pbmciLCJBcnJheSBoYXMgdG9vIG1hbnkgaXRlbXMgYWNjb3JkaW5nIHRvIHNjaGVtYS4gRXhwZWN0ZWQgezB9IG9yIGZld2VyLiIsbS5sZW5ndGgpfSl9ZWxzZXt2YXIgRT1LKGMuaXRlbXMpO2lmKEUpZm9yKHZhciBJPTAsQT11Lml0ZW1zO0k8QS5sZW5ndGg7SSsrKXt2YXIgdj1BW0ldLHk9bmV3IHRlO18odixFLHksZCksaC5tZXJnZVByb3BlcnR5TWF0Y2goeSl9fXZhciBQPUsoYy5jb250YWlucyk7aWYoUCl7dmFyIHc9dS5pdGVtcy5zb21lKGZ1bmN0aW9uKE4pe3ZhciBMPW5ldyB0ZTtyZXR1cm4gXyhOLFAsTCwkdC5pbnN0YW5jZSksIUwuaGFzUHJvYmxlbXMoKX0pO3d8fGgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6Yy5lcnJvck1lc3NhZ2V8fE0oInJlcXVpcmVkSXRlbU1pc3NpbmdXYXJuaW5nIiwiQXJyYXkgZG9lcyBub3QgY29udGFpbiByZXF1aXJlZCBpdGVtLiIpfSl9aWYoZWUoYy5taW5JdGVtcykmJnUuaXRlbXMubGVuZ3RoPGMubWluSXRlbXMmJmgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6TSgibWluSXRlbXNXYXJuaW5nIiwiQXJyYXkgaGFzIHRvbyBmZXcgaXRlbXMuIEV4cGVjdGVkIHswfSBvciBtb3JlLiIsYy5taW5JdGVtcyl9KSxlZShjLm1heEl0ZW1zKSYmdS5pdGVtcy5sZW5ndGg+Yy5tYXhJdGVtcyYmaC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0OnUub2Zmc2V0LGxlbmd0aDp1Lmxlbmd0aH0sbWVzc2FnZTpNKCJtYXhJdGVtc1dhcm5pbmciLCJBcnJheSBoYXMgdG9vIG1hbnkgaXRlbXMuIEV4cGVjdGVkIHswfSBvciBmZXdlci4iLGMubWF4SXRlbXMpfSksYy51bmlxdWVJdGVtcz09PSEwKXt2YXIgQz1kZSh1KSxGPUMuc29tZShmdW5jdGlvbihOLEwpe3JldHVybiBMIT09Qy5sYXN0SW5kZXhPZihOKX0pO0YmJmgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6TSgidW5pcXVlSXRlbXNXYXJuaW5nIiwiQXJyYXkgaGFzIGR1cGxpY2F0ZSBpdGVtcy4iKX0pfX1mdW5jdGlvbiBsKHUsYyxoLGQpe2Zvcih2YXIgbT1PYmplY3QuY3JlYXRlKG51bGwpLHA9W10sZz0wLGI9dS5wcm9wZXJ0aWVzO2c8Yi5sZW5ndGg7ZysrKXt2YXIgeT1iW2ddLHY9eS5rZXlOb2RlLnZhbHVlO21bdl09eS52YWx1ZU5vZGUscC5wdXNoKHYpfWlmKEFycmF5LmlzQXJyYXkoYy5yZXF1aXJlZCkpZm9yKHZhciBPPTAsRT1jLnJlcXVpcmVkO088RS5sZW5ndGg7TysrKXt2YXIgST1FW09dO2lmKCFtW0ldKXt2YXIgQT11LnBhcmVudCYmdS5wYXJlbnQudHlwZT09PSJwcm9wZXJ0eSImJnUucGFyZW50LmtleU5vZGUsUD1BP3tvZmZzZXQ6QS5vZmZzZXQsbGVuZ3RoOkEubGVuZ3RofTp7b2Zmc2V0OnUub2Zmc2V0LGxlbmd0aDoxfTtoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOlAsbWVzc2FnZTpNKCJNaXNzaW5nUmVxdWlyZWRQcm9wV2FybmluZyIsJ01pc3NpbmcgcHJvcGVydHkgInswfSIuJyxJKX0pfX12YXIgdz1mdW5jdGlvbihYdCl7Zm9yKHZhciBsdD1wLmluZGV4T2YoWHQpO2x0Pj0wOylwLnNwbGljZShsdCwxKSxsdD1wLmluZGV4T2YoWHQpfTtpZihjLnByb3BlcnRpZXMpZm9yKHZhciBDPTAsRj1PYmplY3Qua2V5cyhjLnByb3BlcnRpZXMpO0M8Ri5sZW5ndGg7QysrKXt2YXIgST1GW0NdO3coSSk7dmFyIE49Yy5wcm9wZXJ0aWVzW0ldLEw9bVtJXTtpZihMKWlmKGllKE4pKWlmKE4paC5wcm9wZXJ0aWVzTWF0Y2hlcysrLGgucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO2Vsc2V7dmFyIHk9TC5wYXJlbnQ7aC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Onkua2V5Tm9kZS5vZmZzZXQsbGVuZ3RoOnkua2V5Tm9kZS5sZW5ndGh9LG1lc3NhZ2U6Yy5lcnJvck1lc3NhZ2V8fE0oIkRpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nIiwiUHJvcGVydHkgezB9IGlzIG5vdCBhbGxvd2VkLiIsSSl9KX1lbHNle3ZhciBSPW5ldyB0ZTtfKEwsTixSLGQpLGgubWVyZ2VQcm9wZXJ0eU1hdGNoKFIpfX1pZihjLnBhdHRlcm5Qcm9wZXJ0aWVzKWZvcih2YXIgSD0wLHE9T2JqZWN0LmtleXMoYy5wYXR0ZXJuUHJvcGVydGllcyk7SDxxLmxlbmd0aDtIKyspZm9yKHZhciBUPXFbSF0sUz14ZShUKSxrPTAsaj1wLnNsaWNlKDApO2s8ai5sZW5ndGg7aysrKXt2YXIgST1qW2tdO2lmKFM/LnRlc3QoSSkpe3coSSk7dmFyIEw9bVtJXTtpZihMKXt2YXIgTj1jLnBhdHRlcm5Qcm9wZXJ0aWVzW1RdO2lmKGllKE4pKWlmKE4paC5wcm9wZXJ0aWVzTWF0Y2hlcysrLGgucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO2Vsc2V7dmFyIHk9TC5wYXJlbnQ7aC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0Onkua2V5Tm9kZS5vZmZzZXQsbGVuZ3RoOnkua2V5Tm9kZS5sZW5ndGh9LG1lc3NhZ2U6Yy5lcnJvck1lc3NhZ2V8fE0oIkRpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nIiwiUHJvcGVydHkgezB9IGlzIG5vdCBhbGxvd2VkLiIsSSl9KX1lbHNle3ZhciBSPW5ldyB0ZTtfKEwsTixSLGQpLGgubWVyZ2VQcm9wZXJ0eU1hdGNoKFIpfX19fWlmKHR5cGVvZiBjLmFkZGl0aW9uYWxQcm9wZXJ0aWVzPT0ib2JqZWN0Iilmb3IodmFyIFY9MCwkPXA7VjwkLmxlbmd0aDtWKyspe3ZhciBJPSRbVl0sTD1tW0ldO2lmKEwpe3ZhciBSPW5ldyB0ZTtfKEwsYy5hZGRpdGlvbmFsUHJvcGVydGllcyxSLGQpLGgubWVyZ2VQcm9wZXJ0eU1hdGNoKFIpfX1lbHNlIGlmKGMuYWRkaXRpb25hbFByb3BlcnRpZXM9PT0hMSYmcC5sZW5ndGg+MClmb3IodmFyIEo9MCx1ZT1wO0o8dWUubGVuZ3RoO0orKyl7dmFyIEk9dWVbSl0sTD1tW0ldO2lmKEwpe3ZhciB5PUwucGFyZW50O2gucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp5LmtleU5vZGUub2Zmc2V0LGxlbmd0aDp5LmtleU5vZGUubGVuZ3RofSxtZXNzYWdlOmMuZXJyb3JNZXNzYWdlfHxNKCJEaXNhbGxvd2VkRXh0cmFQcm9wV2FybmluZyIsIlByb3BlcnR5IHswfSBpcyBub3QgYWxsb3dlZC4iLEkpfSl9fWlmKGVlKGMubWF4UHJvcGVydGllcykmJnUucHJvcGVydGllcy5sZW5ndGg+Yy5tYXhQcm9wZXJ0aWVzJiZoLnByb2JsZW1zLnB1c2goe2xvY2F0aW9uOntvZmZzZXQ6dS5vZmZzZXQsbGVuZ3RoOnUubGVuZ3RofSxtZXNzYWdlOk0oIk1heFByb3BXYXJuaW5nIiwiT2JqZWN0IGhhcyBtb3JlIHByb3BlcnRpZXMgdGhhbiBsaW1pdCBvZiB7MH0uIixjLm1heFByb3BlcnRpZXMpfSksZWUoYy5taW5Qcm9wZXJ0aWVzKSYmdS5wcm9wZXJ0aWVzLmxlbmd0aDxjLm1pblByb3BlcnRpZXMmJmgucHJvYmxlbXMucHVzaCh7bG9jYXRpb246e29mZnNldDp1Lm9mZnNldCxsZW5ndGg6dS5sZW5ndGh9LG1lc3NhZ2U6TSgiTWluUHJvcFdhcm5pbmciLCJPYmplY3QgaGFzIGZld2VyIHByb3BlcnRpZXMgdGhhbiB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIHswfSIsYy5taW5Qcm9wZXJ0aWVzKX0pLGMuZGVwZW5kZW5jaWVzKWZvcih2YXIgRz0wLG5lPU9iamVjdC5rZXlzKGMuZGVwZW5kZW5jaWVzKTtHPG5lLmxlbmd0aDtHKyspe3ZhciB2PW5lW0ddLGtlPW1bdl07aWYoa2Upe3ZhciBjZT1jLmRlcGVuZGVuY2llc1t2XTtpZihBcnJheS5pc0FycmF5KGNlKSlmb3IodmFyIHV0PTAsQnQ9Y2U7dXQ8QnQubGVuZ3RoO3V0Kyspe3ZhciBfdD1CdFt1dF07bVtfdF0/aC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys6aC5wcm9ibGVtcy5wdXNoKHtsb2NhdGlvbjp7b2Zmc2V0OnUub2Zmc2V0LGxlbmd0aDp1Lmxlbmd0aH0sbWVzc2FnZTpNKCJSZXF1aXJlZERlcGVuZGVudFByb3BXYXJuaW5nIiwiT2JqZWN0IGlzIG1pc3NpbmcgcHJvcGVydHkgezB9IHJlcXVpcmVkIGJ5IHByb3BlcnR5IHsxfS4iLF90LHYpfSl9ZWxzZXt2YXIgTj1LKGNlKTtpZihOKXt2YXIgUj1uZXcgdGU7Xyh1LE4sUixkKSxoLm1lcmdlUHJvcGVydHlNYXRjaChSKX19fX12YXIgSHQ9SyhjLnByb3BlcnR5TmFtZXMpO2lmKEh0KWZvcih2YXIgY3Q9MCxHdD11LnByb3BlcnRpZXM7Y3Q8R3QubGVuZ3RoO2N0Kyspe3ZhciBfcj1HdFtjdF0sdj1fci5rZXlOb2RlO3YmJl8odixIdCxoLCR0Lmluc3RhbmNlKX19fWZ1bmN0aW9uIE9yKHQscil7dmFyIGk9W10sZT0tMSxuPXQuZ2V0VGV4dCgpLGE9bGUobiwhMSkscz1yJiZyLmNvbGxlY3RDb21tZW50cz9bXTp2b2lkIDA7ZnVuY3Rpb24gbygpe2Zvcig7Oyl7dmFyIEE9YS5zY2FuKCk7c3dpdGNoKGMoKSxBKXtjYXNlIDEyOmNhc2UgMTM6QXJyYXkuaXNBcnJheShzKSYmcy5wdXNoKFUuY3JlYXRlKHQucG9zaXRpb25BdChhLmdldFRva2VuT2Zmc2V0KCkpLHQucG9zaXRpb25BdChhLmdldFRva2VuT2Zmc2V0KCkrYS5nZXRUb2tlbkxlbmd0aCgpKSkpO2JyZWFrO2Nhc2UgMTU6Y2FzZSAxNDpicmVhaztkZWZhdWx0OnJldHVybiBBfX19ZnVuY3Rpb24gZihBKXtyZXR1cm4gYS5nZXRUb2tlbigpPT09QT8obygpLCEwKTohMX1mdW5jdGlvbiBsKEEsUCx3LEMsRil7aWYoRj09PXZvaWQgMCYmKEY9Wi5FcnJvciksaS5sZW5ndGg9PT0wfHx3IT09ZSl7dmFyIE49VS5jcmVhdGUodC5wb3NpdGlvbkF0KHcpLHQucG9zaXRpb25BdChDKSk7aS5wdXNoKGFlLmNyZWF0ZShOLEEsRixQLHQubGFuZ3VhZ2VJZCkpLGU9d319ZnVuY3Rpb24gdShBLFAsdyxDLEYpe3c9PT12b2lkIDAmJih3PXZvaWQgMCksQz09PXZvaWQgMCYmKEM9W10pLEY9PT12b2lkIDAmJihGPVtdKTt2YXIgTj1hLmdldFRva2VuT2Zmc2V0KCksTD1hLmdldFRva2VuT2Zmc2V0KCkrYS5nZXRUb2tlbkxlbmd0aCgpO2lmKE49PT1MJiZOPjApe2ZvcihOLS07Tj4wJiYvXHMvLnRlc3Qobi5jaGFyQXQoTikpOylOLS07TD1OKzF9aWYobChBLFAsTixMKSx3JiZoKHcsITEpLEMubGVuZ3RoK0YubGVuZ3RoPjApZm9yKHZhciBSPWEuZ2V0VG9rZW4oKTtSIT09MTc7KXtpZihDLmluZGV4T2YoUikhPT0tMSl7bygpO2JyZWFrfWVsc2UgaWYoRi5pbmRleE9mKFIpIT09LTEpYnJlYWs7Uj1vKCl9cmV0dXJuIHd9ZnVuY3Rpb24gYygpe3N3aXRjaChhLmdldFRva2VuRXJyb3IoKSl7Y2FzZSA0OnJldHVybiB1KE0oIkludmFsaWRVbmljb2RlIiwiSW52YWxpZCB1bmljb2RlIHNlcXVlbmNlIGluIHN0cmluZy4iKSxXLkludmFsaWRVbmljb2RlKSwhMDtjYXNlIDU6cmV0dXJuIHUoTSgiSW52YWxpZEVzY2FwZUNoYXJhY3RlciIsIkludmFsaWQgZXNjYXBlIGNoYXJhY3RlciBpbiBzdHJpbmcuIiksVy5JbnZhbGlkRXNjYXBlQ2hhcmFjdGVyKSwhMDtjYXNlIDM6cmV0dXJuIHUoTSgiVW5leHBlY3RlZEVuZE9mTnVtYmVyIiwiVW5leHBlY3RlZCBlbmQgb2YgbnVtYmVyLiIpLFcuVW5leHBlY3RlZEVuZE9mTnVtYmVyKSwhMDtjYXNlIDE6cmV0dXJuIHUoTSgiVW5leHBlY3RlZEVuZE9mQ29tbWVudCIsIlVuZXhwZWN0ZWQgZW5kIG9mIGNvbW1lbnQuIiksVy5VbmV4cGVjdGVkRW5kT2ZDb21tZW50KSwhMDtjYXNlIDI6cmV0dXJuIHUoTSgiVW5leHBlY3RlZEVuZE9mU3RyaW5nIiwiVW5leHBlY3RlZCBlbmQgb2Ygc3RyaW5nLiIpLFcuVW5leHBlY3RlZEVuZE9mU3RyaW5nKSwhMDtjYXNlIDY6cmV0dXJuIHUoTSgiSW52YWxpZENoYXJhY3RlciIsIkludmFsaWQgY2hhcmFjdGVycyBpbiBzdHJpbmcuIENvbnRyb2wgY2hhcmFjdGVycyBtdXN0IGJlIGVzY2FwZWQuIiksVy5JbnZhbGlkQ2hhcmFjdGVyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBoKEEsUCl7cmV0dXJuIEEubGVuZ3RoPWEuZ2V0VG9rZW5PZmZzZXQoKSthLmdldFRva2VuTGVuZ3RoKCktQS5vZmZzZXQsUCYmbygpLEF9ZnVuY3Rpb24gZChBKXtpZihhLmdldFRva2VuKCk9PT0zKXt2YXIgUD1uZXcgbW4oQSxhLmdldFRva2VuT2Zmc2V0KCkpO28oKTtmb3IodmFyIHc9MCxDPSExO2EuZ2V0VG9rZW4oKSE9PTQmJmEuZ2V0VG9rZW4oKSE9PTE3Oyl7aWYoYS5nZXRUb2tlbigpPT09NSl7Q3x8dShNKCJWYWx1ZUV4cGVjdGVkIiwiVmFsdWUgZXhwZWN0ZWQiKSxXLlZhbHVlRXhwZWN0ZWQpO3ZhciBGPWEuZ2V0VG9rZW5PZmZzZXQoKTtpZihvKCksYS5nZXRUb2tlbigpPT09NCl7QyYmbChNKCJUcmFpbGluZ0NvbW1hIiwiVHJhaWxpbmcgY29tbWEiKSxXLlRyYWlsaW5nQ29tbWEsRixGKzEpO2NvbnRpbnVlfX1lbHNlIEMmJnUoTSgiRXhwZWN0ZWRDb21tYSIsIkV4cGVjdGVkIGNvbW1hIiksVy5Db21tYUV4cGVjdGVkKTt2YXIgTj1PKFApO04/UC5pdGVtcy5wdXNoKE4pOnUoTSgiUHJvcGVydHlFeHBlY3RlZCIsIlZhbHVlIGV4cGVjdGVkIiksVy5WYWx1ZUV4cGVjdGVkLHZvaWQgMCxbXSxbNCw1XSksQz0hMH1yZXR1cm4gYS5nZXRUb2tlbigpIT09ND91KE0oIkV4cGVjdGVkQ2xvc2VCcmFja2V0IiwiRXhwZWN0ZWQgY29tbWEgb3IgY2xvc2luZyBicmFja2V0IiksVy5Db21tYU9yQ2xvc2VCYWNrZXRFeHBlY3RlZCxQKTpoKFAsITApfX12YXIgbT1uZXcgRHQodm9pZCAwLDAsMCk7ZnVuY3Rpb24gcChBLFApe3ZhciB3PW5ldyB5bihBLGEuZ2V0VG9rZW5PZmZzZXQoKSxtKSxDPWIodyk7aWYoIUMpaWYoYS5nZXRUb2tlbigpPT09MTYpe3UoTSgiRG91YmxlUXVvdGVzRXhwZWN0ZWQiLCJQcm9wZXJ0eSBrZXlzIG11c3QgYmUgZG91YmxlcXVvdGVkIiksVy5VbmRlZmluZWQpO3ZhciBGPW5ldyBEdCh3LGEuZ2V0VG9rZW5PZmZzZXQoKSxhLmdldFRva2VuTGVuZ3RoKCkpO0YudmFsdWU9YS5nZXRUb2tlblZhbHVlKCksQz1GLG8oKX1lbHNlIHJldHVybjt3LmtleU5vZGU9Qzt2YXIgTj1QW0MudmFsdWVdO2lmKE4/KGwoTSgiRHVwbGljYXRlS2V5V2FybmluZyIsIkR1cGxpY2F0ZSBvYmplY3Qga2V5IiksVy5EdXBsaWNhdGVLZXksdy5rZXlOb2RlLm9mZnNldCx3LmtleU5vZGUub2Zmc2V0K3cua2V5Tm9kZS5sZW5ndGgsWi5XYXJuaW5nKSx0eXBlb2YgTj09Im9iamVjdCImJmwoTSgiRHVwbGljYXRlS2V5V2FybmluZyIsIkR1cGxpY2F0ZSBvYmplY3Qga2V5IiksVy5EdXBsaWNhdGVLZXksTi5rZXlOb2RlLm9mZnNldCxOLmtleU5vZGUub2Zmc2V0K04ua2V5Tm9kZS5sZW5ndGgsWi5XYXJuaW5nKSxQW0MudmFsdWVdPSEwKTpQW0MudmFsdWVdPXcsYS5nZXRUb2tlbigpPT09Nil3LmNvbG9uT2Zmc2V0PWEuZ2V0VG9rZW5PZmZzZXQoKSxvKCk7ZWxzZSBpZih1KE0oIkNvbG9uRXhwZWN0ZWQiLCJDb2xvbiBleHBlY3RlZCIpLFcuQ29sb25FeHBlY3RlZCksYS5nZXRUb2tlbigpPT09MTAmJnQucG9zaXRpb25BdChDLm9mZnNldCtDLmxlbmd0aCkubGluZTx0LnBvc2l0aW9uQXQoYS5nZXRUb2tlbk9mZnNldCgpKS5saW5lKXJldHVybiB3Lmxlbmd0aD1DLmxlbmd0aCx3O3ZhciBMPU8odyk7cmV0dXJuIEw/KHcudmFsdWVOb2RlPUwsdy5sZW5ndGg9TC5vZmZzZXQrTC5sZW5ndGgtdy5vZmZzZXQsdyk6dShNKCJWYWx1ZUV4cGVjdGVkIiwiVmFsdWUgZXhwZWN0ZWQiKSxXLlZhbHVlRXhwZWN0ZWQsdyxbXSxbMiw1XSl9ZnVuY3Rpb24gZyhBKXtpZihhLmdldFRva2VuKCk9PT0xKXt2YXIgUD1uZXcgYm4oQSxhLmdldFRva2VuT2Zmc2V0KCkpLHc9T2JqZWN0LmNyZWF0ZShudWxsKTtvKCk7Zm9yKHZhciBDPSExO2EuZ2V0VG9rZW4oKSE9PTImJmEuZ2V0VG9rZW4oKSE9PTE3Oyl7aWYoYS5nZXRUb2tlbigpPT09NSl7Q3x8dShNKCJQcm9wZXJ0eUV4cGVjdGVkIiwiUHJvcGVydHkgZXhwZWN0ZWQiKSxXLlByb3BlcnR5RXhwZWN0ZWQpO3ZhciBGPWEuZ2V0VG9rZW5PZmZzZXQoKTtpZihvKCksYS5nZXRUb2tlbigpPT09Mil7QyYmbChNKCJUcmFpbGluZ0NvbW1hIiwiVHJhaWxpbmcgY29tbWEiKSxXLlRyYWlsaW5nQ29tbWEsRixGKzEpO2NvbnRpbnVlfX1lbHNlIEMmJnUoTSgiRXhwZWN0ZWRDb21tYSIsIkV4cGVjdGVkIGNvbW1hIiksVy5Db21tYUV4cGVjdGVkKTt2YXIgTj1wKFAsdyk7Tj9QLnByb3BlcnRpZXMucHVzaChOKTp1KE0oIlByb3BlcnR5RXhwZWN0ZWQiLCJQcm9wZXJ0eSBleHBlY3RlZCIpLFcuUHJvcGVydHlFeHBlY3RlZCx2b2lkIDAsW10sWzIsNV0pLEM9ITB9cmV0dXJuIGEuZ2V0VG9rZW4oKSE9PTI/dShNKCJFeHBlY3RlZENsb3NlQnJhY2UiLCJFeHBlY3RlZCBjb21tYSBvciBjbG9zaW5nIGJyYWNlIiksVy5Db21tYU9yQ2xvc2VCcmFjZUV4cGVjdGVkLFApOmgoUCwhMCl9fWZ1bmN0aW9uIGIoQSl7aWYoYS5nZXRUb2tlbigpPT09MTApe3ZhciBQPW5ldyBEdChBLGEuZ2V0VG9rZW5PZmZzZXQoKSk7cmV0dXJuIFAudmFsdWU9YS5nZXRUb2tlblZhbHVlKCksaChQLCEwKX19ZnVuY3Rpb24geShBKXtpZihhLmdldFRva2VuKCk9PT0xMSl7dmFyIFA9bmV3IHZuKEEsYS5nZXRUb2tlbk9mZnNldCgpKTtpZihhLmdldFRva2VuRXJyb3IoKT09PTApe3ZhciB3PWEuZ2V0VG9rZW5WYWx1ZSgpO3RyeXt2YXIgQz1KU09OLnBhcnNlKHcpO2lmKCFlZShDKSlyZXR1cm4gdShNKCJJbnZhbGlkTnVtYmVyRm9ybWF0IiwiSW52YWxpZCBudW1iZXIgZm9ybWF0LiIpLFcuVW5kZWZpbmVkLFApO1AudmFsdWU9Q31jYXRjaHtyZXR1cm4gdShNKCJJbnZhbGlkTnVtYmVyRm9ybWF0IiwiSW52YWxpZCBudW1iZXIgZm9ybWF0LiIpLFcuVW5kZWZpbmVkLFApfVAuaXNJbnRlZ2VyPXcuaW5kZXhPZigiLiIpPT09LTF9cmV0dXJuIGgoUCwhMCl9fWZ1bmN0aW9uIHYoQSl7dmFyIFA7c3dpdGNoKGEuZ2V0VG9rZW4oKSl7Y2FzZSA3OnJldHVybiBoKG5ldyBwbihBLGEuZ2V0VG9rZW5PZmZzZXQoKSksITApO2Nhc2UgODpyZXR1cm4gaChuZXcgQXIoQSwhMCxhLmdldFRva2VuT2Zmc2V0KCkpLCEwKTtjYXNlIDk6cmV0dXJuIGgobmV3IEFyKEEsITEsYS5nZXRUb2tlbk9mZnNldCgpKSwhMCk7ZGVmYXVsdDpyZXR1cm59fWZ1bmN0aW9uIE8oQSl7cmV0dXJuIGQoQSl8fGcoQSl8fGIoQSl8fHkoQSl8fHYoQSl9dmFyIEU9dm9pZCAwLEk9bygpO3JldHVybiBJIT09MTcmJihFPU8oRSksRT9hLmdldFRva2VuKCkhPT0xNyYmdShNKCJFbmQgb2YgZmlsZSBleHBlY3RlZCIsIkVuZCBvZiBmaWxlIGV4cGVjdGVkLiIpLFcuVW5kZWZpbmVkKTp1KE0oIkludmFsaWQgc3ltYm9sIiwiRXhwZWN0ZWQgYSBKU09OIG9iamVjdCwgYXJyYXkgb3IgbGl0ZXJhbC4iKSxXLlVuZGVmaW5lZCkpLG5ldyBrcihFLGkscyl9ZnVuY3Rpb24gdHQodCxyLGkpe2lmKHQhPT1udWxsJiZ0eXBlb2YgdD09Im9iamVjdCIpe3ZhciBlPXIrIgkiO2lmKEFycmF5LmlzQXJyYXkodCkpe2lmKHQubGVuZ3RoPT09MClyZXR1cm4iW10iO2Zvcih2YXIgbj1gWwpgLGE9MDthPHQubGVuZ3RoO2ErKyluKz1lK3R0KHRbYV0sZSxpKSxhPHQubGVuZ3RoLTEmJihuKz0iLCIpLG4rPWAKYDtyZXR1cm4gbis9cisiXSIsbn1lbHNle3ZhciBzPU9iamVjdC5rZXlzKHQpO2lmKHMubGVuZ3RoPT09MClyZXR1cm4ie30iO2Zvcih2YXIgbj1gewpgLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtuKz1lK0pTT04uc3RyaW5naWZ5KG8pKyI6ICIrdHQodFtvXSxlLGkpLGE8cy5sZW5ndGgtMSYmKG4rPSIsIiksbis9YApgfXJldHVybiBuKz1yKyJ9IixufX1yZXR1cm4gaSh0KX12YXIgVXQ9aGUoKSxTbj1bIiwiLCJ9IiwiXSJdLEFuPVsiOiJdLENyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyLGksZSxuKXtpPT09dm9pZCAwJiYoaT1bXSksZT09PXZvaWQgMCYmKGU9UHJvbWlzZSksbj09PXZvaWQgMCYmKG49e30pLHRoaXMuc2NoZW1hU2VydmljZT1yLHRoaXMuY29udHJpYnV0aW9ucz1pLHRoaXMucHJvbWlzZUNvbnN0cnVjdG9yPWUsdGhpcy5jbGllbnRDYXBhYmlsaXRpZXM9bn1yZXR1cm4gdC5wcm90b3R5cGUuZG9SZXNvbHZlPWZ1bmN0aW9uKHIpe2Zvcih2YXIgaT10aGlzLmNvbnRyaWJ1dGlvbnMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBlPXRoaXMuY29udHJpYnV0aW9uc1tpXS5yZXNvbHZlQ29tcGxldGlvbjtpZihlKXt2YXIgbj1lKHIpO2lmKG4pcmV0dXJuIG59fXJldHVybiB0aGlzLnByb21pc2VDb25zdHJ1Y3Rvci5yZXNvbHZlKHIpfSx0LnByb3RvdHlwZS5kb0NvbXBsZXRlPWZ1bmN0aW9uKHIsaSxlKXt2YXIgbj10aGlzLGE9e2l0ZW1zOltdLGlzSW5jb21wbGV0ZTohMX0scz1yLmdldFRleHQoKSxvPXIub2Zmc2V0QXQoaSksZj1lLmdldE5vZGVGcm9tT2Zmc2V0KG8sITApO2lmKHRoaXMuaXNJbkNvbW1lbnQocixmP2Yub2Zmc2V0OjAsbykpcmV0dXJuIFByb21pc2UucmVzb2x2ZShhKTtpZihmJiZvPT09Zi5vZmZzZXQrZi5sZW5ndGgmJm8+MCl7dmFyIGw9c1tvLTFdOyhmLnR5cGU9PT0ib2JqZWN0IiYmbD09PSJ9Inx8Zi50eXBlPT09ImFycmF5IiYmbD09PSJdIikmJihmPWYucGFyZW50KX12YXIgdT10aGlzLmdldEN1cnJlbnRXb3JkKHIsbyksYztpZihmJiYoZi50eXBlPT09InN0cmluZyJ8fGYudHlwZT09PSJudW1iZXIifHxmLnR5cGU9PT0iYm9vbGVhbiJ8fGYudHlwZT09PSJudWxsIikpYz1VLmNyZWF0ZShyLnBvc2l0aW9uQXQoZi5vZmZzZXQpLHIucG9zaXRpb25BdChmLm9mZnNldCtmLmxlbmd0aCkpO2Vsc2V7dmFyIGg9by11Lmxlbmd0aDtoPjAmJnNbaC0xXT09PSciJyYmaC0tLGM9VS5jcmVhdGUoci5wb3NpdGlvbkF0KGgpLGkpfXZhciBkPSExLG09e30scD17YWRkOmZ1bmN0aW9uKGcpe3ZhciBiPWcubGFiZWwseT1tW2JdO2lmKHkpeS5kb2N1bWVudGF0aW9ufHwoeS5kb2N1bWVudGF0aW9uPWcuZG9jdW1lbnRhdGlvbikseS5kZXRhaWx8fCh5LmRldGFpbD1nLmRldGFpbCk7ZWxzZXtpZihiPWIucmVwbGFjZSgvW1xuXS9nLCJcdTIxQjUiKSxiLmxlbmd0aD42MCl7dmFyIHY9Yi5zdWJzdHIoMCw1NykudHJpbSgpKyIuLi4iO21bdl18fChiPXYpfWMmJmcuaW5zZXJ0VGV4dCE9PXZvaWQgMCYmKGcudGV4dEVkaXQ9WS5yZXBsYWNlKGMsZy5pbnNlcnRUZXh0KSksZCYmKGcuY29tbWl0Q2hhcmFjdGVycz1nLmtpbmQ9PT1RLlByb3BlcnR5P0FuOlNuKSxnLmxhYmVsPWIsbVtiXT1nLGEuaXRlbXMucHVzaChnKX19LHNldEFzSW5jb21wbGV0ZTpmdW5jdGlvbigpe2EuaXNJbmNvbXBsZXRlPSEwfSxlcnJvcjpmdW5jdGlvbihnKXtjb25zb2xlLmVycm9yKGcpfSxsb2c6ZnVuY3Rpb24oZyl7Y29uc29sZS5sb2coZyl9LGdldE51bWJlck9mUHJvcG9zYWxzOmZ1bmN0aW9uKCl7cmV0dXJuIGEuaXRlbXMubGVuZ3RofX07cmV0dXJuIHRoaXMuc2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZShyLnVyaSxlKS50aGVuKGZ1bmN0aW9uKGcpe3ZhciBiPVtdLHk9ITAsdj0iIixPPXZvaWQgMDtpZihmJiZmLnR5cGU9PT0ic3RyaW5nIil7dmFyIEU9Zi5wYXJlbnQ7RSYmRS50eXBlPT09InByb3BlcnR5IiYmRS5rZXlOb2RlPT09ZiYmKHk9IUUudmFsdWVOb2RlLE89RSx2PXMuc3Vic3RyKGYub2Zmc2V0KzEsZi5sZW5ndGgtMiksRSYmKGY9RS5wYXJlbnQpKX1pZihmJiZmLnR5cGU9PT0ib2JqZWN0Iil7aWYoZi5vZmZzZXQ9PT1vKXJldHVybiBhO3ZhciBJPWYucHJvcGVydGllcztJLmZvckVhY2goZnVuY3Rpb24oQyl7KCFPfHxPIT09QykmJihtW0Mua2V5Tm9kZS52YWx1ZV09JGUuY3JlYXRlKCJfXyIpKX0pO3ZhciBBPSIiO3kmJihBPW4uZXZhbHVhdGVTZXBhcmF0b3JBZnRlcihyLHIub2Zmc2V0QXQoYy5lbmQpKSksZz9uLmdldFByb3BlcnR5Q29tcGxldGlvbnMoZyxlLGYseSxBLHApOm4uZ2V0U2NoZW1hTGVzc1Byb3BlcnR5Q29tcGxldGlvbnMoZSxmLHYscCk7dmFyIFA9SmUoZik7bi5jb250cmlidXRpb25zLmZvckVhY2goZnVuY3Rpb24oQyl7dmFyIEY9Qy5jb2xsZWN0UHJvcGVydHlDb21wbGV0aW9ucyhyLnVyaSxQLHUseSxBPT09IiIscCk7RiYmYi5wdXNoKEYpfSksIWcmJnUubGVuZ3RoPjAmJnMuY2hhckF0KG8tdS5sZW5ndGgtMSkhPT0nIicmJihwLmFkZCh7a2luZDpRLlByb3BlcnR5LGxhYmVsOm4uZ2V0TGFiZWxGb3JWYWx1ZSh1KSxpbnNlcnRUZXh0Om4uZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KHUsdm9pZCAwLCExLEEpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGRvY3VtZW50YXRpb246IiJ9KSxwLnNldEFzSW5jb21wbGV0ZSgpKX12YXIgdz17fTtyZXR1cm4gZz9uLmdldFZhbHVlQ29tcGxldGlvbnMoZyxlLGYsbyxyLHAsdyk6bi5nZXRTY2hlbWFMZXNzVmFsdWVDb21wbGV0aW9ucyhlLGYsbyxyLHApLG4uY29udHJpYnV0aW9ucy5sZW5ndGg+MCYmbi5nZXRDb250cmlidXRlZFZhbHVlQ29tcGxldGlvbnMoZSxmLG8scixwLGIpLG4ucHJvbWlzZUNvbnN0cnVjdG9yLmFsbChiKS50aGVuKGZ1bmN0aW9uKCl7aWYocC5nZXROdW1iZXJPZlByb3Bvc2FscygpPT09MCl7dmFyIEM9bztmJiYoZi50eXBlPT09InN0cmluZyJ8fGYudHlwZT09PSJudW1iZXIifHxmLnR5cGU9PT0iYm9vbGVhbiJ8fGYudHlwZT09PSJudWxsIikmJihDPWYub2Zmc2V0K2YubGVuZ3RoKTt2YXIgRj1uLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIocixDKTtuLmFkZEZpbGxlclZhbHVlQ29tcGxldGlvbnModyxGLHApfXJldHVybiBhfSl9KX0sdC5wcm90b3R5cGUuZ2V0UHJvcGVydHlDb21wbGV0aW9ucz1mdW5jdGlvbihyLGksZSxuLGEscyl7dmFyIG89dGhpcyxmPWkuZ2V0TWF0Y2hpbmdTY2hlbWFzKHIuc2NoZW1hLGUub2Zmc2V0KTtmLmZvckVhY2goZnVuY3Rpb24obCl7aWYobC5ub2RlPT09ZSYmIWwuaW52ZXJ0ZWQpe3ZhciB1PWwuc2NoZW1hLnByb3BlcnRpZXM7dSYmT2JqZWN0LmtleXModSkuZm9yRWFjaChmdW5jdGlvbihwKXt2YXIgZz11W3BdO2lmKHR5cGVvZiBnPT0ib2JqZWN0IiYmIWcuZGVwcmVjYXRpb25NZXNzYWdlJiYhZy5kb05vdFN1Z2dlc3Qpe3ZhciBiPXtraW5kOlEuUHJvcGVydHksbGFiZWw6cCxpbnNlcnRUZXh0Om8uZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KHAsZyxuLGEpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGZpbHRlclRleHQ6by5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUocCksZG9jdW1lbnRhdGlvbjpvLmZyb21NYXJrdXAoZy5tYXJrZG93bkRlc2NyaXB0aW9uKXx8Zy5kZXNjcmlwdGlvbnx8IiJ9O2cuc3VnZ2VzdFNvcnRUZXh0IT09dm9pZCAwJiYoYi5zb3J0VGV4dD1nLnN1Z2dlc3RTb3J0VGV4dCksYi5pbnNlcnRUZXh0JiZwZShiLmluc2VydFRleHQsIiQxIi5jb25jYXQoYSkpJiYoYi5jb21tYW5kPXt0aXRsZToiU3VnZ2VzdCIsY29tbWFuZDoiZWRpdG9yLmFjdGlvbi50cmlnZ2VyU3VnZ2VzdCJ9KSxzLmFkZChiKX19KTt2YXIgYz1sLnNjaGVtYS5wcm9wZXJ0eU5hbWVzO2lmKHR5cGVvZiBjPT0ib2JqZWN0IiYmIWMuZGVwcmVjYXRpb25NZXNzYWdlJiYhYy5kb05vdFN1Z2dlc3Qpe3ZhciBoPWZ1bmN0aW9uKHAsZyl7Zz09PXZvaWQgMCYmKGc9dm9pZCAwKTt2YXIgYj17a2luZDpRLlByb3BlcnR5LGxhYmVsOnAsaW5zZXJ0VGV4dDpvLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eShwLHZvaWQgMCxuLGEpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGZpbHRlclRleHQ6by5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUocCksZG9jdW1lbnRhdGlvbjpnfHxvLmZyb21NYXJrdXAoYy5tYXJrZG93bkRlc2NyaXB0aW9uKXx8Yy5kZXNjcmlwdGlvbnx8IiJ9O2Muc3VnZ2VzdFNvcnRUZXh0IT09dm9pZCAwJiYoYi5zb3J0VGV4dD1jLnN1Z2dlc3RTb3J0VGV4dCksYi5pbnNlcnRUZXh0JiZwZShiLmluc2VydFRleHQsIiQxIi5jb25jYXQoYSkpJiYoYi5jb21tYW5kPXt0aXRsZToiU3VnZ2VzdCIsY29tbWFuZDoiZWRpdG9yLmFjdGlvbi50cmlnZ2VyU3VnZ2VzdCJ9KSxzLmFkZChiKX07aWYoYy5lbnVtKWZvcih2YXIgZD0wO2Q8Yy5lbnVtLmxlbmd0aDtkKyspe3ZhciBtPXZvaWQgMDtjLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucyYmZDxjLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucy5sZW5ndGg/bT1vLmZyb21NYXJrdXAoYy5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnNbZF0pOmMuZW51bURlc2NyaXB0aW9ucyYmZDxjLmVudW1EZXNjcmlwdGlvbnMubGVuZ3RoJiYobT1jLmVudW1EZXNjcmlwdGlvbnNbZF0pLGgoYy5lbnVtW2RdLG0pfWMuY29uc3QmJmgoYy5jb25zdCl9fX0pfSx0LnByb3RvdHlwZS5nZXRTY2hlbWFMZXNzUHJvcGVydHlDb21wbGV0aW9ucz1mdW5jdGlvbihyLGksZSxuKXt2YXIgYT10aGlzLHM9ZnVuY3Rpb24oZil7Zi5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24obCl7dmFyIHU9bC5rZXlOb2RlLnZhbHVlO24uYWRkKHtraW5kOlEuUHJvcGVydHksbGFiZWw6dSxpbnNlcnRUZXh0OmEuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHUsIiIpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGZpbHRlclRleHQ6YS5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUodSksZG9jdW1lbnRhdGlvbjoiIn0pfSl9O2lmKGkucGFyZW50KWlmKGkucGFyZW50LnR5cGU9PT0icHJvcGVydHkiKXt2YXIgbz1pLnBhcmVudC5rZXlOb2RlLnZhbHVlO3IudmlzaXQoZnVuY3Rpb24oZil7cmV0dXJuIGYudHlwZT09PSJwcm9wZXJ0eSImJmYhPT1pLnBhcmVudCYmZi5rZXlOb2RlLnZhbHVlPT09byYmZi52YWx1ZU5vZGUmJmYudmFsdWVOb2RlLnR5cGU9PT0ib2JqZWN0IiYmcyhmLnZhbHVlTm9kZSksITB9KX1lbHNlIGkucGFyZW50LnR5cGU9PT0iYXJyYXkiJiZpLnBhcmVudC5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGYpe2YudHlwZT09PSJvYmplY3QiJiZmIT09aSYmcyhmKX0pO2Vsc2UgaS50eXBlPT09Im9iamVjdCImJm4uYWRkKHtraW5kOlEuUHJvcGVydHksbGFiZWw6IiRzY2hlbWEiLGluc2VydFRleHQ6dGhpcy5nZXRJbnNlcnRUZXh0Rm9yUHJvcGVydHkoIiRzY2hlbWEiLHZvaWQgMCwhMCwiIiksaW5zZXJ0VGV4dEZvcm1hdDp6LlNuaXBwZXQsZG9jdW1lbnRhdGlvbjoiIixmaWx0ZXJUZXh0OnRoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKCIkc2NoZW1hIil9KX0sdC5wcm90b3R5cGUuZ2V0U2NoZW1hTGVzc1ZhbHVlQ29tcGxldGlvbnM9ZnVuY3Rpb24ocixpLGUsbixhKXt2YXIgcz10aGlzLG89ZTtpZihpJiYoaS50eXBlPT09InN0cmluZyJ8fGkudHlwZT09PSJudW1iZXIifHxpLnR5cGU9PT0iYm9vbGVhbiJ8fGkudHlwZT09PSJudWxsIikmJihvPWkub2Zmc2V0K2kubGVuZ3RoLGk9aS5wYXJlbnQpLCFpKXthLmFkZCh7a2luZDp0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCJvYmplY3QiKSxsYWJlbDoiRW1wdHkgb2JqZWN0IixpbnNlcnRUZXh0OnRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHt9LCIiKSxpbnNlcnRUZXh0Rm9ybWF0OnouU25pcHBldCxkb2N1bWVudGF0aW9uOiIifSksYS5hZGQoe2tpbmQ6dGhpcy5nZXRTdWdnZXN0aW9uS2luZCgiYXJyYXkiKSxsYWJlbDoiRW1wdHkgYXJyYXkiLGluc2VydFRleHQ6dGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoW10sIiIpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGRvY3VtZW50YXRpb246IiJ9KTtyZXR1cm59dmFyIGY9dGhpcy5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyKG4sbyksbD1mdW5jdGlvbihkKXtkLnBhcmVudCYmIVJ0KGQucGFyZW50LGUsITApJiZhLmFkZCh7a2luZDpzLmdldFN1Z2dlc3Rpb25LaW5kKGQudHlwZSksbGFiZWw6cy5nZXRMYWJlbFRleHRGb3JNYXRjaGluZ05vZGUoZCxuKSxpbnNlcnRUZXh0OnMuZ2V0SW5zZXJ0VGV4dEZvck1hdGNoaW5nTm9kZShkLG4sZiksaW5zZXJ0VGV4dEZvcm1hdDp6LlNuaXBwZXQsZG9jdW1lbnRhdGlvbjoiIn0pLGQudHlwZT09PSJib29sZWFuIiYmcy5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uKCFkLnZhbHVlLGYsYSl9O2lmKGkudHlwZT09PSJwcm9wZXJ0eSImJmU+KGkuY29sb25PZmZzZXR8fDApKXt2YXIgdT1pLnZhbHVlTm9kZTtpZih1JiYoZT51Lm9mZnNldCt1Lmxlbmd0aHx8dS50eXBlPT09Im9iamVjdCJ8fHUudHlwZT09PSJhcnJheSIpKXJldHVybjt2YXIgYz1pLmtleU5vZGUudmFsdWU7ci52aXNpdChmdW5jdGlvbihkKXtyZXR1cm4gZC50eXBlPT09InByb3BlcnR5IiYmZC5rZXlOb2RlLnZhbHVlPT09YyYmZC52YWx1ZU5vZGUmJmwoZC52YWx1ZU5vZGUpLCEwfSksYz09PSIkc2NoZW1hIiYmaS5wYXJlbnQmJiFpLnBhcmVudC5wYXJlbnQmJnRoaXMuYWRkRG9sbGFyU2NoZW1hQ29tcGxldGlvbnMoZixhKX1pZihpLnR5cGU9PT0iYXJyYXkiKWlmKGkucGFyZW50JiZpLnBhcmVudC50eXBlPT09InByb3BlcnR5Iil7dmFyIGg9aS5wYXJlbnQua2V5Tm9kZS52YWx1ZTtyLnZpc2l0KGZ1bmN0aW9uKGQpe3JldHVybiBkLnR5cGU9PT0icHJvcGVydHkiJiZkLmtleU5vZGUudmFsdWU9PT1oJiZkLnZhbHVlTm9kZSYmZC52YWx1ZU5vZGUudHlwZT09PSJhcnJheSImJmQudmFsdWVOb2RlLml0ZW1zLmZvckVhY2gobCksITB9KX1lbHNlIGkuaXRlbXMuZm9yRWFjaChsKX0sdC5wcm90b3R5cGUuZ2V0VmFsdWVDb21wbGV0aW9ucz1mdW5jdGlvbihyLGksZSxuLGEscyxvKXt2YXIgZj1uLGw9dm9pZCAwLHU9dm9pZCAwO2lmKGUmJihlLnR5cGU9PT0ic3RyaW5nInx8ZS50eXBlPT09Im51bWJlciJ8fGUudHlwZT09PSJib29sZWFuInx8ZS50eXBlPT09Im51bGwiKSYmKGY9ZS5vZmZzZXQrZS5sZW5ndGgsdT1lLGU9ZS5wYXJlbnQpLCFlKXt0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMoci5zY2hlbWEsIiIscyxvKTtyZXR1cm59aWYoZS50eXBlPT09InByb3BlcnR5IiYmbj4oZS5jb2xvbk9mZnNldHx8MCkpe3ZhciBjPWUudmFsdWVOb2RlO2lmKGMmJm4+Yy5vZmZzZXQrYy5sZW5ndGgpcmV0dXJuO2w9ZS5rZXlOb2RlLnZhbHVlLGU9ZS5wYXJlbnR9aWYoZSYmKGwhPT12b2lkIDB8fGUudHlwZT09PSJhcnJheSIpKXtmb3IodmFyIGg9dGhpcy5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyKGEsZiksZD1pLmdldE1hdGNoaW5nU2NoZW1hcyhyLnNjaGVtYSxlLm9mZnNldCx1KSxtPTAscD1kO208cC5sZW5ndGg7bSsrKXt2YXIgZz1wW21dO2lmKGcubm9kZT09PWUmJiFnLmludmVydGVkJiZnLnNjaGVtYSl7aWYoZS50eXBlPT09ImFycmF5IiYmZy5zY2hlbWEuaXRlbXMpaWYoQXJyYXkuaXNBcnJheShnLnNjaGVtYS5pdGVtcykpe3ZhciBiPXRoaXMuZmluZEl0ZW1BdE9mZnNldChlLGEsbik7YjxnLnNjaGVtYS5pdGVtcy5sZW5ndGgmJnRoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhnLnNjaGVtYS5pdGVtc1tiXSxoLHMsbyl9ZWxzZSB0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMoZy5zY2hlbWEuaXRlbXMsaCxzLG8pO2lmKGwhPT12b2lkIDApe3ZhciB5PSExO2lmKGcuc2NoZW1hLnByb3BlcnRpZXMpe3ZhciB2PWcuc2NoZW1hLnByb3BlcnRpZXNbbF07diYmKHk9ITAsdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHYsaCxzLG8pKX1pZihnLnNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyYmIXkpZm9yKHZhciBPPTAsRT1PYmplY3Qua2V5cyhnLnNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyk7TzxFLmxlbmd0aDtPKyspe3ZhciBJPUVbT10sQT14ZShJKTtpZihBPy50ZXN0KGwpKXt5PSEwO3ZhciB2PWcuc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW0ldO3RoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyh2LGgscyxvKX19aWYoZy5zY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMmJiF5KXt2YXIgdj1nLnNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllczt0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnModixoLHMsbyl9fX19bD09PSIkc2NoZW1hIiYmIWUucGFyZW50JiZ0aGlzLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zKGgscyksby5ib29sZWFuJiYodGhpcy5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uKCEwLGgscyksdGhpcy5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uKCExLGgscykpLG8ubnVsbCYmdGhpcy5hZGROdWxsVmFsdWVDb21wbGV0aW9uKGgscyl9fSx0LnByb3RvdHlwZS5nZXRDb250cmlidXRlZFZhbHVlQ29tcGxldGlvbnM9ZnVuY3Rpb24ocixpLGUsbixhLHMpe2lmKCFpKXRoaXMuY29udHJpYnV0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHUpe3ZhciBjPXUuY29sbGVjdERlZmF1bHRDb21wbGV0aW9ucyhuLnVyaSxhKTtjJiZzLnB1c2goYyl9KTtlbHNlIGlmKChpLnR5cGU9PT0ic3RyaW5nInx8aS50eXBlPT09Im51bWJlciJ8fGkudHlwZT09PSJib29sZWFuInx8aS50eXBlPT09Im51bGwiKSYmKGk9aS5wYXJlbnQpLGkmJmkudHlwZT09PSJwcm9wZXJ0eSImJmU+KGkuY29sb25PZmZzZXR8fDApKXt2YXIgbz1pLmtleU5vZGUudmFsdWUsZj1pLnZhbHVlTm9kZTtpZigoIWZ8fGU8PWYub2Zmc2V0K2YubGVuZ3RoKSYmaS5wYXJlbnQpe3ZhciBsPUplKGkucGFyZW50KTt0aGlzLmNvbnRyaWJ1dGlvbnMuZm9yRWFjaChmdW5jdGlvbih1KXt2YXIgYz11LmNvbGxlY3RWYWx1ZUNvbXBsZXRpb25zKG4udXJpLGwsbyxhKTtjJiZzLnB1c2goYyl9KX19fSx0LnByb3RvdHlwZS5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zPWZ1bmN0aW9uKHIsaSxlLG4pe3ZhciBhPXRoaXM7dHlwZW9mIHI9PSJvYmplY3QiJiYodGhpcy5hZGRFbnVtVmFsdWVDb21wbGV0aW9ucyhyLGksZSksdGhpcy5hZGREZWZhdWx0VmFsdWVDb21wbGV0aW9ucyhyLGksZSksdGhpcy5jb2xsZWN0VHlwZXMocixuKSxBcnJheS5pc0FycmF5KHIuYWxsT2YpJiZyLmFsbE9mLmZvckVhY2goZnVuY3Rpb24ocyl7cmV0dXJuIGEuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhzLGksZSxuKX0pLEFycmF5LmlzQXJyYXkoci5hbnlPZikmJnIuYW55T2YuZm9yRWFjaChmdW5jdGlvbihzKXtyZXR1cm4gYS5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHMsaSxlLG4pfSksQXJyYXkuaXNBcnJheShyLm9uZU9mKSYmci5vbmVPZi5mb3JFYWNoKGZ1bmN0aW9uKHMpe3JldHVybiBhLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocyxpLGUsbil9KSl9LHQucHJvdG90eXBlLmFkZERlZmF1bHRWYWx1ZUNvbXBsZXRpb25zPWZ1bmN0aW9uKHIsaSxlLG4pe3ZhciBhPXRoaXM7bj09PXZvaWQgMCYmKG49MCk7dmFyIHM9ITE7aWYoc2Uoci5kZWZhdWx0KSl7Zm9yKHZhciBvPXIudHlwZSxmPXIuZGVmYXVsdCxsPW47bD4wO2wtLSlmPVtmXSxvPSJhcnJheSI7ZS5hZGQoe2tpbmQ6dGhpcy5nZXRTdWdnZXN0aW9uS2luZChvKSxsYWJlbDp0aGlzLmdldExhYmVsRm9yVmFsdWUoZiksaW5zZXJ0VGV4dDp0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShmLGkpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGRldGFpbDpVdCgianNvbi5zdWdnZXN0LmRlZmF1bHQiLCJEZWZhdWx0IHZhbHVlIil9KSxzPSEwfUFycmF5LmlzQXJyYXkoci5leGFtcGxlcykmJnIuZXhhbXBsZXMuZm9yRWFjaChmdW5jdGlvbih1KXtmb3IodmFyIGM9ci50eXBlLGg9dSxkPW47ZD4wO2QtLSloPVtoXSxjPSJhcnJheSI7ZS5hZGQoe2tpbmQ6YS5nZXRTdWdnZXN0aW9uS2luZChjKSxsYWJlbDphLmdldExhYmVsRm9yVmFsdWUoaCksaW5zZXJ0VGV4dDphLmdldEluc2VydFRleHRGb3JWYWx1ZShoLGkpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0fSkscz0hMH0pLEFycmF5LmlzQXJyYXkoci5kZWZhdWx0U25pcHBldHMpJiZyLmRlZmF1bHRTbmlwcGV0cy5mb3JFYWNoKGZ1bmN0aW9uKHUpe3ZhciBjPXIudHlwZSxoPXUuYm9keSxkPXUubGFiZWwsbSxwO2lmKHNlKGgpKXtmb3IodmFyIGc9ci50eXBlLGI9bjtiPjA7Yi0tKWg9W2hdLGc9ImFycmF5IjttPWEuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZShoLGkpLHA9YS5nZXRGaWx0ZXJUZXh0Rm9yU25pcHBldFZhbHVlKGgpLGQ9ZHx8YS5nZXRMYWJlbEZvclNuaXBwZXRWYWx1ZShoKX1lbHNlIGlmKHR5cGVvZiB1LmJvZHlUZXh0PT0ic3RyaW5nIil7Zm9yKHZhciB5PSIiLHY9IiIsTz0iIixiPW47Yj4wO2ItLSl5PXkrTytgWwpgLHY9ditgCmArTysiXSIsTys9IgkiLGM9ImFycmF5IjttPXkrTyt1LmJvZHlUZXh0LnNwbGl0KGAKYCkuam9pbihgCmArTykrditpLGQ9ZHx8bSxwPW0ucmVwbGFjZSgvW1xuXS9nLCIiKX1lbHNlIHJldHVybjtlLmFkZCh7a2luZDphLmdldFN1Z2dlc3Rpb25LaW5kKGMpLGxhYmVsOmQsZG9jdW1lbnRhdGlvbjphLmZyb21NYXJrdXAodS5tYXJrZG93bkRlc2NyaXB0aW9uKXx8dS5kZXNjcmlwdGlvbixpbnNlcnRUZXh0Om0saW5zZXJ0VGV4dEZvcm1hdDp6LlNuaXBwZXQsZmlsdGVyVGV4dDpwfSkscz0hMH0pLCFzJiZ0eXBlb2Ygci5pdGVtcz09Im9iamVjdCImJiFBcnJheS5pc0FycmF5KHIuaXRlbXMpJiZuPDUmJnRoaXMuYWRkRGVmYXVsdFZhbHVlQ29tcGxldGlvbnMoci5pdGVtcyxpLGUsbisxKX0sdC5wcm90b3R5cGUuYWRkRW51bVZhbHVlQ29tcGxldGlvbnM9ZnVuY3Rpb24ocixpLGUpe2lmKHNlKHIuY29uc3QpJiZlLmFkZCh7a2luZDp0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKHIudHlwZSksbGFiZWw6dGhpcy5nZXRMYWJlbEZvclZhbHVlKHIuY29uc3QpLGluc2VydFRleHQ6dGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoci5jb25zdCxpKSxpbnNlcnRUZXh0Rm9ybWF0OnouU25pcHBldCxkb2N1bWVudGF0aW9uOnRoaXMuZnJvbU1hcmt1cChyLm1hcmtkb3duRGVzY3JpcHRpb24pfHxyLmRlc2NyaXB0aW9ufSksQXJyYXkuaXNBcnJheShyLmVudW0pKWZvcih2YXIgbj0wLGE9ci5lbnVtLmxlbmd0aDtuPGE7bisrKXt2YXIgcz1yLmVudW1bbl0sbz10aGlzLmZyb21NYXJrdXAoci5tYXJrZG93bkRlc2NyaXB0aW9uKXx8ci5kZXNjcmlwdGlvbjtyLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucyYmbjxyLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucy5sZW5ndGgmJnRoaXMuZG9lc1N1cHBvcnRNYXJrZG93bigpP289dGhpcy5mcm9tTWFya3VwKHIubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zW25dKTpyLmVudW1EZXNjcmlwdGlvbnMmJm48ci5lbnVtRGVzY3JpcHRpb25zLmxlbmd0aCYmKG89ci5lbnVtRGVzY3JpcHRpb25zW25dKSxlLmFkZCh7a2luZDp0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKHIudHlwZSksbGFiZWw6dGhpcy5nZXRMYWJlbEZvclZhbHVlKHMpLGluc2VydFRleHQ6dGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUocyxpKSxpbnNlcnRUZXh0Rm9ybWF0OnouU25pcHBldCxkb2N1bWVudGF0aW9uOm99KX19LHQucHJvdG90eXBlLmNvbGxlY3RUeXBlcz1mdW5jdGlvbihyLGkpe2lmKCEoQXJyYXkuaXNBcnJheShyLmVudW0pfHxzZShyLmNvbnN0KSkpe3ZhciBlPXIudHlwZTtBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gaVtuXT0hMH0pOmUmJihpW2VdPSEwKX19LHQucHJvdG90eXBlLmFkZEZpbGxlclZhbHVlQ29tcGxldGlvbnM9ZnVuY3Rpb24ocixpLGUpe3Iub2JqZWN0JiZlLmFkZCh7a2luZDp0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCJvYmplY3QiKSxsYWJlbDoie30iLGluc2VydFRleHQ6dGhpcy5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlKHt9LGkpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGRldGFpbDpVdCgiZGVmYXVsdHMub2JqZWN0IiwiTmV3IG9iamVjdCIpLGRvY3VtZW50YXRpb246IiJ9KSxyLmFycmF5JiZlLmFkZCh7a2luZDp0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCJhcnJheSIpLGxhYmVsOiJbXSIsaW5zZXJ0VGV4dDp0aGlzLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUoW10saSksaW5zZXJ0VGV4dEZvcm1hdDp6LlNuaXBwZXQsZGV0YWlsOlV0KCJkZWZhdWx0cy5hcnJheSIsIk5ldyBhcnJheSIpLGRvY3VtZW50YXRpb246IiJ9KX0sdC5wcm90b3R5cGUuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbj1mdW5jdGlvbihyLGksZSl7ZS5hZGQoe2tpbmQ6dGhpcy5nZXRTdWdnZXN0aW9uS2luZCgiYm9vbGVhbiIpLGxhYmVsOnI/InRydWUiOiJmYWxzZSIsaW5zZXJ0VGV4dDp0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShyLGkpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGRvY3VtZW50YXRpb246IiJ9KX0sdC5wcm90b3R5cGUuYWRkTnVsbFZhbHVlQ29tcGxldGlvbj1mdW5jdGlvbihyLGkpe2kuYWRkKHtraW5kOnRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoIm51bGwiKSxsYWJlbDoibnVsbCIsaW5zZXJ0VGV4dDoibnVsbCIrcixpbnNlcnRUZXh0Rm9ybWF0OnouU25pcHBldCxkb2N1bWVudGF0aW9uOiIifSl9LHQucHJvdG90eXBlLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zPWZ1bmN0aW9uKHIsaSl7dmFyIGU9dGhpcyxuPXRoaXMuc2NoZW1hU2VydmljZS5nZXRSZWdpc3RlcmVkU2NoZW1hSWRzKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Imh0dHAifHxhPT09Imh0dHBzIn0pO24uZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gaS5hZGQoe2tpbmQ6US5Nb2R1bGUsbGFiZWw6ZS5nZXRMYWJlbEZvclZhbHVlKGEpLGZpbHRlclRleHQ6ZS5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUoYSksaW5zZXJ0VGV4dDplLmdldEluc2VydFRleHRGb3JWYWx1ZShhLHIpLGluc2VydFRleHRGb3JtYXQ6ei5TbmlwcGV0LGRvY3VtZW50YXRpb246IiJ9KX0pfSx0LnByb3RvdHlwZS5nZXRMYWJlbEZvclZhbHVlPWZ1bmN0aW9uKHIpe3JldHVybiBKU09OLnN0cmluZ2lmeShyKX0sdC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dEZvclZhbHVlPWZ1bmN0aW9uKHIpe3JldHVybiBKU09OLnN0cmluZ2lmeShyKX0sdC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dEZvclNuaXBwZXRWYWx1ZT1mdW5jdGlvbihyKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkocikucmVwbGFjZSgvXCRce1xkKzooW159XSspXH18XCRcZCsvZywiJDEiKX0sdC5wcm90b3R5cGUuZ2V0TGFiZWxGb3JTbmlwcGV0VmFsdWU9ZnVuY3Rpb24ocil7dmFyIGk9SlNPTi5zdHJpbmdpZnkocik7cmV0dXJuIGkucmVwbGFjZSgvXCRce1xkKzooW159XSspXH18XCRcZCsvZywiJDEiKX0sdC5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvclBsYWluVGV4dD1mdW5jdGlvbihyKXtyZXR1cm4gci5yZXBsYWNlKC9bXFxcJFx9XS9nLCJcXCQmIil9LHQucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JWYWx1ZT1mdW5jdGlvbihyLGkpe3ZhciBlPUpTT04uc3RyaW5naWZ5KHIsbnVsbCwiCSIpO3JldHVybiBlPT09Int9Ij8ieyQxfSIraTplPT09IltdIj8iWyQxXSIraTp0aGlzLmdldEluc2VydFRleHRGb3JQbGFpblRleHQoZStpKX0sdC5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZT1mdW5jdGlvbihyLGkpe3ZhciBlPWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09InN0cmluZyImJm5bMF09PT0iXiI/bi5zdWJzdHIoMSk6SlNPTi5zdHJpbmdpZnkobil9O3JldHVybiB0dChyLCIiLGUpK2l9LHQucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWU9ZnVuY3Rpb24ocixpKXtzd2l0Y2godHlwZW9mIHIpe2Nhc2Uib2JqZWN0IjpyZXR1cm4gcj09PW51bGw/IiR7MTpudWxsfSIraTp0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShyLGkpO2Nhc2Uic3RyaW5nIjp2YXIgZT1KU09OLnN0cmluZ2lmeShyKTtyZXR1cm4gZT1lLnN1YnN0cigxLGUubGVuZ3RoLTIpLGU9dGhpcy5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0KGUpLCciJHsxOicrZSsnfSInK2k7Y2FzZSJudW1iZXIiOmNhc2UiYm9vbGVhbiI6cmV0dXJuIiR7MToiK0pTT04uc3RyaW5naWZ5KHIpKyJ9IitpfXJldHVybiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShyLGkpfSx0LnByb3RvdHlwZS5nZXRTdWdnZXN0aW9uS2luZD1mdW5jdGlvbihyKXtpZihBcnJheS5pc0FycmF5KHIpKXt2YXIgaT1yO3I9aS5sZW5ndGg+MD9pWzBdOnZvaWQgMH1pZighcilyZXR1cm4gUS5WYWx1ZTtzd2l0Y2gocil7Y2FzZSJzdHJpbmciOnJldHVybiBRLlZhbHVlO2Nhc2Uib2JqZWN0IjpyZXR1cm4gUS5Nb2R1bGU7Y2FzZSJwcm9wZXJ0eSI6cmV0dXJuIFEuUHJvcGVydHk7ZGVmYXVsdDpyZXR1cm4gUS5WYWx1ZX19LHQucHJvdG90eXBlLmdldExhYmVsVGV4dEZvck1hdGNoaW5nTm9kZT1mdW5jdGlvbihyLGkpe3N3aXRjaChyLnR5cGUpe2Nhc2UiYXJyYXkiOnJldHVybiJbXSI7Y2FzZSJvYmplY3QiOnJldHVybiJ7fSI7ZGVmYXVsdDp2YXIgZT1pLmdldFRleHQoKS5zdWJzdHIoci5vZmZzZXQsci5sZW5ndGgpO3JldHVybiBlfX0sdC5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvck1hdGNoaW5nTm9kZT1mdW5jdGlvbihyLGksZSl7c3dpdGNoKHIudHlwZSl7Y2FzZSJhcnJheSI6cmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKFtdLGUpO2Nhc2Uib2JqZWN0IjpyZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoe30sZSk7ZGVmYXVsdDp2YXIgbj1pLmdldFRleHQoKS5zdWJzdHIoci5vZmZzZXQsci5sZW5ndGgpK2U7cmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclBsYWluVGV4dChuKX19LHQucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eT1mdW5jdGlvbihyLGksZSxuKXt2YXIgYT10aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShyLCIiKTtpZighZSlyZXR1cm4gYTt2YXIgcz1hKyI6ICIsbyxmPTA7aWYoaSl7aWYoQXJyYXkuaXNBcnJheShpLmRlZmF1bHRTbmlwcGV0cykpe2lmKGkuZGVmYXVsdFNuaXBwZXRzLmxlbmd0aD09PTEpe3ZhciBsPWkuZGVmYXVsdFNuaXBwZXRzWzBdLmJvZHk7c2UobCkmJihvPXRoaXMuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZShsLCIiKSl9Zis9aS5kZWZhdWx0U25pcHBldHMubGVuZ3RofWlmKGkuZW51bSYmKCFvJiZpLmVudW0ubGVuZ3RoPT09MSYmKG89dGhpcy5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlKGkuZW51bVswXSwiIikpLGYrPWkuZW51bS5sZW5ndGgpLHNlKGkuZGVmYXVsdCkmJihvfHwobz10aGlzLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUoaS5kZWZhdWx0LCIiKSksZisrKSxBcnJheS5pc0FycmF5KGkuZXhhbXBsZXMpJiZpLmV4YW1wbGVzLmxlbmd0aCYmKG98fChvPXRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZShpLmV4YW1wbGVzWzBdLCIiKSksZis9aS5leGFtcGxlcy5sZW5ndGgpLGY9PT0wKXt2YXIgdT1BcnJheS5pc0FycmF5KGkudHlwZSk/aS50eXBlWzBdOmkudHlwZTtzd2l0Y2godXx8KGkucHJvcGVydGllcz91PSJvYmplY3QiOmkuaXRlbXMmJih1PSJhcnJheSIpKSx1KXtjYXNlImJvb2xlYW4iOm89IiQxIjticmVhaztjYXNlInN0cmluZyI6bz0nIiQxIic7YnJlYWs7Y2FzZSJvYmplY3QiOm89InskMX0iO2JyZWFrO2Nhc2UiYXJyYXkiOm89IlskMV0iO2JyZWFrO2Nhc2UibnVtYmVyIjpjYXNlImludGVnZXIiOm89IiR7MTowfSI7YnJlYWs7Y2FzZSJudWxsIjpvPSIkezE6bnVsbH0iO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGF9fX1yZXR1cm4oIW98fGY+MSkmJihvPSIkMSIpLHMrbytufSx0LnByb3RvdHlwZS5nZXRDdXJyZW50V29yZD1mdW5jdGlvbihyLGkpe2Zvcih2YXIgZT1pLTEsbj1yLmdldFRleHQoKTtlPj0wJiZgIAkKXHJcdiI6e1ssXX1gLmluZGV4T2Yobi5jaGFyQXQoZSkpPT09LTE7KWUtLTtyZXR1cm4gbi5zdWJzdHJpbmcoZSsxLGkpfSx0LnByb3RvdHlwZS5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyPWZ1bmN0aW9uKHIsaSl7dmFyIGU9bGUoci5nZXRUZXh0KCksITApO2Uuc2V0UG9zaXRpb24oaSk7dmFyIG49ZS5zY2FuKCk7c3dpdGNoKG4pe2Nhc2UgNTpjYXNlIDI6Y2FzZSA0OmNhc2UgMTc6cmV0dXJuIiI7ZGVmYXVsdDpyZXR1cm4iLCJ9fSx0LnByb3RvdHlwZS5maW5kSXRlbUF0T2Zmc2V0PWZ1bmN0aW9uKHIsaSxlKXtmb3IodmFyIG49bGUoaS5nZXRUZXh0KCksITApLGE9ci5pdGVtcyxzPWEubGVuZ3RoLTE7cz49MDtzLS0pe3ZhciBvPWFbc107aWYoZT5vLm9mZnNldCtvLmxlbmd0aCl7bi5zZXRQb3NpdGlvbihvLm9mZnNldCtvLmxlbmd0aCk7dmFyIGY9bi5zY2FuKCk7cmV0dXJuIGY9PT01JiZlPj1uLmdldFRva2VuT2Zmc2V0KCkrbi5nZXRUb2tlbkxlbmd0aCgpP3MrMTpzfWVsc2UgaWYoZT49by5vZmZzZXQpcmV0dXJuIHN9cmV0dXJuIDB9LHQucHJvdG90eXBlLmlzSW5Db21tZW50PWZ1bmN0aW9uKHIsaSxlKXt2YXIgbj1sZShyLmdldFRleHQoKSwhMSk7bi5zZXRQb3NpdGlvbihpKTtmb3IodmFyIGE9bi5zY2FuKCk7YSE9PTE3JiZuLmdldFRva2VuT2Zmc2V0KCkrbi5nZXRUb2tlbkxlbmd0aCgpPGU7KWE9bi5zY2FuKCk7cmV0dXJuKGE9PT0xMnx8YT09PTEzKSYmbi5nZXRUb2tlbk9mZnNldCgpPD1lfSx0LnByb3RvdHlwZS5mcm9tTWFya3VwPWZ1bmN0aW9uKHIpe2lmKHImJnRoaXMuZG9lc1N1cHBvcnRNYXJrZG93bigpKXJldHVybntraW5kOmZlLk1hcmtkb3duLHZhbHVlOnJ9fSx0LnByb3RvdHlwZS5kb2VzU3VwcG9ydE1hcmtkb3duPWZ1bmN0aW9uKCl7aWYoIXNlKHRoaXMuc3VwcG9ydHNNYXJrZG93bikpe3ZhciByPXRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzLnRleHREb2N1bWVudCYmdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMudGV4dERvY3VtZW50LmNvbXBsZXRpb247dGhpcy5zdXBwb3J0c01hcmtkb3duPXImJnIuY29tcGxldGlvbkl0ZW0mJkFycmF5LmlzQXJyYXkoci5jb21wbGV0aW9uSXRlbS5kb2N1bWVudGF0aW9uRm9ybWF0KSYmci5jb21wbGV0aW9uSXRlbS5kb2N1bWVudGF0aW9uRm9ybWF0LmluZGV4T2YoZmUuTWFya2Rvd24pIT09LTF9cmV0dXJuIHRoaXMuc3VwcG9ydHNNYXJrZG93bn0sdC5wcm90b3R5cGUuZG9lc1N1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycz1mdW5jdGlvbigpe2lmKCFzZSh0aGlzLnN1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycykpe3ZhciByPXRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzLnRleHREb2N1bWVudCYmdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMudGV4dERvY3VtZW50LmNvbXBsZXRpb247dGhpcy5zdXBwb3J0c0NvbW1pdENoYXJhY3RlcnM9ciYmci5jb21wbGV0aW9uSXRlbSYmISFyLmNvbXBsZXRpb25JdGVtLmNvbW1pdENoYXJhY3RlcnNTdXBwb3J0fXJldHVybiB0aGlzLnN1cHBvcnRzQ29tbWl0Q2hhcmFjdGVyc30sdH0oKTt2YXIgUHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsaSxlKXtpPT09dm9pZCAwJiYoaT1bXSksdGhpcy5zY2hlbWFTZXJ2aWNlPXIsdGhpcy5jb250cmlidXRpb25zPWksdGhpcy5wcm9taXNlPWV8fFByb21pc2V9cmV0dXJuIHQucHJvdG90eXBlLmRvSG92ZXI9ZnVuY3Rpb24ocixpLGUpe3ZhciBuPXIub2Zmc2V0QXQoaSksYT1lLmdldE5vZGVGcm9tT2Zmc2V0KG4pO2lmKCFhfHwoYS50eXBlPT09Im9iamVjdCJ8fGEudHlwZT09PSJhcnJheSIpJiZuPmEub2Zmc2V0KzEmJm48YS5vZmZzZXQrYS5sZW5ndGgtMSlyZXR1cm4gdGhpcy5wcm9taXNlLnJlc29sdmUobnVsbCk7dmFyIHM9YTtpZihhLnR5cGU9PT0ic3RyaW5nIil7dmFyIG89YS5wYXJlbnQ7aWYobyYmby50eXBlPT09InByb3BlcnR5IiYmby5rZXlOb2RlPT09YSYmKGE9by52YWx1ZU5vZGUsIWEpKXJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShudWxsKX1mb3IodmFyIGY9VS5jcmVhdGUoci5wb3NpdGlvbkF0KHMub2Zmc2V0KSxyLnBvc2l0aW9uQXQocy5vZmZzZXQrcy5sZW5ndGgpKSxsPWZ1bmN0aW9uKG0pe3ZhciBwPXtjb250ZW50czptLHJhbmdlOmZ9O3JldHVybiBwfSx1PUplKGEpLGM9dGhpcy5jb250cmlidXRpb25zLmxlbmd0aC0xO2M+PTA7Yy0tKXt2YXIgaD10aGlzLmNvbnRyaWJ1dGlvbnNbY10sZD1oLmdldEluZm9Db250cmlidXRpb24oci51cmksdSk7aWYoZClyZXR1cm4gZC50aGVuKGZ1bmN0aW9uKG0pe3JldHVybiBsKG0pfSl9cmV0dXJuIHRoaXMuc2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZShyLnVyaSxlKS50aGVuKGZ1bmN0aW9uKG0pe2lmKG0mJmEpe3ZhciBwPWUuZ2V0TWF0Y2hpbmdTY2hlbWFzKG0uc2NoZW1hLGEub2Zmc2V0KSxnPXZvaWQgMCxiPXZvaWQgMCx5PXZvaWQgMCx2PXZvaWQgMDtwLmV2ZXJ5KGZ1bmN0aW9uKEUpe2lmKEUubm9kZT09PWEmJiFFLmludmVydGVkJiZFLnNjaGVtYSYmKGc9Z3x8RS5zY2hlbWEudGl0bGUsYj1ifHxFLnNjaGVtYS5tYXJrZG93bkRlc2NyaXB0aW9ufHxXdChFLnNjaGVtYS5kZXNjcmlwdGlvbiksRS5zY2hlbWEuZW51bSkpe3ZhciBJPUUuc2NoZW1hLmVudW0uaW5kZXhPZihkZShhKSk7RS5zY2hlbWEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zP3k9RS5zY2hlbWEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zW0ldOkUuc2NoZW1hLmVudW1EZXNjcmlwdGlvbnMmJih5PVd0KEUuc2NoZW1hLmVudW1EZXNjcmlwdGlvbnNbSV0pKSx5JiYodj1FLnNjaGVtYS5lbnVtW0ldLHR5cGVvZiB2IT0ic3RyaW5nIiYmKHY9SlNPTi5zdHJpbmdpZnkodikpKX1yZXR1cm4hMH0pO3ZhciBPPSIiO3JldHVybiBnJiYoTz1XdChnKSksYiYmKE8ubGVuZ3RoPjAmJihPKz1gCgpgKSxPKz1iKSx5JiYoTy5sZW5ndGg+MCYmKE8rPWAKCmApLE8rPSJgIi5jb25jYXQod24odiksImA6ICIpLmNvbmNhdCh5KSksbChbT10pfXJldHVybiBudWxsfSl9LHR9KCk7ZnVuY3Rpb24gV3QodCl7aWYodCl7dmFyIHI9dC5yZXBsYWNlKC8oW15cblxyXSkoXHI/XG4pKFteXG5ccl0pL2dtLGAkMQoKJDNgKTtyZXR1cm4gci5yZXBsYWNlKC9bXFxgKl97fVtcXSgpIytcLS4hXS9nLCJcXCQmIil9fWZ1bmN0aW9uIHduKHQpe3JldHVybiB0LmluZGV4T2YoImAiKSE9PS0xPyJgYCAiK3QrIiBgYCI6dH12YXIgVG49aGUoKSxqcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocixpKXt0aGlzLmpzb25TY2hlbWFTZXJ2aWNlPXIsdGhpcy5wcm9taXNlPWksdGhpcy52YWxpZGF0aW9uRW5hYmxlZD0hMH1yZXR1cm4gdC5wcm90b3R5cGUuY29uZmlndXJlPWZ1bmN0aW9uKHIpe3ImJih0aGlzLnZhbGlkYXRpb25FbmFibGVkPXIudmFsaWRhdGUhPT0hMSx0aGlzLmNvbW1lbnRTZXZlcml0eT1yLmFsbG93Q29tbWVudHM/dm9pZCAwOlouRXJyb3IpfSx0LnByb3RvdHlwZS5kb1ZhbGlkYXRpb249ZnVuY3Rpb24ocixpLGUsbil7dmFyIGE9dGhpcztpZighdGhpcy52YWxpZGF0aW9uRW5hYmxlZClyZXR1cm4gdGhpcy5wcm9taXNlLnJlc29sdmUoW10pO3ZhciBzPVtdLG89e30sZj1mdW5jdGlvbihoKXt2YXIgZD1oLnJhbmdlLnN0YXJ0LmxpbmUrIiAiK2gucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyKyIgIitoLm1lc3NhZ2U7b1tkXXx8KG9bZF09ITAscy5wdXNoKGgpKX0sbD1mdW5jdGlvbihoKXt2YXIgZD1lPy50cmFpbGluZ0NvbW1hcz9ydChlLnRyYWlsaW5nQ29tbWFzKTpaLkVycm9yLG09ZT8uY29tbWVudHM/cnQoZS5jb21tZW50cyk6YS5jb21tZW50U2V2ZXJpdHkscD1lPy5zY2hlbWFWYWxpZGF0aW9uP3J0KGUuc2NoZW1hVmFsaWRhdGlvbik6Wi5XYXJuaW5nLGc9ZT8uc2NoZW1hUmVxdWVzdD9ydChlLnNjaGVtYVJlcXVlc3QpOlouV2FybmluZztpZihoKXtpZihoLmVycm9ycy5sZW5ndGgmJmkucm9vdCYmZyl7dmFyIGI9aS5yb290LHk9Yi50eXBlPT09Im9iamVjdCI/Yi5wcm9wZXJ0aWVzWzBdOnZvaWQgMDtpZih5JiZ5LmtleU5vZGUudmFsdWU9PT0iJHNjaGVtYSIpe3ZhciB2PXkudmFsdWVOb2RlfHx5LE89VS5jcmVhdGUoci5wb3NpdGlvbkF0KHYub2Zmc2V0KSxyLnBvc2l0aW9uQXQodi5vZmZzZXQrdi5sZW5ndGgpKTtmKGFlLmNyZWF0ZShPLGguZXJyb3JzWzBdLGcsVy5TY2hlbWFSZXNvbHZlRXJyb3IpKX1lbHNle3ZhciBPPVUuY3JlYXRlKHIucG9zaXRpb25BdChiLm9mZnNldCksci5wb3NpdGlvbkF0KGIub2Zmc2V0KzEpKTtmKGFlLmNyZWF0ZShPLGguZXJyb3JzWzBdLGcsVy5TY2hlbWFSZXNvbHZlRXJyb3IpKX19ZWxzZSBpZihwKXt2YXIgRT1pLnZhbGlkYXRlKHIsaC5zY2hlbWEscCk7RSYmRS5mb3JFYWNoKGYpfUVyKGguc2NoZW1hKSYmKG09dm9pZCAwKSxJcihoLnNjaGVtYSkmJihkPXZvaWQgMCl9Zm9yKHZhciBJPTAsQT1pLnN5bnRheEVycm9ycztJPEEubGVuZ3RoO0krKyl7dmFyIFA9QVtJXTtpZihQLmNvZGU9PT1XLlRyYWlsaW5nQ29tbWEpe2lmKHR5cGVvZiBkIT0ibnVtYmVyIiljb250aW51ZTtQLnNldmVyaXR5PWR9ZihQKX1pZih0eXBlb2YgbT09Im51bWJlciIpe3ZhciB3PVRuKCJJbnZhbGlkQ29tbWVudFRva2VuIiwiQ29tbWVudHMgYXJlIG5vdCBwZXJtaXR0ZWQgaW4gSlNPTi4iKTtpLmNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24oQyl7ZihhZS5jcmVhdGUoQyx3LG0sVy5Db21tZW50Tm90UGVybWl0dGVkKSl9KX1yZXR1cm4gc307aWYobil7dmFyIHU9bi5pZHx8InNjaGVtYXNlcnZpY2U6Ly91bnRpdGxlZC8iK2tuKyssYz10aGlzLmpzb25TY2hlbWFTZXJ2aWNlLnJlZ2lzdGVyRXh0ZXJuYWxTY2hlbWEodSxbXSxuKTtyZXR1cm4gYy5nZXRSZXNvbHZlZFNjaGVtYSgpLnRoZW4oZnVuY3Rpb24oaCl7cmV0dXJuIGwoaCl9KX1yZXR1cm4gdGhpcy5qc29uU2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZShyLnVyaSxpKS50aGVuKGZ1bmN0aW9uKGgpe3JldHVybiBsKGgpfSl9LHQucHJvdG90eXBlLmdldExhbmd1YWdlU3RhdHVzPWZ1bmN0aW9uKHIsaSl7cmV0dXJue3NjaGVtYXM6dGhpcy5qc29uU2NoZW1hU2VydmljZS5nZXRTY2hlbWFVUklzRm9yUmVzb3VyY2Uoci51cmksaSl9fSx0fSgpO3ZhciBrbj0wO2Z1bmN0aW9uIEVyKHQpe2lmKHQmJnR5cGVvZiB0PT0ib2JqZWN0Iil7aWYoaWUodC5hbGxvd0NvbW1lbnRzKSlyZXR1cm4gdC5hbGxvd0NvbW1lbnRzO2lmKHQuYWxsT2YpZm9yKHZhciByPTAsaT10LmFsbE9mO3I8aS5sZW5ndGg7cisrKXt2YXIgZT1pW3JdLG49RXIoZSk7aWYoaWUobikpcmV0dXJuIG59fX1mdW5jdGlvbiBJcih0KXtpZih0JiZ0eXBlb2YgdD09Im9iamVjdCIpe2lmKGllKHQuYWxsb3dUcmFpbGluZ0NvbW1hcykpcmV0dXJuIHQuYWxsb3dUcmFpbGluZ0NvbW1hczt2YXIgcj10O2lmKGllKHIuYWxsb3dzVHJhaWxpbmdDb21tYXMpKXJldHVybiByLmFsbG93c1RyYWlsaW5nQ29tbWFzO2lmKHQuYWxsT2YpZm9yKHZhciBpPTAsZT10LmFsbE9mO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldLGE9SXIobik7aWYoaWUoYSkpcmV0dXJuIGF9fX1mdW5jdGlvbiBydCh0KXtzd2l0Y2godCl7Y2FzZSJlcnJvciI6cmV0dXJuIFouRXJyb3I7Y2FzZSJ3YXJuaW5nIjpyZXR1cm4gWi5XYXJuaW5nO2Nhc2UiaWdub3JlIjpyZXR1cm59fXZhciBOcj00OCxPbj01NyxDbj02NSxudD05NyxQbj0xMDI7ZnVuY3Rpb24gQih0KXtyZXR1cm4gdDxOcj8wOnQ8PU9uP3QtTnI6KHQ8bnQmJih0Kz1udC1DbiksdD49bnQmJnQ8PVBuP3QtbnQrMTA6MCl9ZnVuY3Rpb24gTXIodCl7aWYodFswXT09PSIjIilzd2l0Y2godC5sZW5ndGgpe2Nhc2UgNDpyZXR1cm57cmVkOkIodC5jaGFyQ29kZUF0KDEpKSoxNy8yNTUsZ3JlZW46Qih0LmNoYXJDb2RlQXQoMikpKjE3LzI1NSxibHVlOkIodC5jaGFyQ29kZUF0KDMpKSoxNy8yNTUsYWxwaGE6MX07Y2FzZSA1OnJldHVybntyZWQ6Qih0LmNoYXJDb2RlQXQoMSkpKjE3LzI1NSxncmVlbjpCKHQuY2hhckNvZGVBdCgyKSkqMTcvMjU1LGJsdWU6Qih0LmNoYXJDb2RlQXQoMykpKjE3LzI1NSxhbHBoYTpCKHQuY2hhckNvZGVBdCg0KSkqMTcvMjU1fTtjYXNlIDc6cmV0dXJue3JlZDooQih0LmNoYXJDb2RlQXQoMSkpKjE2K0IodC5jaGFyQ29kZUF0KDIpKSkvMjU1LGdyZWVuOihCKHQuY2hhckNvZGVBdCgzKSkqMTYrQih0LmNoYXJDb2RlQXQoNCkpKS8yNTUsYmx1ZTooQih0LmNoYXJDb2RlQXQoNSkpKjE2K0IodC5jaGFyQ29kZUF0KDYpKSkvMjU1LGFscGhhOjF9O2Nhc2UgOTpyZXR1cm57cmVkOihCKHQuY2hhckNvZGVBdCgxKSkqMTYrQih0LmNoYXJDb2RlQXQoMikpKS8yNTUsZ3JlZW46KEIodC5jaGFyQ29kZUF0KDMpKSoxNitCKHQuY2hhckNvZGVBdCg0KSkpLzI1NSxibHVlOihCKHQuY2hhckNvZGVBdCg1KSkqMTYrQih0LmNoYXJDb2RlQXQoNikpKS8yNTUsYWxwaGE6KEIodC5jaGFyQ29kZUF0KDcpKSoxNitCKHQuY2hhckNvZGVBdCg4KSkpLzI1NX19fXZhciBGcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocil7dGhpcy5zY2hlbWFTZXJ2aWNlPXJ9cmV0dXJuIHQucHJvdG90eXBlLmZpbmREb2N1bWVudFN5bWJvbHM9ZnVuY3Rpb24ocixpLGUpe3ZhciBuPXRoaXM7ZT09PXZvaWQgMCYmKGU9e3Jlc3VsdExpbWl0Ok51bWJlci5NQVhfVkFMVUV9KTt2YXIgYT1pLnJvb3Q7aWYoIWEpcmV0dXJuW107dmFyIHM9ZS5yZXN1bHRMaW1pdHx8TnVtYmVyLk1BWF9WQUxVRSxvPXIudXJpO2lmKChvPT09InZzY29kZTovL2RlZmF1bHRzZXR0aW5ncy9rZXliaW5kaW5ncy5qc29uInx8cGUoby50b0xvd2VyQ2FzZSgpLCIvdXNlci9rZXliaW5kaW5ncy5qc29uIikpJiZhLnR5cGU9PT0iYXJyYXkiKXtmb3IodmFyIGY9W10sbD0wLHU9YS5pdGVtcztsPHUubGVuZ3RoO2wrKyl7dmFyIGM9dVtsXTtpZihjLnR5cGU9PT0ib2JqZWN0Iilmb3IodmFyIGg9MCxkPWMucHJvcGVydGllcztoPGQubGVuZ3RoO2grKyl7dmFyIG09ZFtoXTtpZihtLmtleU5vZGUudmFsdWU9PT0ia2V5IiYmbS52YWx1ZU5vZGUpe3ZhciBwPVNlLmNyZWF0ZShyLnVyaSx2ZShyLGMpKTtpZihmLnB1c2goe25hbWU6ZGUobS52YWx1ZU5vZGUpLGtpbmQ6b2UuRnVuY3Rpb24sbG9jYXRpb246cH0pLHMtLSxzPD0wKXJldHVybiBlJiZlLm9uUmVzdWx0TGltaXRFeGNlZWRlZCYmZS5vblJlc3VsdExpbWl0RXhjZWVkZWQobyksZn19fXJldHVybiBmfWZvcih2YXIgZz1be25vZGU6YSxjb250YWluZXJOYW1lOiIifV0sYj0wLHk9ITEsdj1bXSxPPWZ1bmN0aW9uKEksQSl7SS50eXBlPT09ImFycmF5Ij9JLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oUCl7UCYmZy5wdXNoKHtub2RlOlAsY29udGFpbmVyTmFtZTpBfSl9KTpJLnR5cGU9PT0ib2JqZWN0IiYmSS5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24oUCl7dmFyIHc9UC52YWx1ZU5vZGU7aWYodylpZihzPjApe3MtLTt2YXIgQz1TZS5jcmVhdGUoci51cmksdmUocixQKSksRj1BP0ErIi4iK1Aua2V5Tm9kZS52YWx1ZTpQLmtleU5vZGUudmFsdWU7di5wdXNoKHtuYW1lOm4uZ2V0S2V5TGFiZWwoUCksa2luZDpuLmdldFN5bWJvbEtpbmQody50eXBlKSxsb2NhdGlvbjpDLGNvbnRhaW5lck5hbWU6QX0pLGcucHVzaCh7bm9kZTp3LGNvbnRhaW5lck5hbWU6Rn0pfWVsc2UgeT0hMH0pfTtiPGcubGVuZ3RoOyl7dmFyIEU9Z1tiKytdO08oRS5ub2RlLEUuY29udGFpbmVyTmFtZSl9cmV0dXJuIHkmJmUmJmUub25SZXN1bHRMaW1pdEV4Y2VlZGVkJiZlLm9uUmVzdWx0TGltaXRFeGNlZWRlZChvKSx2fSx0LnByb3RvdHlwZS5maW5kRG9jdW1lbnRTeW1ib2xzMj1mdW5jdGlvbihyLGksZSl7dmFyIG49dGhpcztlPT09dm9pZCAwJiYoZT17cmVzdWx0TGltaXQ6TnVtYmVyLk1BWF9WQUxVRX0pO3ZhciBhPWkucm9vdDtpZighYSlyZXR1cm5bXTt2YXIgcz1lLnJlc3VsdExpbWl0fHxOdW1iZXIuTUFYX1ZBTFVFLG89ci51cmk7aWYoKG89PT0idnNjb2RlOi8vZGVmYXVsdHNldHRpbmdzL2tleWJpbmRpbmdzLmpzb24ifHxwZShvLnRvTG93ZXJDYXNlKCksIi91c2VyL2tleWJpbmRpbmdzLmpzb24iKSkmJmEudHlwZT09PSJhcnJheSIpe2Zvcih2YXIgZj1bXSxsPTAsdT1hLml0ZW1zO2w8dS5sZW5ndGg7bCsrKXt2YXIgYz11W2xdO2lmKGMudHlwZT09PSJvYmplY3QiKWZvcih2YXIgaD0wLGQ9Yy5wcm9wZXJ0aWVzO2g8ZC5sZW5ndGg7aCsrKXt2YXIgbT1kW2hdO2lmKG0ua2V5Tm9kZS52YWx1ZT09PSJrZXkiJiZtLnZhbHVlTm9kZSl7dmFyIHA9dmUocixjKSxnPXZlKHIsbS5rZXlOb2RlKTtpZihmLnB1c2goe25hbWU6ZGUobS52YWx1ZU5vZGUpLGtpbmQ6b2UuRnVuY3Rpb24scmFuZ2U6cCxzZWxlY3Rpb25SYW5nZTpnfSkscy0tLHM8PTApcmV0dXJuIGUmJmUub25SZXN1bHRMaW1pdEV4Y2VlZGVkJiZlLm9uUmVzdWx0TGltaXRFeGNlZWRlZChvKSxmfX19cmV0dXJuIGZ9Zm9yKHZhciBiPVtdLHk9W3tub2RlOmEscmVzdWx0OmJ9XSx2PTAsTz0hMSxFPWZ1bmN0aW9uKEEsUCl7QS50eXBlPT09ImFycmF5Ij9BLml0ZW1zLmZvckVhY2goZnVuY3Rpb24odyxDKXtpZih3KWlmKHM+MCl7cy0tO3ZhciBGPXZlKHIsdyksTj1GLEw9U3RyaW5nKEMpLFI9e25hbWU6TCxraW5kOm4uZ2V0U3ltYm9sS2luZCh3LnR5cGUpLHJhbmdlOkYsc2VsZWN0aW9uUmFuZ2U6TixjaGlsZHJlbjpbXX07UC5wdXNoKFIpLHkucHVzaCh7cmVzdWx0OlIuY2hpbGRyZW4sbm9kZTp3fSl9ZWxzZSBPPSEwfSk6QS50eXBlPT09Im9iamVjdCImJkEucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHcpe3ZhciBDPXcudmFsdWVOb2RlO2lmKEMpaWYocz4wKXtzLS07dmFyIEY9dmUocix3KSxOPXZlKHIsdy5rZXlOb2RlKSxMPVtdLFI9e25hbWU6bi5nZXRLZXlMYWJlbCh3KSxraW5kOm4uZ2V0U3ltYm9sS2luZChDLnR5cGUpLHJhbmdlOkYsc2VsZWN0aW9uUmFuZ2U6TixjaGlsZHJlbjpMLGRldGFpbDpuLmdldERldGFpbChDKX07UC5wdXNoKFIpLHkucHVzaCh7cmVzdWx0Okwsbm9kZTpDfSl9ZWxzZSBPPSEwfSl9O3Y8eS5sZW5ndGg7KXt2YXIgST15W3YrK107RShJLm5vZGUsSS5yZXN1bHQpfXJldHVybiBPJiZlJiZlLm9uUmVzdWx0TGltaXRFeGNlZWRlZCYmZS5vblJlc3VsdExpbWl0RXhjZWVkZWQobyksYn0sdC5wcm90b3R5cGUuZ2V0U3ltYm9sS2luZD1mdW5jdGlvbihyKXtzd2l0Y2gocil7Y2FzZSJvYmplY3QiOnJldHVybiBvZS5Nb2R1bGU7Y2FzZSJzdHJpbmciOnJldHVybiBvZS5TdHJpbmc7Y2FzZSJudW1iZXIiOnJldHVybiBvZS5OdW1iZXI7Y2FzZSJhcnJheSI6cmV0dXJuIG9lLkFycmF5O2Nhc2UiYm9vbGVhbiI6cmV0dXJuIG9lLkJvb2xlYW47ZGVmYXVsdDpyZXR1cm4gb2UuVmFyaWFibGV9fSx0LnByb3RvdHlwZS5nZXRLZXlMYWJlbD1mdW5jdGlvbihyKXt2YXIgaT1yLmtleU5vZGUudmFsdWU7cmV0dXJuIGkmJihpPWkucmVwbGFjZSgvW1xuXS9nLCJcdTIxQjUiKSksaSYmaS50cmltKCk/aTonIicuY29uY2F0KGksJyInKX0sdC5wcm90b3R5cGUuZ2V0RGV0YWlsPWZ1bmN0aW9uKHIpe2lmKHIpe2lmKHIudHlwZT09PSJib29sZWFuInx8ci50eXBlPT09Im51bWJlciJ8fHIudHlwZT09PSJudWxsInx8ci50eXBlPT09InN0cmluZyIpcmV0dXJuIFN0cmluZyhyLnZhbHVlKTtpZihyLnR5cGU9PT0iYXJyYXkiKXJldHVybiByLmNoaWxkcmVuLmxlbmd0aD92b2lkIDA6IltdIjtpZihyLnR5cGU9PT0ib2JqZWN0IilyZXR1cm4gci5jaGlsZHJlbi5sZW5ndGg/dm9pZCAwOiJ7fSJ9fSx0LnByb3RvdHlwZS5maW5kRG9jdW1lbnRDb2xvcnM9ZnVuY3Rpb24ocixpLGUpe3JldHVybiB0aGlzLnNjaGVtYVNlcnZpY2UuZ2V0U2NoZW1hRm9yUmVzb3VyY2Uoci51cmksaSkudGhlbihmdW5jdGlvbihuKXt2YXIgYT1bXTtpZihuKWZvcih2YXIgcz1lJiZ0eXBlb2YgZS5yZXN1bHRMaW1pdD09Im51bWJlciI/ZS5yZXN1bHRMaW1pdDpOdW1iZXIuTUFYX1ZBTFVFLG89aS5nZXRNYXRjaGluZ1NjaGVtYXMobi5zY2hlbWEpLGY9e30sbD0wLHU9bztsPHUubGVuZ3RoO2wrKyl7dmFyIGM9dVtsXTtpZighYy5pbnZlcnRlZCYmYy5zY2hlbWEmJihjLnNjaGVtYS5mb3JtYXQ9PT0iY29sb3IifHxjLnNjaGVtYS5mb3JtYXQ9PT0iY29sb3ItaGV4IikmJmMubm9kZSYmYy5ub2RlLnR5cGU9PT0ic3RyaW5nIil7dmFyIGg9U3RyaW5nKGMubm9kZS5vZmZzZXQpO2lmKCFmW2hdKXt2YXIgZD1NcihkZShjLm5vZGUpKTtpZihkKXt2YXIgbT12ZShyLGMubm9kZSk7YS5wdXNoKHtjb2xvcjpkLHJhbmdlOm19KX1pZihmW2hdPSEwLHMtLSxzPD0wKXJldHVybiBlJiZlLm9uUmVzdWx0TGltaXRFeGNlZWRlZCYmZS5vblJlc3VsdExpbWl0RXhjZWVkZWQoci51cmkpLGF9fX1yZXR1cm4gYX0pfSx0LnByb3RvdHlwZS5nZXRDb2xvclByZXNlbnRhdGlvbnM9ZnVuY3Rpb24ocixpLGUsbil7dmFyIGE9W10scz1NYXRoLnJvdW5kKGUucmVkKjI1NSksbz1NYXRoLnJvdW5kKGUuZ3JlZW4qMjU1KSxmPU1hdGgucm91bmQoZS5ibHVlKjI1NSk7ZnVuY3Rpb24gbChjKXt2YXIgaD1jLnRvU3RyaW5nKDE2KTtyZXR1cm4gaC5sZW5ndGghPT0yPyIwIitoOmh9dmFyIHU7cmV0dXJuIGUuYWxwaGE9PT0xP3U9IiMiLmNvbmNhdChsKHMpKS5jb25jYXQobChvKSkuY29uY2F0KGwoZikpOnU9IiMiLmNvbmNhdChsKHMpKS5jb25jYXQobChvKSkuY29uY2F0KGwoZikpLmNvbmNhdChsKE1hdGgucm91bmQoZS5hbHBoYSoyNTUpKSksYS5wdXNoKHtsYWJlbDp1LHRleHRFZGl0OlkucmVwbGFjZShuLEpTT04uc3RyaW5naWZ5KHUpKX0pLGF9LHR9KCk7ZnVuY3Rpb24gdmUodCxyKXtyZXR1cm4gVS5jcmVhdGUodC5wb3NpdGlvbkF0KHIub2Zmc2V0KSx0LnBvc2l0aW9uQXQoci5vZmZzZXQrci5sZW5ndGgpKX12YXIgRD1oZSgpLG90PXtzY2hlbWFBc3NvY2lhdGlvbnM6W10sc2NoZW1hczp7Imh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvc2NoZW1hIyI6eyRyZWY6Imh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIyJ9LCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L3NjaGVtYSMiOnskc2NoZW1hOiJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L3NjaGVtYSMiLGRlZmluaXRpb25zOntzY2hlbWFBcnJheTp7dHlwZToiYXJyYXkiLG1pbkl0ZW1zOjEsaXRlbXM6eyRyZWY6IiMifX0scG9zaXRpdmVJbnRlZ2VyOnt0eXBlOiJpbnRlZ2VyIixtaW5pbXVtOjB9LHBvc2l0aXZlSW50ZWdlckRlZmF1bHQwOnthbGxPZjpbeyRyZWY6IiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyIn0se2RlZmF1bHQ6MH1dfSxzaW1wbGVUeXBlczp7dHlwZToic3RyaW5nIixlbnVtOlsiYXJyYXkiLCJib29sZWFuIiwiaW50ZWdlciIsIm51bGwiLCJudW1iZXIiLCJvYmplY3QiLCJzdHJpbmciXX0sc3RyaW5nQXJyYXk6e3R5cGU6ImFycmF5IixpdGVtczp7dHlwZToic3RyaW5nIn0sbWluSXRlbXM6MSx1bmlxdWVJdGVtczohMH19LHR5cGU6Im9iamVjdCIscHJvcGVydGllczp7aWQ6e3R5cGU6InN0cmluZyIsZm9ybWF0OiJ1cmkifSwkc2NoZW1hOnt0eXBlOiJzdHJpbmciLGZvcm1hdDoidXJpIn0sdGl0bGU6e3R5cGU6InN0cmluZyJ9LGRlc2NyaXB0aW9uOnt0eXBlOiJzdHJpbmcifSxkZWZhdWx0Ont9LG11bHRpcGxlT2Y6e3R5cGU6Im51bWJlciIsbWluaW11bTowLGV4Y2x1c2l2ZU1pbmltdW06ITB9LG1heGltdW06e3R5cGU6Im51bWJlciJ9LGV4Y2x1c2l2ZU1heGltdW06e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITF9LG1pbmltdW06e3R5cGU6Im51bWJlciJ9LGV4Y2x1c2l2ZU1pbmltdW06e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITF9LG1heExlbmd0aDp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlciJ9XX0sbWluTGVuZ3RoOnthbGxPZjpbeyRyZWY6IiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDAifV19LHBhdHRlcm46e3R5cGU6InN0cmluZyIsZm9ybWF0OiJyZWdleCJ9LGFkZGl0aW9uYWxJdGVtczp7YW55T2Y6W3t0eXBlOiJib29sZWFuIn0seyRyZWY6IiMifV0sZGVmYXVsdDp7fX0saXRlbXM6e2FueU9mOlt7JHJlZjoiIyJ9LHskcmVmOiIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5In1dLGRlZmF1bHQ6e319LG1heEl0ZW1zOnthbGxPZjpbeyRyZWY6IiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyIn1dfSxtaW5JdGVtczp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwIn1dfSx1bmlxdWVJdGVtczp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMX0sbWF4UHJvcGVydGllczp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlciJ9XX0sbWluUHJvcGVydGllczp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwIn1dfSxyZXF1aXJlZDp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3N0cmluZ0FycmF5In1dfSxhZGRpdGlvbmFsUHJvcGVydGllczp7YW55T2Y6W3t0eXBlOiJib29sZWFuIn0seyRyZWY6IiMifV0sZGVmYXVsdDp7fX0sZGVmaW5pdGlvbnM6e3R5cGU6Im9iamVjdCIsYWRkaXRpb25hbFByb3BlcnRpZXM6eyRyZWY6IiMifSxkZWZhdWx0Ont9fSxwcm9wZXJ0aWVzOnt0eXBlOiJvYmplY3QiLGFkZGl0aW9uYWxQcm9wZXJ0aWVzOnskcmVmOiIjIn0sZGVmYXVsdDp7fX0scGF0dGVyblByb3BlcnRpZXM6e3R5cGU6Im9iamVjdCIsYWRkaXRpb25hbFByb3BlcnRpZXM6eyRyZWY6IiMifSxkZWZhdWx0Ont9fSxkZXBlbmRlbmNpZXM6e3R5cGU6Im9iamVjdCIsYWRkaXRpb25hbFByb3BlcnRpZXM6e2FueU9mOlt7JHJlZjoiIyJ9LHskcmVmOiIjL2RlZmluaXRpb25zL3N0cmluZ0FycmF5In1dfX0sZW51bTp7dHlwZToiYXJyYXkiLG1pbkl0ZW1zOjEsdW5pcXVlSXRlbXM6ITB9LHR5cGU6e2FueU9mOlt7JHJlZjoiIy9kZWZpbml0aW9ucy9zaW1wbGVUeXBlcyJ9LHt0eXBlOiJhcnJheSIsaXRlbXM6eyRyZWY6IiMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXMifSxtaW5JdGVtczoxLHVuaXF1ZUl0ZW1zOiEwfV19LGZvcm1hdDp7YW55T2Y6W3t0eXBlOiJzdHJpbmciLGVudW06WyJkYXRlLXRpbWUiLCJ1cmkiLCJlbWFpbCIsImhvc3RuYW1lIiwiaXB2NCIsImlwdjYiLCJyZWdleCJdfSx7dHlwZToic3RyaW5nIn1dfSxhbGxPZjp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5In1dfSxhbnlPZjp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5In1dfSxvbmVPZjp7YWxsT2Y6W3skcmVmOiIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5In1dfSxub3Q6e2FsbE9mOlt7JHJlZjoiIyJ9XX19LGRlcGVuZGVuY2llczp7ZXhjbHVzaXZlTWF4aW11bTpbIm1heGltdW0iXSxleGNsdXNpdmVNaW5pbXVtOlsibWluaW11bSJdfSxkZWZhdWx0Ont9fSwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjIjp7ZGVmaW5pdGlvbnM6e3NjaGVtYUFycmF5Ont0eXBlOiJhcnJheSIsbWluSXRlbXM6MSxpdGVtczp7JHJlZjoiIyJ9fSxub25OZWdhdGl2ZUludGVnZXI6e3R5cGU6ImludGVnZXIiLG1pbmltdW06MH0sbm9uTmVnYXRpdmVJbnRlZ2VyRGVmYXVsdDA6e2FsbE9mOlt7JHJlZjoiIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXIifSx7ZGVmYXVsdDowfV19LHNpbXBsZVR5cGVzOntlbnVtOlsiYXJyYXkiLCJib29sZWFuIiwiaW50ZWdlciIsIm51bGwiLCJudW1iZXIiLCJvYmplY3QiLCJzdHJpbmciXX0sc3RyaW5nQXJyYXk6e3R5cGU6ImFycmF5IixpdGVtczp7dHlwZToic3RyaW5nIn0sdW5pcXVlSXRlbXM6ITAsZGVmYXVsdDpbXX19LHR5cGU6WyJvYmplY3QiLCJib29sZWFuIl0scHJvcGVydGllczp7JGlkOnt0eXBlOiJzdHJpbmciLGZvcm1hdDoidXJpLXJlZmVyZW5jZSJ9LCRzY2hlbWE6e3R5cGU6InN0cmluZyIsZm9ybWF0OiJ1cmkifSwkcmVmOnt0eXBlOiJzdHJpbmciLGZvcm1hdDoidXJpLXJlZmVyZW5jZSJ9LCRjb21tZW50Ont0eXBlOiJzdHJpbmcifSx0aXRsZTp7dHlwZToic3RyaW5nIn0sZGVzY3JpcHRpb246e3R5cGU6InN0cmluZyJ9LGRlZmF1bHQ6ITAscmVhZE9ubHk6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITF9LGV4YW1wbGVzOnt0eXBlOiJhcnJheSIsaXRlbXM6ITB9LG11bHRpcGxlT2Y6e3R5cGU6Im51bWJlciIsZXhjbHVzaXZlTWluaW11bTowfSxtYXhpbXVtOnt0eXBlOiJudW1iZXIifSxleGNsdXNpdmVNYXhpbXVtOnt0eXBlOiJudW1iZXIifSxtaW5pbXVtOnt0eXBlOiJudW1iZXIifSxleGNsdXNpdmVNaW5pbXVtOnt0eXBlOiJudW1iZXIifSxtYXhMZW5ndGg6eyRyZWY6IiMvZGVmaW5pdGlvbnMvbm9uTmVnYXRpdmVJbnRlZ2VyIn0sbWluTGVuZ3RoOnskcmVmOiIjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwIn0scGF0dGVybjp7dHlwZToic3RyaW5nIixmb3JtYXQ6InJlZ2V4In0sYWRkaXRpb25hbEl0ZW1zOnskcmVmOiIjIn0saXRlbXM6e2FueU9mOlt7JHJlZjoiIyJ9LHskcmVmOiIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5In1dLGRlZmF1bHQ6ITB9LG1heEl0ZW1zOnskcmVmOiIjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlciJ9LG1pbkl0ZW1zOnskcmVmOiIjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwIn0sdW5pcXVlSXRlbXM6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITF9LGNvbnRhaW5zOnskcmVmOiIjIn0sbWF4UHJvcGVydGllczp7JHJlZjoiIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXIifSxtaW5Qcm9wZXJ0aWVzOnskcmVmOiIjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwIn0scmVxdWlyZWQ6eyRyZWY6IiMvZGVmaW5pdGlvbnMvc3RyaW5nQXJyYXkifSxhZGRpdGlvbmFsUHJvcGVydGllczp7JHJlZjoiIyJ9LGRlZmluaXRpb25zOnt0eXBlOiJvYmplY3QiLGFkZGl0aW9uYWxQcm9wZXJ0aWVzOnskcmVmOiIjIn0sZGVmYXVsdDp7fX0scHJvcGVydGllczp7dHlwZToib2JqZWN0IixhZGRpdGlvbmFsUHJvcGVydGllczp7JHJlZjoiIyJ9LGRlZmF1bHQ6e319LHBhdHRlcm5Qcm9wZXJ0aWVzOnt0eXBlOiJvYmplY3QiLGFkZGl0aW9uYWxQcm9wZXJ0aWVzOnskcmVmOiIjIn0scHJvcGVydHlOYW1lczp7Zm9ybWF0OiJyZWdleCJ9LGRlZmF1bHQ6e319LGRlcGVuZGVuY2llczp7dHlwZToib2JqZWN0IixhZGRpdGlvbmFsUHJvcGVydGllczp7YW55T2Y6W3skcmVmOiIjIn0seyRyZWY6IiMvZGVmaW5pdGlvbnMvc3RyaW5nQXJyYXkifV19fSxwcm9wZXJ0eU5hbWVzOnskcmVmOiIjIn0sY29uc3Q6ITAsZW51bTp7dHlwZToiYXJyYXkiLGl0ZW1zOiEwLG1pbkl0ZW1zOjEsdW5pcXVlSXRlbXM6ITB9LHR5cGU6e2FueU9mOlt7JHJlZjoiIy9kZWZpbml0aW9ucy9zaW1wbGVUeXBlcyJ9LHt0eXBlOiJhcnJheSIsaXRlbXM6eyRyZWY6IiMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXMifSxtaW5JdGVtczoxLHVuaXF1ZUl0ZW1zOiEwfV19LGZvcm1hdDp7dHlwZToic3RyaW5nIn0sY29udGVudE1lZGlhVHlwZTp7dHlwZToic3RyaW5nIn0sY29udGVudEVuY29kaW5nOnt0eXBlOiJzdHJpbmcifSxpZjp7JHJlZjoiIyJ9LHRoZW46eyRyZWY6IiMifSxlbHNlOnskcmVmOiIjIn0sYWxsT2Y6eyRyZWY6IiMvZGVmaW5pdGlvbnMvc2NoZW1hQXJyYXkifSxhbnlPZjp7JHJlZjoiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheSJ9LG9uZU9mOnskcmVmOiIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5In0sbm90OnskcmVmOiIjIn19LGRlZmF1bHQ6ITB9fX0sam49e2lkOkQoInNjaGVtYS5qc29uLmlkIiwiQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHNjaGVtYS4iKSwkc2NoZW1hOkQoInNjaGVtYS5qc29uLiRzY2hlbWEiLCJUaGUgc2NoZW1hIHRvIHZlcmlmeSB0aGlzIGRvY3VtZW50IGFnYWluc3QuIiksdGl0bGU6RCgic2NoZW1hLmpzb24udGl0bGUiLCJBIGRlc2NyaXB0aXZlIHRpdGxlIG9mIHRoZSBlbGVtZW50LiIpLGRlc2NyaXB0aW9uOkQoInNjaGVtYS5qc29uLmRlc2NyaXB0aW9uIiwiQSBsb25nIGRlc2NyaXB0aW9uIG9mIHRoZSBlbGVtZW50LiBVc2VkIGluIGhvdmVyIG1lbnVzIGFuZCBzdWdnZXN0aW9ucy4iKSxkZWZhdWx0OkQoInNjaGVtYS5qc29uLmRlZmF1bHQiLCJBIGRlZmF1bHQgdmFsdWUuIFVzZWQgYnkgc3VnZ2VzdGlvbnMuIiksbXVsdGlwbGVPZjpEKCJzY2hlbWEuanNvbi5tdWx0aXBsZU9mIiwiQSBudW1iZXIgdGhhdCBzaG91bGQgY2xlYW5seSBkaXZpZGUgdGhlIGN1cnJlbnQgdmFsdWUgKGkuZS4gaGF2ZSBubyByZW1haW5kZXIpLiIpLG1heGltdW06RCgic2NoZW1hLmpzb24ubWF4aW11bSIsIlRoZSBtYXhpbXVtIG51bWVyaWNhbCB2YWx1ZSwgaW5jbHVzaXZlIGJ5IGRlZmF1bHQuIiksZXhjbHVzaXZlTWF4aW11bTpEKCJzY2hlbWEuanNvbi5leGNsdXNpdmVNYXhpbXVtIiwiTWFrZXMgdGhlIG1heGltdW0gcHJvcGVydHkgZXhjbHVzaXZlLiIpLG1pbmltdW06RCgic2NoZW1hLmpzb24ubWluaW11bSIsIlRoZSBtaW5pbXVtIG51bWVyaWNhbCB2YWx1ZSwgaW5jbHVzaXZlIGJ5IGRlZmF1bHQuIiksZXhjbHVzaXZlTWluaW11bTpEKCJzY2hlbWEuanNvbi5leGNsdXNpdmVNaW5pbnVtIiwiTWFrZXMgdGhlIG1pbmltdW0gcHJvcGVydHkgZXhjbHVzaXZlLiIpLG1heExlbmd0aDpEKCJzY2hlbWEuanNvbi5tYXhMZW5ndGgiLCJUaGUgbWF4aW11bSBsZW5ndGggb2YgYSBzdHJpbmcuIiksbWluTGVuZ3RoOkQoInNjaGVtYS5qc29uLm1pbkxlbmd0aCIsIlRoZSBtaW5pbXVtIGxlbmd0aCBvZiBhIHN0cmluZy4iKSxwYXR0ZXJuOkQoInNjaGVtYS5qc29uLnBhdHRlcm4iLCJBIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCB0aGUgc3RyaW5nIGFnYWluc3QuIEl0IGlzIG5vdCBpbXBsaWNpdGx5IGFuY2hvcmVkLiIpLGFkZGl0aW9uYWxJdGVtczpEKCJzY2hlbWEuanNvbi5hZGRpdGlvbmFsSXRlbXMiLCJGb3IgYXJyYXlzLCBvbmx5IHdoZW4gaXRlbXMgaXMgc2V0IGFzIGFuIGFycmF5LiBJZiBpdCBpcyBhIHNjaGVtYSwgdGhlbiB0aGlzIHNjaGVtYSB2YWxpZGF0ZXMgaXRlbXMgYWZ0ZXIgdGhlIG9uZXMgc3BlY2lmaWVkIGJ5IHRoZSBpdGVtcyBhcnJheS4gSWYgaXQgaXMgZmFsc2UsIHRoZW4gYWRkaXRpb25hbCBpdGVtcyB3aWxsIGNhdXNlIHZhbGlkYXRpb24gdG8gZmFpbC4iKSxpdGVtczpEKCJzY2hlbWEuanNvbi5pdGVtcyIsIkZvciBhcnJheXMuIENhbiBlaXRoZXIgYmUgYSBzY2hlbWEgdG8gdmFsaWRhdGUgZXZlcnkgZWxlbWVudCBhZ2FpbnN0IG9yIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gdmFsaWRhdGUgZWFjaCBpdGVtIGFnYWluc3QgaW4gb3JkZXIgKHRoZSBmaXJzdCBzY2hlbWEgd2lsbCB2YWxpZGF0ZSB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIHNlY29uZCBzY2hlbWEgd2lsbCB2YWxpZGF0ZSB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi4iKSxtYXhJdGVtczpEKCJzY2hlbWEuanNvbi5tYXhJdGVtcyIsIlRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBpbnNpZGUgYW4gYXJyYXkuIEluY2x1c2l2ZS4iKSxtaW5JdGVtczpEKCJzY2hlbWEuanNvbi5taW5JdGVtcyIsIlRoZSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBpbnNpZGUgYW4gYXJyYXkuIEluY2x1c2l2ZS4iKSx1bmlxdWVJdGVtczpEKCJzY2hlbWEuanNvbi51bmlxdWVJdGVtcyIsIklmIGFsbCBvZiB0aGUgaXRlbXMgaW4gdGhlIGFycmF5IG11c3QgYmUgdW5pcXVlLiBEZWZhdWx0cyB0byBmYWxzZS4iKSxtYXhQcm9wZXJ0aWVzOkQoInNjaGVtYS5qc29uLm1heFByb3BlcnRpZXMiLCJUaGUgbWF4aW11bSBudW1iZXIgb2YgcHJvcGVydGllcyBhbiBvYmplY3QgY2FuIGhhdmUuIEluY2x1c2l2ZS4iKSxtaW5Qcm9wZXJ0aWVzOkQoInNjaGVtYS5qc29uLm1pblByb3BlcnRpZXMiLCJUaGUgbWluaW11bSBudW1iZXIgb2YgcHJvcGVydGllcyBhbiBvYmplY3QgY2FuIGhhdmUuIEluY2x1c2l2ZS4iKSxyZXF1aXJlZDpEKCJzY2hlbWEuanNvbi5yZXF1aXJlZCIsIkFuIGFycmF5IG9mIHN0cmluZ3MgdGhhdCBsaXN0cyB0aGUgbmFtZXMgb2YgYWxsIHByb3BlcnRpZXMgcmVxdWlyZWQgb24gdGhpcyBvYmplY3QuIiksYWRkaXRpb25hbFByb3BlcnRpZXM6RCgic2NoZW1hLmpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMiLCJFaXRoZXIgYSBzY2hlbWEgb3IgYSBib29sZWFuLiBJZiBhIHNjaGVtYSwgdGhlbiB1c2VkIHRvIHZhbGlkYXRlIGFsbCBwcm9wZXJ0aWVzIG5vdCBtYXRjaGVkIGJ5ICdwcm9wZXJ0aWVzJyBvciAncGF0dGVyblByb3BlcnRpZXMnLiBJZiBmYWxzZSwgdGhlbiBhbnkgcHJvcGVydGllcyBub3QgbWF0Y2hlZCBieSBlaXRoZXIgd2lsbCBjYXVzZSB0aGlzIHNjaGVtYSB0byBmYWlsLiIpLGRlZmluaXRpb25zOkQoInNjaGVtYS5qc29uLmRlZmluaXRpb25zIiwiTm90IHVzZWQgZm9yIHZhbGlkYXRpb24uIFBsYWNlIHN1YnNjaGVtYXMgaGVyZSB0aGF0IHlvdSB3aXNoIHRvIHJlZmVyZW5jZSBpbmxpbmUgd2l0aCAkcmVmLiIpLHByb3BlcnRpZXM6RCgic2NoZW1hLmpzb24ucHJvcGVydGllcyIsIkEgbWFwIG9mIHByb3BlcnR5IG5hbWVzIHRvIHNjaGVtYXMgZm9yIGVhY2ggcHJvcGVydHkuIikscGF0dGVyblByb3BlcnRpZXM6RCgic2NoZW1hLmpzb24ucGF0dGVyblByb3BlcnRpZXMiLCJBIG1hcCBvZiByZWd1bGFyIGV4cHJlc3Npb25zIG9uIHByb3BlcnR5IG5hbWVzIHRvIHNjaGVtYXMgZm9yIG1hdGNoaW5nIHByb3BlcnRpZXMuIiksZGVwZW5kZW5jaWVzOkQoInNjaGVtYS5qc29uLmRlcGVuZGVuY2llcyIsIkEgbWFwIG9mIHByb3BlcnR5IG5hbWVzIHRvIGVpdGhlciBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBvciBhIHNjaGVtYS4gQW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgbWVhbnMgdGhlIHByb3BlcnR5IG5hbWVkIGluIHRoZSBrZXkgZGVwZW5kcyBvbiB0aGUgcHJvcGVydGllcyBpbiB0aGUgYXJyYXkgYmVpbmcgcHJlc2VudCBpbiB0aGUgb2JqZWN0IGluIG9yZGVyIHRvIGJlIHZhbGlkLiBJZiB0aGUgdmFsdWUgaXMgYSBzY2hlbWEsIHRoZW4gdGhlIHNjaGVtYSBpcyBvbmx5IGFwcGxpZWQgdG8gdGhlIG9iamVjdCBpZiB0aGUgcHJvcGVydHkgaW4gdGhlIGtleSBleGlzdHMgb24gdGhlIG9iamVjdC4iKSxlbnVtOkQoInNjaGVtYS5qc29uLmVudW0iLCJUaGUgc2V0IG9mIGxpdGVyYWwgdmFsdWVzIHRoYXQgYXJlIHZhbGlkLiIpLHR5cGU6RCgic2NoZW1hLmpzb24udHlwZSIsIkVpdGhlciBhIHN0cmluZyBvZiBvbmUgb2YgdGhlIGJhc2ljIHNjaGVtYSB0eXBlcyAobnVtYmVyLCBpbnRlZ2VyLCBudWxsLCBhcnJheSwgb2JqZWN0LCBib29sZWFuLCBzdHJpbmcpIG9yIGFuIGFycmF5IG9mIHN0cmluZ3Mgc3BlY2lmeWluZyBhIHN1YnNldCBvZiB0aG9zZSB0eXBlcy4iKSxmb3JtYXQ6RCgic2NoZW1hLmpzb24uZm9ybWF0IiwiRGVzY3JpYmVzIHRoZSBmb3JtYXQgZXhwZWN0ZWQgZm9yIHRoZSB2YWx1ZS4iKSxhbGxPZjpEKCJzY2hlbWEuanNvbi5hbGxPZiIsIkFuIGFycmF5IG9mIHNjaGVtYXMsIGFsbCBvZiB3aGljaCBtdXN0IG1hdGNoLiIpLGFueU9mOkQoInNjaGVtYS5qc29uLmFueU9mIiwiQW4gYXJyYXkgb2Ygc2NoZW1hcywgd2hlcmUgYXQgbGVhc3Qgb25lIG11c3QgbWF0Y2guIiksb25lT2Y6RCgic2NoZW1hLmpzb24ub25lT2YiLCJBbiBhcnJheSBvZiBzY2hlbWFzLCBleGFjdGx5IG9uZSBvZiB3aGljaCBtdXN0IG1hdGNoLiIpLG5vdDpEKCJzY2hlbWEuanNvbi5ub3QiLCJBIHNjaGVtYSB3aGljaCBtdXN0IG5vdCBtYXRjaC4iKSwkaWQ6RCgic2NoZW1hLmpzb24uJGlkIiwiQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHNjaGVtYS4iKSwkcmVmOkQoInNjaGVtYS5qc29uLiRyZWYiLCJSZWZlcmVuY2UgYSBkZWZpbml0aW9uIGhvc3RlZCBvbiBhbnkgbG9jYXRpb24uIiksJGNvbW1lbnQ6RCgic2NoZW1hLmpzb24uJGNvbW1lbnQiLCJDb21tZW50cyBmcm9tIHNjaGVtYSBhdXRob3JzIHRvIHJlYWRlcnMgb3IgbWFpbnRhaW5lcnMgb2YgdGhlIHNjaGVtYS4iKSxyZWFkT25seTpEKCJzY2hlbWEuanNvbi5yZWFkT25seSIsIkluZGljYXRlcyB0aGF0IHRoZSB2YWx1ZSBvZiB0aGUgaW5zdGFuY2UgaXMgbWFuYWdlZCBleGNsdXNpdmVseSBieSB0aGUgb3duaW5nIGF1dGhvcml0eS4iKSxleGFtcGxlczpEKCJzY2hlbWEuanNvbi5leGFtcGxlcyIsIlNhbXBsZSBKU09OIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0aWN1bGFyIHNjaGVtYSwgZm9yIHRoZSBwdXJwb3NlIG9mIGlsbHVzdHJhdGluZyB1c2FnZS4iKSxjb250YWluczpEKCJzY2hlbWEuanNvbi5jb250YWlucyIsJ0FuIGFycmF5IGluc3RhbmNlIGlzIHZhbGlkIGFnYWluc3QgImNvbnRhaW5zIiBpZiBhdCBsZWFzdCBvbmUgb2YgaXRzIGVsZW1lbnRzIGlzIHZhbGlkIGFnYWluc3QgdGhlIGdpdmVuIHNjaGVtYS4nKSxwcm9wZXJ0eU5hbWVzOkQoInNjaGVtYS5qc29uLnByb3BlcnR5TmFtZXMiLCJJZiB0aGUgaW5zdGFuY2UgaXMgYW4gb2JqZWN0LCB0aGlzIGtleXdvcmQgdmFsaWRhdGVzIGlmIGV2ZXJ5IHByb3BlcnR5IG5hbWUgaW4gdGhlIGluc3RhbmNlIHZhbGlkYXRlcyBhZ2FpbnN0IHRoZSBwcm92aWRlZCBzY2hlbWEuIiksY29uc3Q6RCgic2NoZW1hLmpzb24uY29uc3QiLCJBbiBpbnN0YW5jZSB2YWxpZGF0ZXMgc3VjY2Vzc2Z1bGx5IGFnYWluc3QgdGhpcyBrZXl3b3JkIGlmIGl0cyB2YWx1ZSBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgdGhlIGtleXdvcmQuIiksY29udGVudE1lZGlhVHlwZTpEKCJzY2hlbWEuanNvbi5jb250ZW50TWVkaWFUeXBlIiwiRGVzY3JpYmVzIHRoZSBtZWRpYSB0eXBlIG9mIGEgc3RyaW5nIHByb3BlcnR5LiIpLGNvbnRlbnRFbmNvZGluZzpEKCJzY2hlbWEuanNvbi5jb250ZW50RW5jb2RpbmciLCJEZXNjcmliZXMgdGhlIGNvbnRlbnQgZW5jb2Rpbmcgb2YgYSBzdHJpbmcgcHJvcGVydHkuIiksaWY6RCgic2NoZW1hLmpzb24uaWYiLCdUaGUgdmFsaWRhdGlvbiBvdXRjb21lIG9mIHRoZSAiaWYiIHN1YnNjaGVtYSBjb250cm9scyB3aGljaCBvZiB0aGUgInRoZW4iIG9yICJlbHNlIiBrZXl3b3JkcyBhcmUgZXZhbHVhdGVkLicpLHRoZW46RCgic2NoZW1hLmpzb24udGhlbiIsJ1RoZSAiaWYiIHN1YnNjaGVtYSBpcyB1c2VkIGZvciB2YWxpZGF0aW9uIHdoZW4gdGhlICJpZiIgc3Vic2NoZW1hIHN1Y2NlZWRzLicpLGVsc2U6RCgic2NoZW1hLmpzb24uZWxzZSIsJ1RoZSAiZWxzZSIgc3Vic2NoZW1hIGlzIHVzZWQgZm9yIHZhbGlkYXRpb24gd2hlbiB0aGUgImlmIiBzdWJzY2hlbWEgZmFpbHMuJyl9O2ZvcihMciBpbiBvdC5zY2hlbWFzKXtpdD1vdC5zY2hlbWFzW0xyXTtmb3IoTmUgaW4gaXQucHJvcGVydGllcylhdD1pdC5wcm9wZXJ0aWVzW05lXSx0eXBlb2YgYXQ9PSJib29sZWFuIiYmKGF0PWl0LnByb3BlcnRpZXNbTmVdPXt9KSxKdD1qbltOZV0sSnQ/YXQuZGVzY3JpcHRpb249SnQ6Y29uc29sZS5sb2coIiIuY29uY2F0KE5lLCI6IGxvY2FsaXplKCdzY2hlbWEuanNvbi4iKS5jb25jYXQoTmUsYCcsICIiKWApKX12YXIgaXQsYXQsSnQsTmUsTHI7dmFyIFZyO1ZyPSgoKT0+eyJ1c2Ugc3RyaWN0Ijt2YXIgdD17NDcwOmU9PntmdW5jdGlvbiBuKG8pe2lmKHR5cGVvZiBvIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCJQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkICIrSlNPTi5zdHJpbmdpZnkobykpfWZ1bmN0aW9uIGEobyxmKXtmb3IodmFyIGwsdT0iIixjPTAsaD0tMSxkPTAsbT0wO208PW8ubGVuZ3RoOysrbSl7aWYobTxvLmxlbmd0aClsPW8uY2hhckNvZGVBdChtKTtlbHNle2lmKGw9PT00NylicmVhaztsPTQ3fWlmKGw9PT00Nyl7aWYoIShoPT09bS0xfHxkPT09MSkpaWYoaCE9PW0tMSYmZD09PTIpe2lmKHUubGVuZ3RoPDJ8fGMhPT0yfHx1LmNoYXJDb2RlQXQodS5sZW5ndGgtMSkhPT00Nnx8dS5jaGFyQ29kZUF0KHUubGVuZ3RoLTIpIT09NDYpe2lmKHUubGVuZ3RoPjIpe3ZhciBwPXUubGFzdEluZGV4T2YoIi8iKTtpZihwIT09dS5sZW5ndGgtMSl7cD09PS0xPyh1PSIiLGM9MCk6Yz0odT11LnNsaWNlKDAscCkpLmxlbmd0aC0xLXUubGFzdEluZGV4T2YoIi8iKSxoPW0sZD0wO2NvbnRpbnVlfX1lbHNlIGlmKHUubGVuZ3RoPT09Mnx8dS5sZW5ndGg9PT0xKXt1PSIiLGM9MCxoPW0sZD0wO2NvbnRpbnVlfX1mJiYodS5sZW5ndGg+MD91Kz0iLy4uIjp1PSIuLiIsYz0yKX1lbHNlIHUubGVuZ3RoPjA/dSs9Ii8iK28uc2xpY2UoaCsxLG0pOnU9by5zbGljZShoKzEsbSksYz1tLWgtMTtoPW0sZD0wfWVsc2UgbD09PTQ2JiZkIT09LTE/KytkOmQ9LTF9cmV0dXJuIHV9dmFyIHM9e3Jlc29sdmU6ZnVuY3Rpb24oKXtmb3IodmFyIG8sZj0iIixsPSExLHU9YXJndW1lbnRzLmxlbmd0aC0xO3U+PS0xJiYhbDt1LS0pe3ZhciBjO3U+PTA/Yz1hcmd1bWVudHNbdV06KG89PT12b2lkIDAmJihvPXByb2Nlc3MuY3dkKCkpLGM9byksbihjKSxjLmxlbmd0aCE9PTAmJihmPWMrIi8iK2YsbD1jLmNoYXJDb2RlQXQoMCk9PT00Nyl9cmV0dXJuIGY9YShmLCFsKSxsP2YubGVuZ3RoPjA/Ii8iK2Y6Ii8iOmYubGVuZ3RoPjA/ZjoiLiJ9LG5vcm1hbGl6ZTpmdW5jdGlvbihvKXtpZihuKG8pLG8ubGVuZ3RoPT09MClyZXR1cm4iLiI7dmFyIGY9by5jaGFyQ29kZUF0KDApPT09NDcsbD1vLmNoYXJDb2RlQXQoby5sZW5ndGgtMSk9PT00NztyZXR1cm4obz1hKG8sIWYpKS5sZW5ndGghPT0wfHxmfHwobz0iLiIpLG8ubGVuZ3RoPjAmJmwmJihvKz0iLyIpLGY/Ii8iK286b30saXNBYnNvbHV0ZTpmdW5jdGlvbihvKXtyZXR1cm4gbihvKSxvLmxlbmd0aD4wJiZvLmNoYXJDb2RlQXQoMCk9PT00N30sam9pbjpmdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiIuIjtmb3IodmFyIG8sZj0wO2Y8YXJndW1lbnRzLmxlbmd0aDsrK2Ype3ZhciBsPWFyZ3VtZW50c1tmXTtuKGwpLGwubGVuZ3RoPjAmJihvPT09dm9pZCAwP289bDpvKz0iLyIrbCl9cmV0dXJuIG89PT12b2lkIDA/Ii4iOnMubm9ybWFsaXplKG8pfSxyZWxhdGl2ZTpmdW5jdGlvbihvLGYpe2lmKG4obyksbihmKSxvPT09Znx8KG89cy5yZXNvbHZlKG8pKT09PShmPXMucmVzb2x2ZShmKSkpcmV0dXJuIiI7Zm9yKHZhciBsPTE7bDxvLmxlbmd0aCYmby5jaGFyQ29kZUF0KGwpPT09NDc7KytsKTtmb3IodmFyIHU9by5sZW5ndGgsYz11LWwsaD0xO2g8Zi5sZW5ndGgmJmYuY2hhckNvZGVBdChoKT09PTQ3OysraCk7Zm9yKHZhciBkPWYubGVuZ3RoLWgsbT1jPGQ/YzpkLHA9LTEsZz0wO2c8PW07KytnKXtpZihnPT09bSl7aWYoZD5tKXtpZihmLmNoYXJDb2RlQXQoaCtnKT09PTQ3KXJldHVybiBmLnNsaWNlKGgrZysxKTtpZihnPT09MClyZXR1cm4gZi5zbGljZShoK2cpfWVsc2UgYz5tJiYoby5jaGFyQ29kZUF0KGwrZyk9PT00Nz9wPWc6Zz09PTAmJihwPTApKTticmVha312YXIgYj1vLmNoYXJDb2RlQXQobCtnKTtpZihiIT09Zi5jaGFyQ29kZUF0KGgrZykpYnJlYWs7Yj09PTQ3JiYocD1nKX12YXIgeT0iIjtmb3IoZz1sK3ArMTtnPD11OysrZylnIT09dSYmby5jaGFyQ29kZUF0KGcpIT09NDd8fCh5Lmxlbmd0aD09PTA/eSs9Ii4uIjp5Kz0iLy4uIik7cmV0dXJuIHkubGVuZ3RoPjA/eStmLnNsaWNlKGgrcCk6KGgrPXAsZi5jaGFyQ29kZUF0KGgpPT09NDcmJisraCxmLnNsaWNlKGgpKX0sX21ha2VMb25nOmZ1bmN0aW9uKG8pe3JldHVybiBvfSxkaXJuYW1lOmZ1bmN0aW9uKG8pe2lmKG4obyksby5sZW5ndGg9PT0wKXJldHVybiIuIjtmb3IodmFyIGY9by5jaGFyQ29kZUF0KDApLGw9Zj09PTQ3LHU9LTEsYz0hMCxoPW8ubGVuZ3RoLTE7aD49MTstLWgpaWYoKGY9by5jaGFyQ29kZUF0KGgpKT09PTQ3KXtpZighYyl7dT1oO2JyZWFrfX1lbHNlIGM9ITE7cmV0dXJuIHU9PT0tMT9sPyIvIjoiLiI6bCYmdT09PTE/Ii8vIjpvLnNsaWNlKDAsdSl9LGJhc2VuYW1lOmZ1bmN0aW9uKG8sZil7aWYoZiE9PXZvaWQgMCYmdHlwZW9mIGYhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoJyJleHQiIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnKTtuKG8pO3ZhciBsLHU9MCxjPS0xLGg9ITA7aWYoZiE9PXZvaWQgMCYmZi5sZW5ndGg+MCYmZi5sZW5ndGg8PW8ubGVuZ3RoKXtpZihmLmxlbmd0aD09PW8ubGVuZ3RoJiZmPT09bylyZXR1cm4iIjt2YXIgZD1mLmxlbmd0aC0xLG09LTE7Zm9yKGw9by5sZW5ndGgtMTtsPj0wOy0tbCl7dmFyIHA9by5jaGFyQ29kZUF0KGwpO2lmKHA9PT00Nyl7aWYoIWgpe3U9bCsxO2JyZWFrfX1lbHNlIG09PT0tMSYmKGg9ITEsbT1sKzEpLGQ+PTAmJihwPT09Zi5jaGFyQ29kZUF0KGQpPy0tZD09LTEmJihjPWwpOihkPS0xLGM9bSkpfXJldHVybiB1PT09Yz9jPW06Yz09PS0xJiYoYz1vLmxlbmd0aCksby5zbGljZSh1LGMpfWZvcihsPW8ubGVuZ3RoLTE7bD49MDstLWwpaWYoby5jaGFyQ29kZUF0KGwpPT09NDcpe2lmKCFoKXt1PWwrMTticmVha319ZWxzZSBjPT09LTEmJihoPSExLGM9bCsxKTtyZXR1cm4gYz09PS0xPyIiOm8uc2xpY2UodSxjKX0sZXh0bmFtZTpmdW5jdGlvbihvKXtuKG8pO2Zvcih2YXIgZj0tMSxsPTAsdT0tMSxjPSEwLGg9MCxkPW8ubGVuZ3RoLTE7ZD49MDstLWQpe3ZhciBtPW8uY2hhckNvZGVBdChkKTtpZihtIT09NDcpdT09PS0xJiYoYz0hMSx1PWQrMSksbT09PTQ2P2Y9PT0tMT9mPWQ6aCE9PTEmJihoPTEpOmYhPT0tMSYmKGg9LTEpO2Vsc2UgaWYoIWMpe2w9ZCsxO2JyZWFrfX1yZXR1cm4gZj09PS0xfHx1PT09LTF8fGg9PT0wfHxoPT09MSYmZj09PXUtMSYmZj09PWwrMT8iIjpvLnNsaWNlKGYsdSl9LGZvcm1hdDpmdW5jdGlvbihvKXtpZihvPT09bnVsbHx8dHlwZW9mIG8hPSJvYmplY3QiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAicGF0aE9iamVjdCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBvKTtyZXR1cm4gZnVuY3Rpb24oZixsKXt2YXIgdT1sLmRpcnx8bC5yb290LGM9bC5iYXNlfHwobC5uYW1lfHwiIikrKGwuZXh0fHwiIik7cmV0dXJuIHU/dT09PWwucm9vdD91K2M6dSsiLyIrYzpjfSgwLG8pfSxwYXJzZTpmdW5jdGlvbihvKXtuKG8pO3ZhciBmPXtyb290OiIiLGRpcjoiIixiYXNlOiIiLGV4dDoiIixuYW1lOiIifTtpZihvLmxlbmd0aD09PTApcmV0dXJuIGY7dmFyIGwsdT1vLmNoYXJDb2RlQXQoMCksYz11PT09NDc7Yz8oZi5yb290PSIvIixsPTEpOmw9MDtmb3IodmFyIGg9LTEsZD0wLG09LTEscD0hMCxnPW8ubGVuZ3RoLTEsYj0wO2c+PWw7LS1nKWlmKCh1PW8uY2hhckNvZGVBdChnKSkhPT00NyltPT09LTEmJihwPSExLG09ZysxKSx1PT09NDY/aD09PS0xP2g9ZzpiIT09MSYmKGI9MSk6aCE9PS0xJiYoYj0tMSk7ZWxzZSBpZighcCl7ZD1nKzE7YnJlYWt9cmV0dXJuIGg9PT0tMXx8bT09PS0xfHxiPT09MHx8Yj09PTEmJmg9PT1tLTEmJmg9PT1kKzE/bSE9PS0xJiYoZi5iYXNlPWYubmFtZT1kPT09MCYmYz9vLnNsaWNlKDEsbSk6by5zbGljZShkLG0pKTooZD09PTAmJmM/KGYubmFtZT1vLnNsaWNlKDEsaCksZi5iYXNlPW8uc2xpY2UoMSxtKSk6KGYubmFtZT1vLnNsaWNlKGQsaCksZi5iYXNlPW8uc2xpY2UoZCxtKSksZi5leHQ9by5zbGljZShoLG0pKSxkPjA/Zi5kaXI9by5zbGljZSgwLGQtMSk6YyYmKGYuZGlyPSIvIiksZn0sc2VwOiIvIixkZWxpbWl0ZXI6IjoiLHdpbjMyOm51bGwscG9zaXg6bnVsbH07cy5wb3NpeD1zLGUuZXhwb3J0cz1zfSw0NDc6KGUsbixhKT0+e3ZhciBzO2lmKGEucihuKSxhLmQobix7VVJJOigpPT55LFV0aWxzOigpPT5MfSksdHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiKXM9cHJvY2Vzcy5wbGF0Zm9ybT09PSJ3aW4zMiI7ZWxzZSBpZih0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0Iil7dmFyIG89bmF2aWdhdG9yLnVzZXJBZ2VudDtzPW8uaW5kZXhPZigiV2luZG93cyIpPj0wfXZhciBmLGwsdT0oZj1mdW5jdGlvbihULFMpe3JldHVybihmPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihrLGope2suX19wcm90b19fPWp9fHxmdW5jdGlvbihrLGope2Zvcih2YXIgViBpbiBqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChqLFYpJiYoa1tWXT1qW1ZdKX0pKFQsUyl9LGZ1bmN0aW9uKFQsUyl7aWYodHlwZW9mIFMhPSJmdW5jdGlvbiImJlMhPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcoUykrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gaygpe3RoaXMuY29uc3RydWN0b3I9VH1mKFQsUyksVC5wcm90b3R5cGU9Uz09PW51bGw/T2JqZWN0LmNyZWF0ZShTKTooay5wcm90b3R5cGU9Uy5wcm90b3R5cGUsbmV3IGspfSksYz0vXlx3W1x3XGQrLi1dKiQvLGg9L15cLy8sZD0vXlwvXC8vO2Z1bmN0aW9uIG0oVCxTKXtpZighVC5zY2hlbWUmJlMpdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBTY2hlbWUgaXMgbWlzc2luZzoge3NjaGVtZTogIiIsIGF1dGhvcml0eTogIicuY29uY2F0KFQuYXV0aG9yaXR5LCciLCBwYXRoOiAiJykuY29uY2F0KFQucGF0aCwnIiwgcXVlcnk6ICInKS5jb25jYXQoVC5xdWVyeSwnIiwgZnJhZ21lbnQ6ICInKS5jb25jYXQoVC5mcmFnbWVudCwnIn0nKSk7aWYoVC5zY2hlbWUmJiFjLnRlc3QoVC5zY2hlbWUpKXRocm93IG5ldyBFcnJvcigiW1VyaUVycm9yXTogU2NoZW1lIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycy4iKTtpZihULnBhdGgpe2lmKFQuYXV0aG9yaXR5KXtpZighaC50ZXN0KFQucGF0aCkpdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBjb250YWlucyBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNvbXBvbmVudCBtdXN0IGVpdGhlciBiZSBlbXB0eSBvciBiZWdpbiB3aXRoIGEgc2xhc2ggKCIvIikgY2hhcmFjdGVyJyl9ZWxzZSBpZihkLnRlc3QoVC5wYXRoKSl0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IElmIGEgVVJJIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjYW5ub3QgYmVnaW4gd2l0aCB0d28gc2xhc2ggY2hhcmFjdGVycyAoIi8vIiknKX19dmFyIHA9IiIsZz0iLyIsYj0vXigoW146Lz8jXSs/KTopPyhcL1wvKFteLz8jXSopKT8oW14/I10qKShcPyhbXiNdKikpPygjKC4qKSk/Lyx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVChTLGssaixWLCQsSil7Sj09PXZvaWQgMCYmKEo9ITEpLHR5cGVvZiBTPT0ib2JqZWN0Ij8odGhpcy5zY2hlbWU9Uy5zY2hlbWV8fHAsdGhpcy5hdXRob3JpdHk9Uy5hdXRob3JpdHl8fHAsdGhpcy5wYXRoPVMucGF0aHx8cCx0aGlzLnF1ZXJ5PVMucXVlcnl8fHAsdGhpcy5mcmFnbWVudD1TLmZyYWdtZW50fHxwKToodGhpcy5zY2hlbWU9ZnVuY3Rpb24odWUsRyl7cmV0dXJuIHVlfHxHP3VlOiJmaWxlIn0oUyxKKSx0aGlzLmF1dGhvcml0eT1rfHxwLHRoaXMucGF0aD1mdW5jdGlvbih1ZSxHKXtzd2l0Y2godWUpe2Nhc2UiaHR0cHMiOmNhc2UiaHR0cCI6Y2FzZSJmaWxlIjpHP0dbMF0hPT1nJiYoRz1nK0cpOkc9Z31yZXR1cm4gR30odGhpcy5zY2hlbWUsanx8cCksdGhpcy5xdWVyeT1WfHxwLHRoaXMuZnJhZ21lbnQ9JHx8cCxtKHRoaXMsSikpfXJldHVybiBULmlzVXJpPWZ1bmN0aW9uKFMpe3JldHVybiBTIGluc3RhbmNlb2YgVHx8ISFTJiZ0eXBlb2YgUy5hdXRob3JpdHk9PSJzdHJpbmciJiZ0eXBlb2YgUy5mcmFnbWVudD09InN0cmluZyImJnR5cGVvZiBTLnBhdGg9PSJzdHJpbmciJiZ0eXBlb2YgUy5xdWVyeT09InN0cmluZyImJnR5cGVvZiBTLnNjaGVtZT09InN0cmluZyImJnR5cGVvZiBTLmZzUGF0aD09InN0cmluZyImJnR5cGVvZiBTLndpdGg9PSJmdW5jdGlvbiImJnR5cGVvZiBTLnRvU3RyaW5nPT0iZnVuY3Rpb24ifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVC5wcm90b3R5cGUsImZzUGF0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiBQKHRoaXMsITEpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFQucHJvdG90eXBlLndpdGg9ZnVuY3Rpb24oUyl7aWYoIVMpcmV0dXJuIHRoaXM7dmFyIGs9Uy5zY2hlbWUsaj1TLmF1dGhvcml0eSxWPVMucGF0aCwkPVMucXVlcnksSj1TLmZyYWdtZW50O3JldHVybiBrPT09dm9pZCAwP2s9dGhpcy5zY2hlbWU6az09PW51bGwmJihrPXApLGo9PT12b2lkIDA/aj10aGlzLmF1dGhvcml0eTpqPT09bnVsbCYmKGo9cCksVj09PXZvaWQgMD9WPXRoaXMucGF0aDpWPT09bnVsbCYmKFY9cCksJD09PXZvaWQgMD8kPXRoaXMucXVlcnk6JD09PW51bGwmJigkPXApLEo9PT12b2lkIDA/Sj10aGlzLmZyYWdtZW50Oko9PT1udWxsJiYoSj1wKSxrPT09dGhpcy5zY2hlbWUmJmo9PT10aGlzLmF1dGhvcml0eSYmVj09PXRoaXMucGF0aCYmJD09PXRoaXMucXVlcnkmJko9PT10aGlzLmZyYWdtZW50P3RoaXM6bmV3IE8oayxqLFYsJCxKKX0sVC5wYXJzZT1mdW5jdGlvbihTLGspe2s9PT12b2lkIDAmJihrPSExKTt2YXIgaj1iLmV4ZWMoUyk7cmV0dXJuIGo/bmV3IE8oalsyXXx8cCxOKGpbNF18fHApLE4oals1XXx8cCksTihqWzddfHxwKSxOKGpbOV18fHApLGspOm5ldyBPKHAscCxwLHAscCl9LFQuZmlsZT1mdW5jdGlvbihTKXt2YXIgaz1wO2lmKHMmJihTPVMucmVwbGFjZSgvXFwvZyxnKSksU1swXT09PWcmJlNbMV09PT1nKXt2YXIgaj1TLmluZGV4T2YoZywyKTtqPT09LTE/KGs9Uy5zdWJzdHJpbmcoMiksUz1nKTooaz1TLnN1YnN0cmluZygyLGopLFM9Uy5zdWJzdHJpbmcoail8fGcpfXJldHVybiBuZXcgTygiZmlsZSIsayxTLHAscCl9LFQuZnJvbT1mdW5jdGlvbihTKXt2YXIgaz1uZXcgTyhTLnNjaGVtZSxTLmF1dGhvcml0eSxTLnBhdGgsUy5xdWVyeSxTLmZyYWdtZW50KTtyZXR1cm4gbShrLCEwKSxrfSxULnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihTKXtyZXR1cm4gUz09PXZvaWQgMCYmKFM9ITEpLHcodGhpcyxTKX0sVC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFQucmV2aXZlPWZ1bmN0aW9uKFMpe2lmKFMpe2lmKFMgaW5zdGFuY2VvZiBUKXJldHVybiBTO3ZhciBrPW5ldyBPKFMpO3JldHVybiBrLl9mb3JtYXR0ZWQ9Uy5leHRlcm5hbCxrLl9mc1BhdGg9Uy5fc2VwPT09dj9TLmZzUGF0aDpudWxsLGt9cmV0dXJuIFN9LFR9KCksdj1zPzE6dm9pZCAwLE89ZnVuY3Rpb24oVCl7ZnVuY3Rpb24gUygpe3ZhciBrPVQhPT1udWxsJiZULmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gay5fZm9ybWF0dGVkPW51bGwsay5fZnNQYXRoPW51bGwsa31yZXR1cm4gdShTLFQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTLnByb3RvdHlwZSwiZnNQYXRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZzUGF0aHx8KHRoaXMuX2ZzUGF0aD1QKHRoaXMsITEpKSx0aGlzLl9mc1BhdGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksUy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oayl7cmV0dXJuIGs9PT12b2lkIDAmJihrPSExKSxrP3codGhpcywhMCk6KHRoaXMuX2Zvcm1hdHRlZHx8KHRoaXMuX2Zvcm1hdHRlZD13KHRoaXMsITEpKSx0aGlzLl9mb3JtYXR0ZWQpfSxTLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgaz17JG1pZDoxfTtyZXR1cm4gdGhpcy5fZnNQYXRoJiYoay5mc1BhdGg9dGhpcy5fZnNQYXRoLGsuX3NlcD12KSx0aGlzLl9mb3JtYXR0ZWQmJihrLmV4dGVybmFsPXRoaXMuX2Zvcm1hdHRlZCksdGhpcy5wYXRoJiYoay5wYXRoPXRoaXMucGF0aCksdGhpcy5zY2hlbWUmJihrLnNjaGVtZT10aGlzLnNjaGVtZSksdGhpcy5hdXRob3JpdHkmJihrLmF1dGhvcml0eT10aGlzLmF1dGhvcml0eSksdGhpcy5xdWVyeSYmKGsucXVlcnk9dGhpcy5xdWVyeSksdGhpcy5mcmFnbWVudCYmKGsuZnJhZ21lbnQ9dGhpcy5mcmFnbWVudCksa30sU30oeSksRT0oKGw9e30pWzU4XT0iJTNBIixsWzQ3XT0iJTJGIixsWzYzXT0iJTNGIixsWzM1XT0iJTIzIixsWzkxXT0iJTVCIixsWzkzXT0iJTVEIixsWzY0XT0iJTQwIixsWzMzXT0iJTIxIixsWzM2XT0iJTI0IixsWzM4XT0iJTI2IixsWzM5XT0iJTI3IixsWzQwXT0iJTI4IixsWzQxXT0iJTI5IixsWzQyXT0iJTJBIixsWzQzXT0iJTJCIixsWzQ0XT0iJTJDIixsWzU5XT0iJTNCIixsWzYxXT0iJTNEIixsWzMyXT0iJTIwIixsKTtmdW5jdGlvbiBJKFQsUyl7Zm9yKHZhciBrPXZvaWQgMCxqPS0xLFY9MDtWPFQubGVuZ3RoO1YrKyl7dmFyICQ9VC5jaGFyQ29kZUF0KFYpO2lmKCQ+PTk3JiYkPD0xMjJ8fCQ+PTY1JiYkPD05MHx8JD49NDgmJiQ8PTU3fHwkPT09NDV8fCQ9PT00Nnx8JD09PTk1fHwkPT09MTI2fHxTJiYkPT09NDcpaiE9PS0xJiYoays9ZW5jb2RlVVJJQ29tcG9uZW50KFQuc3Vic3RyaW5nKGosVikpLGo9LTEpLGshPT12b2lkIDAmJihrKz1ULmNoYXJBdChWKSk7ZWxzZXtrPT09dm9pZCAwJiYoaz1ULnN1YnN0cigwLFYpKTt2YXIgSj1FWyRdO0ohPT12b2lkIDA/KGohPT0tMSYmKGsrPWVuY29kZVVSSUNvbXBvbmVudChULnN1YnN0cmluZyhqLFYpKSxqPS0xKSxrKz1KKTpqPT09LTEmJihqPVYpfX1yZXR1cm4gaiE9PS0xJiYoays9ZW5jb2RlVVJJQ29tcG9uZW50KFQuc3Vic3RyaW5nKGopKSksayE9PXZvaWQgMD9rOlR9ZnVuY3Rpb24gQShUKXtmb3IodmFyIFM9dm9pZCAwLGs9MDtrPFQubGVuZ3RoO2srKyl7dmFyIGo9VC5jaGFyQ29kZUF0KGspO2o9PT0zNXx8aj09PTYzPyhTPT09dm9pZCAwJiYoUz1ULnN1YnN0cigwLGspKSxTKz1FW2pdKTpTIT09dm9pZCAwJiYoUys9VFtrXSl9cmV0dXJuIFMhPT12b2lkIDA/UzpUfWZ1bmN0aW9uIFAoVCxTKXt2YXIgaztyZXR1cm4gaz1ULmF1dGhvcml0eSYmVC5wYXRoLmxlbmd0aD4xJiZULnNjaGVtZT09PSJmaWxlIj8iLy8iLmNvbmNhdChULmF1dGhvcml0eSkuY29uY2F0KFQucGF0aCk6VC5wYXRoLmNoYXJDb2RlQXQoMCk9PT00NyYmKFQucGF0aC5jaGFyQ29kZUF0KDEpPj02NSYmVC5wYXRoLmNoYXJDb2RlQXQoMSk8PTkwfHxULnBhdGguY2hhckNvZGVBdCgxKT49OTcmJlQucGF0aC5jaGFyQ29kZUF0KDEpPD0xMjIpJiZULnBhdGguY2hhckNvZGVBdCgyKT09PTU4P1M/VC5wYXRoLnN1YnN0cigxKTpULnBhdGhbMV0udG9Mb3dlckNhc2UoKStULnBhdGguc3Vic3RyKDIpOlQucGF0aCxzJiYoaz1rLnJlcGxhY2UoL1wvL2csIlxcIikpLGt9ZnVuY3Rpb24gdyhULFMpe3ZhciBrPVM/QTpJLGo9IiIsVj1ULnNjaGVtZSwkPVQuYXV0aG9yaXR5LEo9VC5wYXRoLHVlPVQucXVlcnksRz1ULmZyYWdtZW50O2lmKFYmJihqKz1WLGorPSI6IiksKCR8fFY9PT0iZmlsZSIpJiYoais9ZyxqKz1nKSwkKXt2YXIgbmU9JC5pbmRleE9mKCJAIik7aWYobmUhPT0tMSl7dmFyIGtlPSQuc3Vic3RyKDAsbmUpOyQ9JC5zdWJzdHIobmUrMSksKG5lPWtlLmluZGV4T2YoIjoiKSk9PT0tMT9qKz1rKGtlLCExKTooais9ayhrZS5zdWJzdHIoMCxuZSksITEpLGorPSI6IixqKz1rKGtlLnN1YnN0cihuZSsxKSwhMSkpLGorPSJAIn0obmU9KCQ9JC50b0xvd2VyQ2FzZSgpKS5pbmRleE9mKCI6IikpPT09LTE/ais9aygkLCExKTooais9aygkLnN1YnN0cigwLG5lKSwhMSksais9JC5zdWJzdHIobmUpKX1pZihKKXtpZihKLmxlbmd0aD49MyYmSi5jaGFyQ29kZUF0KDApPT09NDcmJkouY2hhckNvZGVBdCgyKT09PTU4KShjZT1KLmNoYXJDb2RlQXQoMSkpPj02NSYmY2U8PTkwJiYoSj0iLyIuY29uY2F0KFN0cmluZy5mcm9tQ2hhckNvZGUoY2UrMzIpLCI6IikuY29uY2F0KEouc3Vic3RyKDMpKSk7ZWxzZSBpZihKLmxlbmd0aD49MiYmSi5jaGFyQ29kZUF0KDEpPT09NTgpe3ZhciBjZTsoY2U9Si5jaGFyQ29kZUF0KDApKT49NjUmJmNlPD05MCYmKEo9IiIuY29uY2F0KFN0cmluZy5mcm9tQ2hhckNvZGUoY2UrMzIpLCI6IikuY29uY2F0KEouc3Vic3RyKDIpKSl9ais9ayhKLCEwKX1yZXR1cm4gdWUmJihqKz0iPyIsais9ayh1ZSwhMSkpLEcmJihqKz0iIyIsais9Uz9HOkkoRywhMSkpLGp9ZnVuY3Rpb24gQyhUKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChUKX1jYXRjaHtyZXR1cm4gVC5sZW5ndGg+Mz9ULnN1YnN0cigwLDMpK0MoVC5zdWJzdHIoMykpOlR9fXZhciBGPS8oJVswLTlBLVphLXpdWzAtOUEtWmEtel0pKy9nO2Z1bmN0aW9uIE4oVCl7cmV0dXJuIFQubWF0Y2goRik/VC5yZXBsYWNlKEYsZnVuY3Rpb24oUyl7cmV0dXJuIEMoUyl9KTpUfXZhciBMLFI9YSg0NzApLEg9ZnVuY3Rpb24oVCxTLGspe2lmKGt8fGFyZ3VtZW50cy5sZW5ndGg9PT0yKWZvcih2YXIgaixWPTAsJD1TLmxlbmd0aDtWPCQ7VisrKSFqJiZWIGluIFN8fChqfHwoaj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChTLDAsVikpLGpbVl09U1tWXSk7cmV0dXJuIFQuY29uY2F0KGp8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFMpKX0scT1SLnBvc2l4fHxSOyhmdW5jdGlvbihUKXtULmpvaW5QYXRoPWZ1bmN0aW9uKFMpe2Zvcih2YXIgaz1bXSxqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKylrW2otMV09YXJndW1lbnRzW2pdO3JldHVybiBTLndpdGgoe3BhdGg6cS5qb2luLmFwcGx5KHEsSChbUy5wYXRoXSxrLCExKSl9KX0sVC5yZXNvbHZlUGF0aD1mdW5jdGlvbihTKXtmb3IodmFyIGs9W10saj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspa1tqLTFdPWFyZ3VtZW50c1tqXTt2YXIgVj1TLnBhdGh8fCIvIjtyZXR1cm4gUy53aXRoKHtwYXRoOnEucmVzb2x2ZS5hcHBseShxLEgoW1ZdLGssITEpKX0pfSxULmRpcm5hbWU9ZnVuY3Rpb24oUyl7dmFyIGs9cS5kaXJuYW1lKFMucGF0aCk7cmV0dXJuIGsubGVuZ3RoPT09MSYmay5jaGFyQ29kZUF0KDApPT09NDY/UzpTLndpdGgoe3BhdGg6a30pfSxULmJhc2VuYW1lPWZ1bmN0aW9uKFMpe3JldHVybiBxLmJhc2VuYW1lKFMucGF0aCl9LFQuZXh0bmFtZT1mdW5jdGlvbihTKXtyZXR1cm4gcS5leHRuYW1lKFMucGF0aCl9fSkoTHx8KEw9e30pKX19LHI9e307ZnVuY3Rpb24gaShlKXtpZihyW2VdKXJldHVybiByW2VdLmV4cG9ydHM7dmFyIG49cltlXT17ZXhwb3J0czp7fX07cmV0dXJuIHRbZV0obixuLmV4cG9ydHMsaSksbi5leHBvcnRzfXJldHVybiBpLmQ9KGUsbik9Pntmb3IodmFyIGEgaW4gbilpLm8obixhKSYmIWkubyhlLGEpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxhLHtlbnVtZXJhYmxlOiEwLGdldDpuW2FdfSl9LGkubz0oZSxuKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbiksaS5yPWU9Pnt0eXBlb2YgU3ltYm9sPCJ1IiYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxpKDQ0Nyl9KSgpO3ZhcntVUkk6eWUsVXRpbHM6UGl9PVZyO2Z1bmN0aW9uIERyKHQscil7aWYodHlwZW9mIHQhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoIkV4cGVjdGVkIGEgc3RyaW5nIik7Zm9yKHZhciBpPVN0cmluZyh0KSxlPSIiLG49cj8hIXIuZXh0ZW5kZWQ6ITEsYT1yPyEhci5nbG9ic3RhcjohMSxzPSExLG89ciYmdHlwZW9mIHIuZmxhZ3M9PSJzdHJpbmciP3IuZmxhZ3M6IiIsZixsPTAsdT1pLmxlbmd0aDtsPHU7bCsrKXN3aXRjaChmPWlbbF0sZil7Y2FzZSIvIjpjYXNlIiQiOmNhc2UiXiI6Y2FzZSIrIjpjYXNlIi4iOmNhc2UiKCI6Y2FzZSIpIjpjYXNlIj0iOmNhc2UiISI6Y2FzZSJ8IjplKz0iXFwiK2Y7YnJlYWs7Y2FzZSI/IjppZihuKXtlKz0iLiI7YnJlYWt9Y2FzZSJbIjpjYXNlIl0iOmlmKG4pe2UrPWY7YnJlYWt9Y2FzZSJ7IjppZihuKXtzPSEwLGUrPSIoIjticmVha31jYXNlIn0iOmlmKG4pe3M9ITEsZSs9IikiO2JyZWFrfWNhc2UiLCI6aWYocyl7ZSs9InwiO2JyZWFrfWUrPSJcXCIrZjticmVhaztjYXNlIioiOmZvcih2YXIgYz1pW2wtMV0saD0xO2lbbCsxXT09PSIqIjspaCsrLGwrKzt2YXIgZD1pW2wrMV07aWYoIWEpZSs9Ii4qIjtlbHNle3ZhciBtPWg+MSYmKGM9PT0iLyJ8fGM9PT12b2lkIDB8fGM9PT0ieyJ8fGM9PT0iLCIpJiYoZD09PSIvInx8ZD09PXZvaWQgMHx8ZD09PSIsInx8ZD09PSJ9Iik7bT8oZD09PSIvIj9sKys6Yz09PSIvIiYmZS5lbmRzV2l0aCgiXFwvIikmJihlPWUuc3Vic3RyKDAsZS5sZW5ndGgtMikpLGUrPSIoKD86W14vXSooPzovfCQpKSopIik6ZSs9IihbXi9dKikifWJyZWFrO2RlZmF1bHQ6ZSs9Zn1yZXR1cm4oIW98fCF+by5pbmRleE9mKCJnIikpJiYoZT0iXiIrZSsiJCIpLG5ldyBSZWdFeHAoZSxvKX12YXIgZ2U9aGUoKSxFbj0iISIsSW49Ii8iLE5uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyLGkpe3RoaXMuZ2xvYldyYXBwZXJzPVtdO3RyeXtmb3IodmFyIGU9MCxuPXI7ZTxuLmxlbmd0aDtlKyspe3ZhciBhPW5bZV0scz1hWzBdIT09RW47c3x8KGE9YS5zdWJzdHJpbmcoMSkpLGEubGVuZ3RoPjAmJihhWzBdPT09SW4mJihhPWEuc3Vic3RyaW5nKDEpKSx0aGlzLmdsb2JXcmFwcGVycy5wdXNoKHtyZWdleHA6RHIoIioqLyIrYSx7ZXh0ZW5kZWQ6ITAsZ2xvYnN0YXI6ITB9KSxpbmNsdWRlOnN9KSl9dGhpcy51cmlzPWl9Y2F0Y2h7dGhpcy5nbG9iV3JhcHBlcnMubGVuZ3RoPTAsdGhpcy51cmlzPVtdfX1yZXR1cm4gdC5wcm90b3R5cGUubWF0Y2hlc1BhdHRlcm49ZnVuY3Rpb24ocil7Zm9yKHZhciBpPSExLGU9MCxuPXRoaXMuZ2xvYldyYXBwZXJzO2U8bi5sZW5ndGg7ZSsrKXt2YXIgYT1uW2VdLHM9YS5yZWdleHAsbz1hLmluY2x1ZGU7cy50ZXN0KHIpJiYoaT1vKX1yZXR1cm4gaX0sdC5wcm90b3R5cGUuZ2V0VVJJcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVyaXN9LHR9KCksTW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsaSxlKXt0aGlzLnNlcnZpY2U9cix0aGlzLnVyaT1pLHRoaXMuZGVwZW5kZW5jaWVzPW5ldyBTZXQsdGhpcy5hbmNob3JzPXZvaWQgMCxlJiYodGhpcy51bnJlc29sdmVkU2NoZW1hPXRoaXMuc2VydmljZS5wcm9taXNlLnJlc29sdmUobmV3IHFlKGUpKSl9cmV0dXJuIHQucHJvdG90eXBlLmdldFVucmVzb2x2ZWRTY2hlbWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnJlc29sdmVkU2NoZW1hfHwodGhpcy51bnJlc29sdmVkU2NoZW1hPXRoaXMuc2VydmljZS5sb2FkU2NoZW1hKHRoaXMudXJpKSksdGhpcy51bnJlc29sdmVkU2NoZW1hfSx0LnByb3RvdHlwZS5nZXRSZXNvbHZlZFNjaGVtYT1mdW5jdGlvbigpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMucmVzb2x2ZWRTY2hlbWF8fCh0aGlzLnJlc29sdmVkU2NoZW1hPXRoaXMuZ2V0VW5yZXNvbHZlZFNjaGVtYSgpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIHIuc2VydmljZS5yZXNvbHZlU2NoZW1hQ29udGVudChpLHIpfSkpLHRoaXMucmVzb2x2ZWRTY2hlbWF9LHQucHJvdG90eXBlLmNsZWFyU2NoZW1hPWZ1bmN0aW9uKCl7dmFyIHI9ISF0aGlzLnVucmVzb2x2ZWRTY2hlbWE7cmV0dXJuIHRoaXMucmVzb2x2ZWRTY2hlbWE9dm9pZCAwLHRoaXMudW5yZXNvbHZlZFNjaGVtYT12b2lkIDAsdGhpcy5kZXBlbmRlbmNpZXMuY2xlYXIoKSx0aGlzLmFuY2hvcnM9dm9pZCAwLHJ9LHR9KCkscWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsaSl7aT09PXZvaWQgMCYmKGk9W10pLHRoaXMuc2NoZW1hPXIsdGhpcy5lcnJvcnM9aX1yZXR1cm4gdH0oKTt2YXIgJHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsaSl7aT09PXZvaWQgMCYmKGk9W10pLHRoaXMuc2NoZW1hPXIsdGhpcy5lcnJvcnM9aX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U2VjdGlvbj1mdW5jdGlvbihyKXt2YXIgaT10aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocix0aGlzLnNjaGVtYSk7aWYoaSlyZXR1cm4gSyhpKX0sdC5wcm90b3R5cGUuZ2V0U2VjdGlvblJlY3Vyc2l2ZT1mdW5jdGlvbihyLGkpe2lmKCFpfHx0eXBlb2YgaT09ImJvb2xlYW4ifHxyLmxlbmd0aD09PTApcmV0dXJuIGk7dmFyIGU9ci5zaGlmdCgpO2lmKGkucHJvcGVydGllcyYmdHlwZW9mIGkucHJvcGVydGllc1tlXSlyZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHIsaS5wcm9wZXJ0aWVzW2VdKTtpZihpLnBhdHRlcm5Qcm9wZXJ0aWVzKWZvcih2YXIgbj0wLGE9T2JqZWN0LmtleXMoaS5wYXR0ZXJuUHJvcGVydGllcyk7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl0sbz14ZShzKTtpZihvPy50ZXN0KGUpKXJldHVybiB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocixpLnBhdHRlcm5Qcm9wZXJ0aWVzW3NdKX1lbHNle2lmKHR5cGVvZiBpLmFkZGl0aW9uYWxQcm9wZXJ0aWVzPT0ib2JqZWN0IilyZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHIsaS5hZGRpdGlvbmFsUHJvcGVydGllcyk7aWYoZS5tYXRjaCgiWzAtOV0rIikpe2lmKEFycmF5LmlzQXJyYXkoaS5pdGVtcykpe3ZhciBmPXBhcnNlSW50KGUsMTApO2lmKCFpc05hTihmKSYmaS5pdGVtc1tmXSlyZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHIsaS5pdGVtc1tmXSl9ZWxzZSBpZihpLml0ZW1zKXJldHVybiB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocixpLml0ZW1zKX19fSx0fSgpO3ZhciBScj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocixpLGUpe3RoaXMuY29udGV4dFNlcnZpY2U9aSx0aGlzLnJlcXVlc3RTZXJ2aWNlPXIsdGhpcy5wcm9taXNlQ29uc3RydWN0b3I9ZXx8UHJvbWlzZSx0aGlzLmNhbGxPbkRpc3Bvc2U9W10sdGhpcy5jb250cmlidXRpb25TY2hlbWFzPXt9LHRoaXMuY29udHJpYnV0aW9uQXNzb2NpYXRpb25zPVtdLHRoaXMuc2NoZW1hc0J5SWQ9e30sdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9ucz1bXSx0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzPXt9fXJldHVybiB0LnByb3RvdHlwZS5nZXRSZWdpc3RlcmVkU2NoZW1hSWRzPWZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzKS5maWx0ZXIoZnVuY3Rpb24oaSl7dmFyIGU9eWUucGFyc2UoaSkuc2NoZW1lO3JldHVybiBlIT09InNjaGVtYXNlcnZpY2UiJiYoIXJ8fHIoZSkpfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwicHJvbWlzZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb21pc2VDb25zdHJ1Y3Rvcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNhbGxPbkRpc3Bvc2UubGVuZ3RoPjA7KXRoaXMuY2FsbE9uRGlzcG9zZS5wb3AoKSgpfSx0LnByb3RvdHlwZS5vblJlc291cmNlQ2hhbmdlPWZ1bmN0aW9uKHIpe3ZhciBpPXRoaXM7dGhpcy5jYWNoZWRTY2hlbWFGb3JSZXNvdXJjZT12b2lkIDA7dmFyIGU9ITE7cj1iZShyKTtmb3IodmFyIG49W3JdLGE9T2JqZWN0LmtleXModGhpcy5zY2hlbWFzQnlJZCkubWFwKGZ1bmN0aW9uKGwpe3JldHVybiBpLnNjaGVtYXNCeUlkW2xdfSk7bi5sZW5ndGg7KWZvcih2YXIgcz1uLnBvcCgpLG89MDtvPGEubGVuZ3RoO28rKyl7dmFyIGY9YVtvXTtmJiYoZi51cmk9PT1zfHxmLmRlcGVuZGVuY2llcy5oYXMocykpJiYoZi51cmkhPT1zJiZuLnB1c2goZi51cmkpLGYuY2xlYXJTY2hlbWEoKSYmKGU9ITApLGFbb109dm9pZCAwKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuc2V0U2NoZW1hQ29udHJpYnV0aW9ucz1mdW5jdGlvbihyKXtpZihyLnNjaGVtYXMpe3ZhciBpPXIuc2NoZW1hcztmb3IodmFyIGUgaW4gaSl7dmFyIG49YmUoZSk7dGhpcy5jb250cmlidXRpb25TY2hlbWFzW25dPXRoaXMuYWRkU2NoZW1hSGFuZGxlKG4saVtlXSl9fWlmKEFycmF5LmlzQXJyYXkoci5zY2hlbWFBc3NvY2lhdGlvbnMpKWZvcih2YXIgYT1yLnNjaGVtYUFzc29jaWF0aW9ucyxzPTAsbz1hO3M8by5sZW5ndGg7cysrKXt2YXIgZj1vW3NdLGw9Zi51cmlzLm1hcChiZSksdT10aGlzLmFkZEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24oZi5wYXR0ZXJuLGwpO3RoaXMuY29udHJpYnV0aW9uQXNzb2NpYXRpb25zLnB1c2godSl9fSx0LnByb3RvdHlwZS5hZGRTY2hlbWFIYW5kbGU9ZnVuY3Rpb24ocixpKXt2YXIgZT1uZXcgTW4odGhpcyxyLGkpO3JldHVybiB0aGlzLnNjaGVtYXNCeUlkW3JdPWUsZX0sdC5wcm90b3R5cGUuZ2V0T3JBZGRTY2hlbWFIYW5kbGU9ZnVuY3Rpb24ocixpKXtyZXR1cm4gdGhpcy5zY2hlbWFzQnlJZFtyXXx8dGhpcy5hZGRTY2hlbWFIYW5kbGUocixpKX0sdC5wcm90b3R5cGUuYWRkRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbj1mdW5jdGlvbihyLGkpe3ZhciBlPW5ldyBObihyLGkpO3JldHVybiB0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zLnB1c2goZSksZX0sdC5wcm90b3R5cGUucmVnaXN0ZXJFeHRlcm5hbFNjaGVtYT1mdW5jdGlvbihyLGksZSl7dmFyIG49YmUocik7cmV0dXJuIHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHNbbl09ITAsdGhpcy5jYWNoZWRTY2hlbWFGb3JSZXNvdXJjZT12b2lkIDAsaSYmdGhpcy5hZGRGaWxlUGF0dGVybkFzc29jaWF0aW9uKGksW25dKSxlP3RoaXMuYWRkU2NoZW1hSGFuZGxlKG4sZSk6dGhpcy5nZXRPckFkZFNjaGVtYUhhbmRsZShuKX0sdC5wcm90b3R5cGUuY2xlYXJFeHRlcm5hbFNjaGVtYXM9ZnVuY3Rpb24oKXt0aGlzLnNjaGVtYXNCeUlkPXt9LHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnM9W10sdGhpcy5yZWdpc3RlcmVkU2NoZW1hc0lkcz17fSx0aGlzLmNhY2hlZFNjaGVtYUZvclJlc291cmNlPXZvaWQgMDtmb3IodmFyIHIgaW4gdGhpcy5jb250cmlidXRpb25TY2hlbWFzKXRoaXMuc2NoZW1hc0J5SWRbcl09dGhpcy5jb250cmlidXRpb25TY2hlbWFzW3JdLHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHNbcl09ITA7Zm9yKHZhciBpPTAsZT10aGlzLmNvbnRyaWJ1dGlvbkFzc29jaWF0aW9ucztpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTt0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zLnB1c2gobil9fSx0LnByb3RvdHlwZS5nZXRSZXNvbHZlZFNjaGVtYT1mdW5jdGlvbihyKXt2YXIgaT1iZShyKSxlPXRoaXMuc2NoZW1hc0J5SWRbaV07cmV0dXJuIGU/ZS5nZXRSZXNvbHZlZFNjaGVtYSgpOnRoaXMucHJvbWlzZS5yZXNvbHZlKHZvaWQgMCl9LHQucHJvdG90eXBlLmxvYWRTY2hlbWE9ZnVuY3Rpb24ocil7aWYoIXRoaXMucmVxdWVzdFNlcnZpY2Upe3ZhciBpPWdlKCJqc29uLnNjaGVtYS5ub3JlcXVlc3RzZXJ2aWNlIiwiVW5hYmxlIHRvIGxvYWQgc2NoZW1hIGZyb20gJ3swfScuIE5vIHNjaGVtYSByZXF1ZXN0IHNlcnZpY2UgYXZhaWxhYmxlIixzdChyKSk7cmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKG5ldyBxZSh7fSxbaV0pKX1yZXR1cm4gdGhpcy5yZXF1ZXN0U2VydmljZShyKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCFlKXt2YXIgbj1nZSgianNvbi5zY2hlbWEubm9jb250ZW50IiwiVW5hYmxlIHRvIGxvYWQgc2NoZW1hIGZyb20gJ3swfSc6IE5vIGNvbnRlbnQuIixzdChyKSk7cmV0dXJuIG5ldyBxZSh7fSxbbl0pfXZhciBhPXt9LHM9W107YT1ZdChlLHMpO3ZhciBvPXMubGVuZ3RoP1tnZSgianNvbi5zY2hlbWEuaW52YWxpZEZvcm1hdCIsIlVuYWJsZSB0byBwYXJzZSBjb250ZW50IGZyb20gJ3swfSc6IFBhcnNlIGVycm9yIGF0IG9mZnNldCB7MX0uIixzdChyKSxzWzBdLm9mZnNldCldOltdO3JldHVybiBuZXcgcWUoYSxvKX0sZnVuY3Rpb24oZSl7dmFyIG49ZS50b1N0cmluZygpLGE9ZS50b1N0cmluZygpLnNwbGl0KCJFcnJvcjogIik7cmV0dXJuIGEubGVuZ3RoPjEmJihuPWFbMV0pLHBlKG4sIi4iKSYmKG49bi5zdWJzdHIoMCxuLmxlbmd0aC0xKSksbmV3IHFlKHt9LFtnZSgianNvbi5zY2hlbWEubm9jb250ZW50IiwiVW5hYmxlIHRvIGxvYWQgc2NoZW1hIGZyb20gJ3swfSc6IHsxfS4iLHN0KHIpLG4pXSl9KX0sdC5wcm90b3R5cGUucmVzb2x2ZVNjaGVtYUNvbnRlbnQ9ZnVuY3Rpb24ocixpKXt2YXIgZT10aGlzLG49ci5lcnJvcnMuc2xpY2UoMCksYT1yLnNjaGVtYTtpZihhLiRzY2hlbWEpe3ZhciBzPWJlKGEuJHNjaGVtYSk7aWYocz09PSJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTAzL3NjaGVtYSIpcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKG5ldyAkcih7fSxbZ2UoImpzb24uc2NoZW1hLmRyYWZ0MDMubm90c3VwcG9ydGVkIiwiRHJhZnQtMDMgc2NoZW1hcyBhcmUgbm90IHN1cHBvcnRlZC4iKV0pKTtzPT09Imh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMTktMDkvc2NoZW1hIj9uLnB1c2goZ2UoImpzb24uc2NoZW1hLmRyYWZ0MjAxOTA5Lm5vdHN1cHBvcnRlZCIsIkRyYWZ0IDIwMTktMDkgc2NoZW1hcyBhcmUgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuIikpOnM9PT0iaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQvMjAyMC0xMi9zY2hlbWEiJiZuLnB1c2goZ2UoImpzb24uc2NoZW1hLmRyYWZ0MjAyMDEyLm5vdHN1cHBvcnRlZCIsIkRyYWZ0IDIwMjAtMTIgc2NoZW1hcyBhcmUgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuIikpfXZhciBvPXRoaXMuY29udGV4dFNlcnZpY2UsZj1mdW5jdGlvbihwLGcpe2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcpO3ZhciBiPXA7cmV0dXJuIGdbMF09PT0iLyImJihnPWcuc3Vic3RyaW5nKDEpKSxnLnNwbGl0KCIvIikuc29tZShmdW5jdGlvbih5KXtyZXR1cm4geT15LnJlcGxhY2UoL34xL2csIi8iKS5yZXBsYWNlKC9+MC9nLCJ+IiksYj1iW3ldLCFifSksYn0sbD1mdW5jdGlvbihwLGcsYil7cmV0dXJuIGcuYW5jaG9yc3x8KGcuYW5jaG9ycz1tKHApKSxnLmFuY2hvcnMuZ2V0KGIpfSx1PWZ1bmN0aW9uKHAsZyl7Zm9yKHZhciBiIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShiKSYmIXAuaGFzT3duUHJvcGVydHkoYikmJmIhPT0iaWQiJiZiIT09IiRpZCImJihwW2JdPWdbYl0pfSxjPWZ1bmN0aW9uKHAsZyxiLHkpe3ZhciB2O3k9PT12b2lkIDB8fHkubGVuZ3RoPT09MD92PWc6eS5jaGFyQXQoMCk9PT0iLyI/dj1mKGcseSk6dj1sKGcsYix5KSx2P3UocCx2KTpuLnB1c2goZ2UoImpzb24uc2NoZW1hLmludmFsaWRpZCIsIiRyZWYgJ3swfScgaW4gJ3sxfScgY2FuIG5vdCBiZSByZXNvbHZlZC4iLHksYi51cmkpKX0saD1mdW5jdGlvbihwLGcsYix5KXtvJiYhL15bQS1aYS16XVtBLVphLXowLTkrXC0uK10qOlwvXC8uKi8udGVzdChnKSYmKGc9by5yZXNvbHZlUmVsYXRpdmVQYXRoKGcseS51cmkpKSxnPWJlKGcpO3ZhciB2PWUuZ2V0T3JBZGRTY2hlbWFIYW5kbGUoZyk7cmV0dXJuIHYuZ2V0VW5yZXNvbHZlZFNjaGVtYSgpLnRoZW4oZnVuY3Rpb24oTyl7aWYoeS5kZXBlbmRlbmNpZXMuYWRkKGcpLE8uZXJyb3JzLmxlbmd0aCl7dmFyIEU9Yj9nKyIjIitiOmc7bi5wdXNoKGdlKCJqc29uLnNjaGVtYS5wcm9ibGVtbG9hZGluZ3JlZiIsIlByb2JsZW1zIGxvYWRpbmcgcmVmZXJlbmNlICd7MH0nOiB7MX0iLEUsTy5lcnJvcnNbMF0pKX1yZXR1cm4gYyhwLE8uc2NoZW1hLHYsYiksZChwLE8uc2NoZW1hLHYpfSl9LGQ9ZnVuY3Rpb24ocCxnLGIpe3ZhciB5PVtdO3JldHVybiBlLnRyYXZlcnNlTm9kZXMocCxmdW5jdGlvbih2KXtmb3IodmFyIE89bmV3IFNldDt2LiRyZWY7KXt2YXIgRT12LiRyZWYsST1FLnNwbGl0KCIjIiwyKTtpZihkZWxldGUgdi4kcmVmLElbMF0ubGVuZ3RoPjApe3kucHVzaChoKHYsSVswXSxJWzFdLGIpKTtyZXR1cm59ZWxzZSBpZighTy5oYXMoRSkpe3ZhciBBPUlbMV07Yyh2LGcsYixBKSxPLmFkZChFKX19fSksZS5wcm9taXNlLmFsbCh5KX0sbT1mdW5jdGlvbihwKXt2YXIgZz1uZXcgTWFwO3JldHVybiBlLnRyYXZlcnNlTm9kZXMocCxmdW5jdGlvbihiKXt2YXIgeT1iLiRpZHx8Yi5pZDtpZih0eXBlb2YgeT09InN0cmluZyImJnkuY2hhckF0KDApPT09IiMiKXt2YXIgdj15LnN1YnN0cmluZygxKTtnLmhhcyh2KT9uLnB1c2goZ2UoImpzb24uc2NoZW1hLmR1cGxpY2F0ZWlkIiwiRHVwbGljYXRlIGlkIGRlY2xhcmF0aW9uOiAnezB9JyIseSkpOmcuc2V0KHYsYil9fSksZ307cmV0dXJuIGQoYSxhLGkpLnRoZW4oZnVuY3Rpb24ocCl7cmV0dXJuIG5ldyAkcihhLG4pfSl9LHQucHJvdG90eXBlLnRyYXZlcnNlTm9kZXM9ZnVuY3Rpb24ocixpKXtpZighcnx8dHlwZW9mIHIhPSJvYmplY3QiKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7Zm9yKHZhciBlPW5ldyBTZXQsbj1mdW5jdGlvbigpe2Zvcih2YXIgbD1bXSx1PTA7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylsW3VdPWFyZ3VtZW50c1t1XTtmb3IodmFyIGM9MCxoPWw7YzxoLmxlbmd0aDtjKyspe3ZhciBkPWhbY107dHlwZW9mIGQ9PSJvYmplY3QiJiZvLnB1c2goZCl9fSxhPWZ1bmN0aW9uKCl7Zm9yKHZhciBsPVtdLHU9MDt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKWxbdV09YXJndW1lbnRzW3VdO2Zvcih2YXIgYz0wLGg9bDtjPGgubGVuZ3RoO2MrKyl7dmFyIGQ9aFtjXTtpZih0eXBlb2YgZD09Im9iamVjdCIpZm9yKHZhciBtIGluIGQpe3ZhciBwPW0sZz1kW3BdO3R5cGVvZiBnPT0ib2JqZWN0IiYmby5wdXNoKGcpfX19LHM9ZnVuY3Rpb24oKXtmb3IodmFyIGw9W10sdT0wO3U8YXJndW1lbnRzLmxlbmd0aDt1KyspbFt1XT1hcmd1bWVudHNbdV07Zm9yKHZhciBjPTAsaD1sO2M8aC5sZW5ndGg7YysrKXt2YXIgZD1oW2NdO2lmKEFycmF5LmlzQXJyYXkoZCkpZm9yKHZhciBtPTAscD1kO208cC5sZW5ndGg7bSsrKXt2YXIgZz1wW21dO3R5cGVvZiBnPT0ib2JqZWN0IiYmby5wdXNoKGcpfX19LG89W3JdLGY9by5wb3AoKTtmOyllLmhhcyhmKXx8KGUuYWRkKGYpLGkoZiksbihmLml0ZW1zLGYuYWRkaXRpb25hbEl0ZW1zLGYuYWRkaXRpb25hbFByb3BlcnRpZXMsZi5ub3QsZi5jb250YWlucyxmLnByb3BlcnR5TmFtZXMsZi5pZixmLnRoZW4sZi5lbHNlKSxhKGYuZGVmaW5pdGlvbnMsZi5wcm9wZXJ0aWVzLGYucGF0dGVyblByb3BlcnRpZXMsZi5kZXBlbmRlbmNpZXMpLHMoZi5hbnlPZixmLmFsbE9mLGYub25lT2YsZi5pdGVtcykpLGY9by5wb3AoKX0sdC5wcm90b3R5cGUuZ2V0U2NoZW1hRnJvbVByb3BlcnR5PWZ1bmN0aW9uKHIsaSl7dmFyIGUsbjtpZigoKGU9aS5yb290KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudHlwZSk9PT0ib2JqZWN0Iilmb3IodmFyIGE9MCxzPWkucm9vdC5wcm9wZXJ0aWVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO2lmKG8ua2V5Tm9kZS52YWx1ZT09PSIkc2NoZW1hIiYmKChuPW8udmFsdWVOb2RlKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4udHlwZSk9PT0ic3RyaW5nIil7dmFyIGY9by52YWx1ZU5vZGUudmFsdWU7cmV0dXJuIHRoaXMuY29udGV4dFNlcnZpY2UmJiEvXlx3W1x3XGQrLi1dKjovLnRlc3QoZikmJihmPXRoaXMuY29udGV4dFNlcnZpY2UucmVzb2x2ZVJlbGF0aXZlUGF0aChmLHIpKSxmfX19LHQucHJvdG90eXBlLmdldEFzc29jaWF0ZWRTY2hlbWFzPWZ1bmN0aW9uKHIpe2Zvcih2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpLGU9W10sbj1MbihyKSxhPTAscz10aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO2lmKG8ubWF0Y2hlc1BhdHRlcm4obikpZm9yKHZhciBmPTAsbD1vLmdldFVSSXMoKTtmPGwubGVuZ3RoO2YrKyl7dmFyIHU9bFtmXTtpW3VdfHwoZS5wdXNoKHUpLGlbdV09ITApfX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuZ2V0U2NoZW1hVVJJc0ZvclJlc291cmNlPWZ1bmN0aW9uKHIsaSl7dmFyIGU9aSYmdGhpcy5nZXRTY2hlbWFGcm9tUHJvcGVydHkocixpKTtyZXR1cm4gZT9bZV06dGhpcy5nZXRBc3NvY2lhdGVkU2NoZW1hcyhyKX0sdC5wcm90b3R5cGUuZ2V0U2NoZW1hRm9yUmVzb3VyY2U9ZnVuY3Rpb24ocixpKXtpZihpKXt2YXIgZT10aGlzLmdldFNjaGVtYUZyb21Qcm9wZXJ0eShyLGkpO2lmKGUpe3ZhciBuPWJlKGUpO3JldHVybiB0aGlzLmdldE9yQWRkU2NoZW1hSGFuZGxlKG4pLmdldFJlc29sdmVkU2NoZW1hKCl9fWlmKHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UmJnRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UucmVzb3VyY2U9PT1yKXJldHVybiB0aGlzLmNhY2hlZFNjaGVtYUZvclJlc291cmNlLnJlc29sdmVkU2NoZW1hO3ZhciBhPXRoaXMuZ2V0QXNzb2NpYXRlZFNjaGVtYXMocikscz1hLmxlbmd0aD4wP3RoaXMuY3JlYXRlQ29tYmluZWRTY2hlbWEocixhKS5nZXRSZXNvbHZlZFNjaGVtYSgpOnRoaXMucHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7cmV0dXJuIHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2U9e3Jlc291cmNlOnIscmVzb2x2ZWRTY2hlbWE6c30sc30sdC5wcm90b3R5cGUuY3JlYXRlQ29tYmluZWRTY2hlbWE9ZnVuY3Rpb24ocixpKXtpZihpLmxlbmd0aD09PTEpcmV0dXJuIHRoaXMuZ2V0T3JBZGRTY2hlbWFIYW5kbGUoaVswXSk7dmFyIGU9InNjaGVtYXNlcnZpY2U6Ly9jb21iaW5lZFNjaGVtYS8iK2VuY29kZVVSSUNvbXBvbmVudChyKSxuPXthbGxPZjppLm1hcChmdW5jdGlvbihhKXtyZXR1cm57JHJlZjphfX0pfTtyZXR1cm4gdGhpcy5hZGRTY2hlbWFIYW5kbGUoZSxuKX0sdC5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdTY2hlbWFzPWZ1bmN0aW9uKHIsaSxlKXtpZihlKXt2YXIgbj1lLmlkfHwic2NoZW1hc2VydmljZTovL3VudGl0bGVkL21hdGNoaW5nU2NoZW1hcy8iK0ZuKyssYT10aGlzLmFkZFNjaGVtYUhhbmRsZShuLGUpO3JldHVybiBhLmdldFJlc29sdmVkU2NoZW1hKCkudGhlbihmdW5jdGlvbihzKXtyZXR1cm4gaS5nZXRNYXRjaGluZ1NjaGVtYXMocy5zY2hlbWEpLmZpbHRlcihmdW5jdGlvbihvKXtyZXR1cm4hby5pbnZlcnRlZH0pfSl9cmV0dXJuIHRoaXMuZ2V0U2NoZW1hRm9yUmVzb3VyY2Uoci51cmksaSkudGhlbihmdW5jdGlvbihzKXtyZXR1cm4gcz9pLmdldE1hdGNoaW5nU2NoZW1hcyhzLnNjaGVtYSkuZmlsdGVyKGZ1bmN0aW9uKG8pe3JldHVybiFvLmludmVydGVkfSk6W119KX0sdH0oKTt2YXIgRm49MDtmdW5jdGlvbiBiZSh0KXt0cnl7cmV0dXJuIHllLnBhcnNlKHQpLnRvU3RyaW5nKCEwKX1jYXRjaHtyZXR1cm4gdH19ZnVuY3Rpb24gTG4odCl7dHJ5e3JldHVybiB5ZS5wYXJzZSh0KS53aXRoKHtmcmFnbWVudDpudWxsLHF1ZXJ5Om51bGx9KS50b1N0cmluZyghMCl9Y2F0Y2h7cmV0dXJuIHR9fWZ1bmN0aW9uIHN0KHQpe3RyeXt2YXIgcj15ZS5wYXJzZSh0KTtpZihyLnNjaGVtZT09PSJmaWxlIilyZXR1cm4gci5mc1BhdGh9Y2F0Y2h7fXJldHVybiB0fWZ1bmN0aW9uIFVyKHQscil7dmFyIGk9W10sZT1bXSxuPVtdLGE9LTEscz1sZSh0LmdldFRleHQoKSwhMSksbz1zLnNjYW4oKTtmdW5jdGlvbiBmKEMpe2kucHVzaChDKSxlLnB1c2gobi5sZW5ndGgpfWZvcig7byE9PTE3Oyl7c3dpdGNoKG8pe2Nhc2UgMTpjYXNlIDM6e3ZhciBsPXQucG9zaXRpb25BdChzLmdldFRva2VuT2Zmc2V0KCkpLmxpbmUsdT17c3RhcnRMaW5lOmwsZW5kTGluZTpsLGtpbmQ6bz09PTE/Im9iamVjdCI6ImFycmF5In07bi5wdXNoKHUpO2JyZWFrfWNhc2UgMjpjYXNlIDQ6e3ZhciBjPW89PT0yPyJvYmplY3QiOiJhcnJheSI7aWYobi5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXS5raW5kPT09Yyl7dmFyIHU9bi5wb3AoKSxoPXQucG9zaXRpb25BdChzLmdldFRva2VuT2Zmc2V0KCkpLmxpbmU7dSYmaD51LnN0YXJ0TGluZSsxJiZhIT09dS5zdGFydExpbmUmJih1LmVuZExpbmU9aC0xLGYodSksYT11LnN0YXJ0TGluZSl9YnJlYWt9Y2FzZSAxMzp7dmFyIGw9dC5wb3NpdGlvbkF0KHMuZ2V0VG9rZW5PZmZzZXQoKSkubGluZSxkPXQucG9zaXRpb25BdChzLmdldFRva2VuT2Zmc2V0KCkrcy5nZXRUb2tlbkxlbmd0aCgpKS5saW5lO3MuZ2V0VG9rZW5FcnJvcigpPT09MSYmbCsxPHQubGluZUNvdW50P3Muc2V0UG9zaXRpb24odC5vZmZzZXRBdChyZS5jcmVhdGUobCsxLDApKSk6bDxkJiYoZih7c3RhcnRMaW5lOmwsZW5kTGluZTpkLGtpbmQ6QWUuQ29tbWVudH0pLGE9bCk7YnJlYWt9Y2FzZSAxMjp7dmFyIG09dC5nZXRUZXh0KCkuc3Vic3RyKHMuZ2V0VG9rZW5PZmZzZXQoKSxzLmdldFRva2VuTGVuZ3RoKCkpLHA9bS5tYXRjaCgvXlwvXC9ccyojKHJlZ2lvblxiKXwoZW5kcmVnaW9uXGIpLyk7aWYocCl7dmFyIGg9dC5wb3NpdGlvbkF0KHMuZ2V0VG9rZW5PZmZzZXQoKSkubGluZTtpZihwWzFdKXt2YXIgdT17c3RhcnRMaW5lOmgsZW5kTGluZTpoLGtpbmQ6QWUuUmVnaW9ufTtuLnB1c2godSl9ZWxzZXtmb3IodmFyIGc9bi5sZW5ndGgtMTtnPj0wJiZuW2ddLmtpbmQhPT1BZS5SZWdpb247KWctLTtpZihnPj0wKXt2YXIgdT1uW2ddO24ubGVuZ3RoPWcsaD51LnN0YXJ0TGluZSYmYSE9PXUuc3RhcnRMaW5lJiYodS5lbmRMaW5lPWgsZih1KSxhPXUuc3RhcnRMaW5lKX19fWJyZWFrfX1vPXMuc2NhbigpfXZhciBiPXImJnIucmFuZ2VMaW1pdDtpZih0eXBlb2YgYiE9Im51bWJlciJ8fGkubGVuZ3RoPD1iKXJldHVybiBpO3ImJnIub25SYW5nZUxpbWl0RXhjZWVkZWQmJnIub25SYW5nZUxpbWl0RXhjZWVkZWQodC51cmkpO2Zvcih2YXIgeT1bXSx2PTAsTz1lO3Y8Ty5sZW5ndGg7disrKXt2YXIgRT1PW3ZdO0U8MzAmJih5W0VdPSh5W0VdfHwwKSsxKX1mb3IodmFyIEk9MCxBPTAsZz0wO2c8eS5sZW5ndGg7ZysrKXt2YXIgUD15W2ddO2lmKFApe2lmKFArST5iKXtBPWc7YnJlYWt9SSs9UH19Zm9yKHZhciB3PVtdLGc9MDtnPGkubGVuZ3RoO2crKyl7dmFyIEU9ZVtnXTt0eXBlb2YgRT09Im51bWJlciImJihFPEF8fEU9PT1BJiZJKys8YikmJncucHVzaChpW2ddKX1yZXR1cm4gd31mdW5jdGlvbiBXcih0LHIsaSl7ZnVuY3Rpb24gZShvKXtmb3IodmFyIGY9dC5vZmZzZXRBdChvKSxsPWkuZ2V0Tm9kZUZyb21PZmZzZXQoZiwhMCksdT1bXTtsOyl7c3dpdGNoKGwudHlwZSl7Y2FzZSJzdHJpbmciOmNhc2Uib2JqZWN0IjpjYXNlImFycmF5Ijp2YXIgYz1sLm9mZnNldCsxLGg9bC5vZmZzZXQrbC5sZW5ndGgtMTtjPGgmJmY+PWMmJmY8PWgmJnUucHVzaChuKGMsaCkpLHUucHVzaChuKGwub2Zmc2V0LGwub2Zmc2V0K2wubGVuZ3RoKSk7YnJlYWs7Y2FzZSJudW1iZXIiOmNhc2UiYm9vbGVhbiI6Y2FzZSJudWxsIjpjYXNlInByb3BlcnR5Ijp1LnB1c2gobihsLm9mZnNldCxsLm9mZnNldCtsLmxlbmd0aCkpO2JyZWFrfWlmKGwudHlwZT09PSJwcm9wZXJ0eSJ8fGwucGFyZW50JiZsLnBhcmVudC50eXBlPT09ImFycmF5Iil7dmFyIGQ9cyhsLm9mZnNldCtsLmxlbmd0aCw1KTtkIT09LTEmJnUucHVzaChuKGwub2Zmc2V0LGQpKX1sPWwucGFyZW50fWZvcih2YXIgbT12b2lkIDAscD11Lmxlbmd0aC0xO3A+PTA7cC0tKW09SWUuY3JlYXRlKHVbcF0sbSk7cmV0dXJuIG18fChtPUllLmNyZWF0ZShVLmNyZWF0ZShvLG8pKSksbX1mdW5jdGlvbiBuKG8sZil7cmV0dXJuIFUuY3JlYXRlKHQucG9zaXRpb25BdChvKSx0LnBvc2l0aW9uQXQoZikpfXZhciBhPWxlKHQuZ2V0VGV4dCgpLCEwKTtmdW5jdGlvbiBzKG8sZil7YS5zZXRQb3NpdGlvbihvKTt2YXIgbD1hLnNjYW4oKTtyZXR1cm4gbD09PWY/YS5nZXRUb2tlbk9mZnNldCgpK2EuZ2V0VG9rZW5MZW5ndGgoKTotMX1yZXR1cm4gci5tYXAoZSl9ZnVuY3Rpb24gSnIodCxyKXt2YXIgaT1bXTtyZXR1cm4gci52aXNpdChmdW5jdGlvbihlKXt2YXIgbjtpZihlLnR5cGU9PT0icHJvcGVydHkiJiZlLmtleU5vZGUudmFsdWU9PT0iJHJlZiImJigobj1lLnZhbHVlTm9kZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnR5cGUpPT09InN0cmluZyIpe3ZhciBhPWUudmFsdWVOb2RlLnZhbHVlLHM9RG4ocixhKTtpZihzKXt2YXIgbz10LnBvc2l0aW9uQXQocy5vZmZzZXQpO2kucHVzaCh7dGFyZ2V0OiIiLmNvbmNhdCh0LnVyaSwiIyIpLmNvbmNhdChvLmxpbmUrMSwiLCIpLmNvbmNhdChvLmNoYXJhY3RlcisxKSxyYW5nZTpWbih0LGUudmFsdWVOb2RlKX0pfX1yZXR1cm4hMH0pLFByb21pc2UucmVzb2x2ZShpKX1mdW5jdGlvbiBWbih0LHIpe3JldHVybiBVLmNyZWF0ZSh0LnBvc2l0aW9uQXQoci5vZmZzZXQrMSksdC5wb3NpdGlvbkF0KHIub2Zmc2V0K3IubGVuZ3RoLTEpKX1mdW5jdGlvbiBEbih0LHIpe3ZhciBpPSRuKHIpO3JldHVybiBpP3F0KGksdC5yb290KTpudWxsfWZ1bmN0aW9uIHF0KHQscil7aWYoIXIpcmV0dXJuIG51bGw7aWYodC5sZW5ndGg9PT0wKXJldHVybiByO3ZhciBpPXQuc2hpZnQoKTtpZihyJiZyLnR5cGU9PT0ib2JqZWN0Iil7dmFyIGU9ci5wcm9wZXJ0aWVzLmZpbmQoZnVuY3Rpb24ocyl7cmV0dXJuIHMua2V5Tm9kZS52YWx1ZT09PWl9KTtyZXR1cm4gZT9xdCh0LGUudmFsdWVOb2RlKTpudWxsfWVsc2UgaWYociYmci50eXBlPT09ImFycmF5IiYmaS5tYXRjaCgvXigwfFsxLTldWzAtOV0qKSQvKSl7dmFyIG49TnVtYmVyLnBhcnNlSW50KGkpLGE9ci5pdGVtc1tuXTtyZXR1cm4gYT9xdCh0LGEpOm51bGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gJG4odCl7cmV0dXJuIHQ9PT0iIyI/W106dFswXSE9PSIjInx8dFsxXSE9PSIvIj9udWxsOnQuc3Vic3RyaW5nKDIpLnNwbGl0KC9cLy8pLm1hcChSbil9ZnVuY3Rpb24gUm4odCl7cmV0dXJuIHQucmVwbGFjZSgvfjEvZywiLyIpLnJlcGxhY2UoL34wL2csIn4iKX1mdW5jdGlvbiBxcih0KXt2YXIgcj10LnByb21pc2VDb25zdHJ1Y3Rvcnx8UHJvbWlzZSxpPW5ldyBScih0LnNjaGVtYVJlcXVlc3RTZXJ2aWNlLHQud29ya3NwYWNlQ29udGV4dCxyKTtpLnNldFNjaGVtYUNvbnRyaWJ1dGlvbnMob3QpO3ZhciBlPW5ldyBDcihpLHQuY29udHJpYnV0aW9ucyxyLHQuY2xpZW50Q2FwYWJpbGl0aWVzKSxuPW5ldyBQcihpLHQuY29udHJpYnV0aW9ucyxyKSxhPW5ldyBGcihpKSxzPW5ldyBqcihpLHIpO3JldHVybntjb25maWd1cmU6ZnVuY3Rpb24obyl7aS5jbGVhckV4dGVybmFsU2NoZW1hcygpLG8uc2NoZW1hcyYmby5zY2hlbWFzLmZvckVhY2goZnVuY3Rpb24oZil7aS5yZWdpc3RlckV4dGVybmFsU2NoZW1hKGYudXJpLGYuZmlsZU1hdGNoLGYuc2NoZW1hKX0pLHMuY29uZmlndXJlKG8pfSxyZXNldFNjaGVtYTpmdW5jdGlvbihvKXtyZXR1cm4gaS5vblJlc291cmNlQ2hhbmdlKG8pfSxkb1ZhbGlkYXRpb246cy5kb1ZhbGlkYXRpb24uYmluZChzKSxnZXRMYW5ndWFnZVN0YXR1czpzLmdldExhbmd1YWdlU3RhdHVzLmJpbmQocykscGFyc2VKU09ORG9jdW1lbnQ6ZnVuY3Rpb24obyl7cmV0dXJuIE9yKG8se2NvbGxlY3RDb21tZW50czohMH0pfSxuZXdKU09ORG9jdW1lbnQ6ZnVuY3Rpb24obyxmKXtyZXR1cm4gVHIobyxmKX0sZ2V0TWF0Y2hpbmdTY2hlbWFzOmkuZ2V0TWF0Y2hpbmdTY2hlbWFzLmJpbmQoaSksZG9SZXNvbHZlOmUuZG9SZXNvbHZlLmJpbmQoZSksZG9Db21wbGV0ZTplLmRvQ29tcGxldGUuYmluZChlKSxmaW5kRG9jdW1lbnRTeW1ib2xzOmEuZmluZERvY3VtZW50U3ltYm9scy5iaW5kKGEpLGZpbmREb2N1bWVudFN5bWJvbHMyOmEuZmluZERvY3VtZW50U3ltYm9sczIuYmluZChhKSxmaW5kRG9jdW1lbnRDb2xvcnM6YS5maW5kRG9jdW1lbnRDb2xvcnMuYmluZChhKSxnZXRDb2xvclByZXNlbnRhdGlvbnM6YS5nZXRDb2xvclByZXNlbnRhdGlvbnMuYmluZChhKSxkb0hvdmVyOm4uZG9Ib3Zlci5iaW5kKG4pLGdldEZvbGRpbmdSYW5nZXM6VXIsZ2V0U2VsZWN0aW9uUmFuZ2VzOldyLGZpbmREZWZpbml0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSl9LGZpbmRMaW5rczpKcixmb3JtYXQ6ZnVuY3Rpb24obyxmLGwpe3ZhciB1PXZvaWQgMDtpZihmKXt2YXIgYz1vLm9mZnNldEF0KGYuc3RhcnQpLGg9by5vZmZzZXRBdChmLmVuZCktYzt1PXtvZmZzZXQ6YyxsZW5ndGg6aH19dmFyIGQ9e3RhYlNpemU6bD9sLnRhYlNpemU6NCxpbnNlcnRTcGFjZXM6bD8uaW5zZXJ0U3BhY2VzPT09ITAsaW5zZXJ0RmluYWxOZXdsaW5lOmw/Lmluc2VydEZpbmFsTmV3bGluZT09PSEwLGVvbDpgCmB9O3JldHVybiBycihvLmdldFRleHQoKSx1LGQpLm1hcChmdW5jdGlvbihtKXtyZXR1cm4gWS5yZXBsYWNlKFUuY3JlYXRlKG8ucG9zaXRpb25BdChtLm9mZnNldCksby5wb3NpdGlvbkF0KG0ub2Zmc2V0K20ubGVuZ3RoKSksbS5jb250ZW50KX0pfX19dmFyIHpyO3R5cGVvZiBmZXRjaDwidSImJih6cj1mdW5jdGlvbih0KXtyZXR1cm4gZmV0Y2godCkudGhlbihyPT5yLnRleHQoKSl9KTt2YXIgZnQ9Y2xhc3N7Y29uc3RydWN0b3IocixpKXt0aGlzLl9jdHg9cix0aGlzLl9sYW5ndWFnZVNldHRpbmdzPWkubGFuZ3VhZ2VTZXR0aW5ncyx0aGlzLl9sYW5ndWFnZUlkPWkubGFuZ3VhZ2VJZCx0aGlzLl9sYW5ndWFnZVNlcnZpY2U9cXIoe3dvcmtzcGFjZUNvbnRleHQ6e3Jlc29sdmVSZWxhdGl2ZVBhdGg6KGUsbik9PntsZXQgYT1uLnN1YnN0cigwLG4ubGFzdEluZGV4T2YoIi8iKSsxKTtyZXR1cm4gcW4oYSxlKX19LHNjaGVtYVJlcXVlc3RTZXJ2aWNlOmkuZW5hYmxlU2NoZW1hUmVxdWVzdD96cjp2b2lkIDAsY2xpZW50Q2FwYWJpbGl0aWVzOktlLkxBVEVTVH0pLHRoaXMuX2xhbmd1YWdlU2VydmljZS5jb25maWd1cmUodGhpcy5fbGFuZ3VhZ2VTZXR0aW5ncyl9YXN5bmMgZG9WYWxpZGF0aW9uKHIpe2xldCBpPXRoaXMuX2dldFRleHREb2N1bWVudChyKTtpZihpKXtsZXQgZT10aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoaSk7cmV0dXJuIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb1ZhbGlkYXRpb24oaSxlLHRoaXMuX2xhbmd1YWdlU2V0dGluZ3MpfXJldHVybiBQcm9taXNlLnJlc29sdmUoW10pfWFzeW5jIGRvQ29tcGxldGUocixpKXtsZXQgZT10aGlzLl9nZXRUZXh0RG9jdW1lbnQocik7aWYoIWUpcmV0dXJuIG51bGw7bGV0IG49dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGUpO3JldHVybiB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9Db21wbGV0ZShlLGksbil9YXN5bmMgZG9SZXNvbHZlKHIpe3JldHVybiB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9SZXNvbHZlKHIpfWFzeW5jIGRvSG92ZXIocixpKXtsZXQgZT10aGlzLl9nZXRUZXh0RG9jdW1lbnQocik7aWYoIWUpcmV0dXJuIG51bGw7bGV0IG49dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGUpO3JldHVybiB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9Ib3ZlcihlLGksbil9YXN5bmMgZm9ybWF0KHIsaSxlKXtsZXQgbj10aGlzLl9nZXRUZXh0RG9jdW1lbnQocik7aWYoIW4pcmV0dXJuW107bGV0IGE9dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmZvcm1hdChuLGksZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX1hc3luYyByZXNldFNjaGVtYShyKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2xhbmd1YWdlU2VydmljZS5yZXNldFNjaGVtYShyKSl9YXN5bmMgZmluZERvY3VtZW50U3ltYm9scyhyKXtsZXQgaT10aGlzLl9nZXRUZXh0RG9jdW1lbnQocik7aWYoIWkpcmV0dXJuW107bGV0IGU9dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGkpLG49dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmZpbmREb2N1bWVudFN5bWJvbHMyKGksZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuKX1hc3luYyBmaW5kRG9jdW1lbnRDb2xvcnMocil7bGV0IGk9dGhpcy5fZ2V0VGV4dERvY3VtZW50KHIpO2lmKCFpKXJldHVybltdO2xldCBlPXRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChpKSxuPXRoaXMuX2xhbmd1YWdlU2VydmljZS5maW5kRG9jdW1lbnRDb2xvcnMoaSxlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4pfWFzeW5jIGdldENvbG9yUHJlc2VudGF0aW9ucyhyLGksZSl7bGV0IG49dGhpcy5fZ2V0VGV4dERvY3VtZW50KHIpO2lmKCFuKXJldHVybltdO2xldCBhPXRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChuKSxzPXRoaXMuX2xhbmd1YWdlU2VydmljZS5nZXRDb2xvclByZXNlbnRhdGlvbnMobixhLGksZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShzKX1hc3luYyBnZXRGb2xkaW5nUmFuZ2VzKHIsaSl7bGV0IGU9dGhpcy5fZ2V0VGV4dERvY3VtZW50KHIpO2lmKCFlKXJldHVybltdO2xldCBuPXRoaXMuX2xhbmd1YWdlU2VydmljZS5nZXRGb2xkaW5nUmFuZ2VzKGUsaSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuKX1hc3luYyBnZXRTZWxlY3Rpb25SYW5nZXMocixpKXtsZXQgZT10aGlzLl9nZXRUZXh0RG9jdW1lbnQocik7aWYoIWUpcmV0dXJuW107bGV0IG49dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGUpLGE9dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmdldFNlbGVjdGlvblJhbmdlcyhlLGksbik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX1hc3luYyBwYXJzZUpTT05Eb2N1bWVudChyKXtsZXQgaT10aGlzLl9nZXRUZXh0RG9jdW1lbnQocik7aWYoIWkpcmV0dXJuIG51bGw7bGV0IGU9dGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoZSl9YXN5bmMgZ2V0TWF0Y2hpbmdTY2hlbWFzKHIpe2xldCBpPXRoaXMuX2dldFRleHREb2N1bWVudChyKTtpZighaSlyZXR1cm5bXTtsZXQgZT10aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoaSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZ2V0TWF0Y2hpbmdTY2hlbWFzKGksZSkpfV9nZXRUZXh0RG9jdW1lbnQocil7bGV0IGk9dGhpcy5fY3R4LmdldE1pcnJvck1vZGVscygpO2ZvcihsZXQgZSBvZiBpKWlmKGUudXJpLnRvU3RyaW5nKCk9PT1yKXJldHVybiBVZS5jcmVhdGUocix0aGlzLl9sYW5ndWFnZUlkLGUudmVyc2lvbixlLmdldFZhbHVlKCkpO3JldHVybiBudWxsfX0sV249NDcsenQ9NDY7ZnVuY3Rpb24gSm4odCl7cmV0dXJuIHQuY2hhckNvZGVBdCgwKT09PVdufWZ1bmN0aW9uIHFuKHQscil7aWYoSm4ocikpe2xldCBpPXllLnBhcnNlKHQpLGU9ci5zcGxpdCgiLyIpO3JldHVybiBpLndpdGgoe3BhdGg6QnIoZSl9KS50b1N0cmluZygpfXJldHVybiB6bih0LHIpfWZ1bmN0aW9uIEJyKHQpe2xldCByPVtdO2ZvcihsZXQgZSBvZiB0KWUubGVuZ3RoPT09MHx8ZS5sZW5ndGg9PT0xJiZlLmNoYXJDb2RlQXQoMCk9PT16dHx8KGUubGVuZ3RoPT09MiYmZS5jaGFyQ29kZUF0KDApPT09enQmJmUuY2hhckNvZGVBdCgxKT09PXp0P3IucG9wKCk6ci5wdXNoKGUpKTt0Lmxlbmd0aD4xJiZ0W3QubGVuZ3RoLTFdLmxlbmd0aD09PTAmJnIucHVzaCgiIik7bGV0IGk9ci5qb2luKCIvIik7cmV0dXJuIHRbMF0ubGVuZ3RoPT09MCYmKGk9Ii8iK2kpLGl9ZnVuY3Rpb24gem4odCwuLi5yKXtsZXQgaT15ZS5wYXJzZSh0KSxlPWkucGF0aC5zcGxpdCgiLyIpO2ZvcihsZXQgbiBvZiByKWUucHVzaCguLi5uLnNwbGl0KCIvIikpO3JldHVybiBpLndpdGgoe3BhdGg6QnIoZSl9KS50b1N0cmluZygpfWZ1bmN0aW9uIEJuKHQscil7cmV0dXJuIG5ldyBmdCh0LHIpfXJldHVybiBZcihfbik7fSkoKTsKcmV0dXJuIG1vZHVsZUV4cG9ydHM7Cn0pOwo=