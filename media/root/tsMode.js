data:application/javascript;base64,LyohLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFZlcnNpb246IDAuNDYuMCgyMTAwNzM2MGNhZDI4NjQ4YmRmNDYyODJhMjU5MmNiNDdjM2E3YTZmKQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9tb25hY28tZWRpdG9yL2Jsb2IvbWFpbi9MSUNFTlNFLnR4dAogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KZGVmaW5lKCJ2cy9sYW5ndWFnZS90eXBlc2NyaXB0L3RzTW9kZSIsIFsicmVxdWlyZSIsInJlcXVpcmUiXSwocmVxdWlyZSk9PnsKInVzZSBzdHJpY3QiO3ZhciBtb2R1bGVFeHBvcnRzPSgoKT0+e3ZhciBlZT1PYmplY3QuY3JlYXRlO3ZhciBLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgdGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt2YXIgaWU9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7dmFyIHJlPU9iamVjdC5nZXRQcm90b3R5cGVPZixzZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBCPShzPT50eXBlb2YgcmVxdWlyZTwidSI/cmVxdWlyZTp0eXBlb2YgUHJveHk8InUiP25ldyBQcm94eShzLHtnZXQ6KGUsdCk9Pih0eXBlb2YgcmVxdWlyZTwidSI/cmVxdWlyZTplKVt0XX0pOnMpKGZ1bmN0aW9uKHMpe2lmKHR5cGVvZiByZXF1aXJlPCJ1IilyZXR1cm4gcmVxdWlyZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhyb3cgRXJyb3IoJ0R5bmFtaWMgcmVxdWlyZSBvZiAiJytzKyciIGlzIG5vdCBzdXBwb3J0ZWQnKX0pO3ZhciBuZT0ocyxlKT0+KCk9PihlfHxzKChlPXtleHBvcnRzOnt9fSkuZXhwb3J0cyxlKSxlLmV4cG9ydHMpLG9lPShzLGUpPT57Zm9yKHZhciB0IGluIGUpSyhzLHQse2dldDplW3RdLGVudW1lcmFibGU6ITB9KX0sSD0ocyxlLHQsaSk9PntpZihlJiZ0eXBlb2YgZT09Im9iamVjdCJ8fHR5cGVvZiBlPT0iZnVuY3Rpb24iKWZvcihsZXQgbCBvZiBpZShlKSkhc2UuY2FsbChzLGwpJiZsIT09dCYmSyhzLGwse2dldDooKT0+ZVtsXSxlbnVtZXJhYmxlOiEoaT10ZShlLGwpKXx8aS5lbnVtZXJhYmxlfSk7cmV0dXJuIHN9LCQ9KHMsZSx0KT0+KEgocyxlLCJkZWZhdWx0IiksdCYmSCh0LGUsImRlZmF1bHQiKSksej0ocyxlLHQpPT4odD1zIT1udWxsP2VlKHJlKHMpKTp7fSxIKGV8fCFzfHwhcy5fX2VzTW9kdWxlP0sodCwiZGVmYXVsdCIse3ZhbHVlOnMsZW51bWVyYWJsZTohMH0pOnQscykpLGFlPXM9PkgoSyh7fSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSkscyk7dmFyIEc9bmUoKGhlLEopPT57dmFyIGxlPXooQigidnMvZWRpdG9yL2VkaXRvci5hcGkiKSk7Si5leHBvcnRzPWxlfSk7dmFyIG1lPXt9O29lKG1lLHtBZGFwdGVyOigpPT5rLENvZGVBY3Rpb25BZGFwdG9yOigpPT5PLERlZmluaXRpb25BZGFwdGVyOigpPT5GLERpYWdub3N0aWNzQWRhcHRlcjooKT0+VCxEb2N1bWVudEhpZ2hsaWdodEFkYXB0ZXI6KCk9PkQsRm9ybWF0QWRhcHRlcjooKT0+QSxGb3JtYXRIZWxwZXI6KCk9PngsRm9ybWF0T25UeXBlQWRhcHRlcjooKT0+UixJbmxheUhpbnRzQWRhcHRlcjooKT0+TixLaW5kOigpPT5tLExpYkZpbGVzOigpPT5fLE91dGxpbmVBZGFwdGVyOigpPT5NLFF1aWNrSW5mb0FkYXB0ZXI6KCk9PlAsUmVmZXJlbmNlQWRhcHRlcjooKT0+TCxSZW5hbWVBZGFwdGVyOigpPT5FLFNpZ25hdHVyZUhlbHBBZGFwdGVyOigpPT5JLFN1Z2dlc3RBZGFwdGVyOigpPT5DLFdvcmtlck1hbmFnZXI6KCk9PnYsZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dDooKT0+VSxnZXRKYXZhU2NyaXB0V29ya2VyOigpPT5wZSxnZXRUeXBlU2NyaXB0V29ya2VyOigpPT5kZSxzZXR1cEphdmFTY3JpcHQ6KCk9PmdlLHNldHVwVHlwZVNjcmlwdDooKT0+dWV9KTt2YXIgcj17fTskKHIseihHKCkpKTt2YXIgdj1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX21vZGVJZD1lO3RoaXMuX2RlZmF1bHRzPXQ7dGhpcy5fd29ya2VyPW51bGwsdGhpcy5fY2xpZW50PW51bGwsdGhpcy5fY29uZmlnQ2hhbmdlTGlzdGVuZXI9dGhpcy5fZGVmYXVsdHMub25EaWRDaGFuZ2UoKCk9PnRoaXMuX3N0b3BXb3JrZXIoKSksdGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW49MCx0aGlzLl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lcj10aGlzLl9kZWZhdWx0cy5vbkRpZEV4dHJhTGlic0NoYW5nZSgoKT0+dGhpcy5fdXBkYXRlRXh0cmFMaWJzKCkpfWRpc3Bvc2UoKXt0aGlzLl9jb25maWdDaGFuZ2VMaXN0ZW5lci5kaXNwb3NlKCksdGhpcy5fZXh0cmFMaWJzQ2hhbmdlTGlzdGVuZXIuZGlzcG9zZSgpLHRoaXMuX3N0b3BXb3JrZXIoKX1fc3RvcFdvcmtlcigpe3RoaXMuX3dvcmtlciYmKHRoaXMuX3dvcmtlci5kaXNwb3NlKCksdGhpcy5fd29ya2VyPW51bGwpLHRoaXMuX2NsaWVudD1udWxsfWFzeW5jIF91cGRhdGVFeHRyYUxpYnMoKXtpZighdGhpcy5fd29ya2VyKXJldHVybjtsZXQgZT0rK3RoaXMuX3VwZGF0ZUV4dHJhTGlic1Rva2VuLHQ9YXdhaXQgdGhpcy5fd29ya2VyLmdldFByb3h5KCk7dGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW49PT1lJiZ0LnVwZGF0ZUV4dHJhTGlicyh0aGlzLl9kZWZhdWx0cy5nZXRFeHRyYUxpYnMoKSl9X2dldENsaWVudCgpe3JldHVybiB0aGlzLl9jbGllbnR8fCh0aGlzLl9jbGllbnQ9KGFzeW5jKCk9Pih0aGlzLl93b3JrZXI9ci5lZGl0b3IuY3JlYXRlV2ViV29ya2VyKHttb2R1bGVJZDoidnMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC90c1dvcmtlciIsbGFiZWw6dGhpcy5fbW9kZUlkLGtlZXBJZGxlTW9kZWxzOiEwLGNyZWF0ZURhdGE6e2NvbXBpbGVyT3B0aW9uczp0aGlzLl9kZWZhdWx0cy5nZXRDb21waWxlck9wdGlvbnMoKSxleHRyYUxpYnM6dGhpcy5fZGVmYXVsdHMuZ2V0RXh0cmFMaWJzKCksY3VzdG9tV29ya2VyUGF0aDp0aGlzLl9kZWZhdWx0cy53b3JrZXJPcHRpb25zLmN1c3RvbVdvcmtlclBhdGgsaW5sYXlIaW50c09wdGlvbnM6dGhpcy5fZGVmYXVsdHMuaW5sYXlIaW50c09wdGlvbnN9fSksdGhpcy5fZGVmYXVsdHMuZ2V0RWFnZXJNb2RlbFN5bmMoKT9hd2FpdCB0aGlzLl93b3JrZXIud2l0aFN5bmNlZFJlc291cmNlcyhyLmVkaXRvci5nZXRNb2RlbHMoKS5maWx0ZXIoZT0+ZS5nZXRMYW5ndWFnZUlkKCk9PT10aGlzLl9tb2RlSWQpLm1hcChlPT5lLnVyaSkpOmF3YWl0IHRoaXMuX3dvcmtlci5nZXRQcm94eSgpKSkoKSksdGhpcy5fY2xpZW50fWFzeW5jIGdldExhbmd1YWdlU2VydmljZVdvcmtlciguLi5lKXtsZXQgdD1hd2FpdCB0aGlzLl9nZXRDbGllbnQoKTtyZXR1cm4gdGhpcy5fd29ya2VyJiZhd2FpdCB0aGlzLl93b3JrZXIud2l0aFN5bmNlZFJlc291cmNlcyhlKSx0fX07dmFyIHE9QigiLi9tb25hY28uY29udHJpYnV0aW9uIik7dmFyIG49e307blsibGliLmQudHMiXT0hMDtuWyJsaWIuZGVjb3JhdG9ycy5kLnRzIl09ITA7blsibGliLmRlY29yYXRvcnMubGVnYWN5LmQudHMiXT0hMDtuWyJsaWIuZG9tLmQudHMiXT0hMDtuWyJsaWIuZG9tLml0ZXJhYmxlLmQudHMiXT0hMDtuWyJsaWIuZXMyMDE1LmNvbGxlY3Rpb24uZC50cyJdPSEwO25bImxpYi5lczIwMTUuY29yZS5kLnRzIl09ITA7blsibGliLmVzMjAxNS5kLnRzIl09ITA7blsibGliLmVzMjAxNS5nZW5lcmF0b3IuZC50cyJdPSEwO25bImxpYi5lczIwMTUuaXRlcmFibGUuZC50cyJdPSEwO25bImxpYi5lczIwMTUucHJvbWlzZS5kLnRzIl09ITA7blsibGliLmVzMjAxNS5wcm94eS5kLnRzIl09ITA7blsibGliLmVzMjAxNS5yZWZsZWN0LmQudHMiXT0hMDtuWyJsaWIuZXMyMDE1LnN5bWJvbC5kLnRzIl09ITA7blsibGliLmVzMjAxNS5zeW1ib2wud2VsbGtub3duLmQudHMiXT0hMDtuWyJsaWIuZXMyMDE2LmFycmF5LmluY2x1ZGUuZC50cyJdPSEwO25bImxpYi5lczIwMTYuZC50cyJdPSEwO25bImxpYi5lczIwMTYuZnVsbC5kLnRzIl09ITA7blsibGliLmVzMjAxNy5kLnRzIl09ITA7blsibGliLmVzMjAxNy5mdWxsLmQudHMiXT0hMDtuWyJsaWIuZXMyMDE3LmludGwuZC50cyJdPSEwO25bImxpYi5lczIwMTcub2JqZWN0LmQudHMiXT0hMDtuWyJsaWIuZXMyMDE3LnNoYXJlZG1lbW9yeS5kLnRzIl09ITA7blsibGliLmVzMjAxNy5zdHJpbmcuZC50cyJdPSEwO25bImxpYi5lczIwMTcudHlwZWRhcnJheXMuZC50cyJdPSEwO25bImxpYi5lczIwMTguYXN5bmNnZW5lcmF0b3IuZC50cyJdPSEwO25bImxpYi5lczIwMTguYXN5bmNpdGVyYWJsZS5kLnRzIl09ITA7blsibGliLmVzMjAxOC5kLnRzIl09ITA7blsibGliLmVzMjAxOC5mdWxsLmQudHMiXT0hMDtuWyJsaWIuZXMyMDE4LmludGwuZC50cyJdPSEwO25bImxpYi5lczIwMTgucHJvbWlzZS5kLnRzIl09ITA7blsibGliLmVzMjAxOC5yZWdleHAuZC50cyJdPSEwO25bImxpYi5lczIwMTkuYXJyYXkuZC50cyJdPSEwO25bImxpYi5lczIwMTkuZC50cyJdPSEwO25bImxpYi5lczIwMTkuZnVsbC5kLnRzIl09ITA7blsibGliLmVzMjAxOS5pbnRsLmQudHMiXT0hMDtuWyJsaWIuZXMyMDE5Lm9iamVjdC5kLnRzIl09ITA7blsibGliLmVzMjAxOS5zdHJpbmcuZC50cyJdPSEwO25bImxpYi5lczIwMTkuc3ltYm9sLmQudHMiXT0hMDtuWyJsaWIuZXMyMDIwLmJpZ2ludC5kLnRzIl09ITA7blsibGliLmVzMjAyMC5kLnRzIl09ITA7blsibGliLmVzMjAyMC5kYXRlLmQudHMiXT0hMDtuWyJsaWIuZXMyMDIwLmZ1bGwuZC50cyJdPSEwO25bImxpYi5lczIwMjAuaW50bC5kLnRzIl09ITA7blsibGliLmVzMjAyMC5udW1iZXIuZC50cyJdPSEwO25bImxpYi5lczIwMjAucHJvbWlzZS5kLnRzIl09ITA7blsibGliLmVzMjAyMC5zaGFyZWRtZW1vcnkuZC50cyJdPSEwO25bImxpYi5lczIwMjAuc3RyaW5nLmQudHMiXT0hMDtuWyJsaWIuZXMyMDIwLnN5bWJvbC53ZWxsa25vd24uZC50cyJdPSEwO25bImxpYi5lczIwMjEuZC50cyJdPSEwO25bImxpYi5lczIwMjEuZnVsbC5kLnRzIl09ITA7blsibGliLmVzMjAyMS5pbnRsLmQudHMiXT0hMDtuWyJsaWIuZXMyMDIxLnByb21pc2UuZC50cyJdPSEwO25bImxpYi5lczIwMjEuc3RyaW5nLmQudHMiXT0hMDtuWyJsaWIuZXMyMDIxLndlYWtyZWYuZC50cyJdPSEwO25bImxpYi5lczIwMjIuYXJyYXkuZC50cyJdPSEwO25bImxpYi5lczIwMjIuZC50cyJdPSEwO25bImxpYi5lczIwMjIuZXJyb3IuZC50cyJdPSEwO25bImxpYi5lczIwMjIuZnVsbC5kLnRzIl09ITA7blsibGliLmVzMjAyMi5pbnRsLmQudHMiXT0hMDtuWyJsaWIuZXMyMDIyLm9iamVjdC5kLnRzIl09ITA7blsibGliLmVzMjAyMi5yZWdleHAuZC50cyJdPSEwO25bImxpYi5lczIwMjIuc2hhcmVkbWVtb3J5LmQudHMiXT0hMDtuWyJsaWIuZXMyMDIyLnN0cmluZy5kLnRzIl09ITA7blsibGliLmVzMjAyMy5hcnJheS5kLnRzIl09ITA7blsibGliLmVzMjAyMy5kLnRzIl09ITA7blsibGliLmVzMjAyMy5mdWxsLmQudHMiXT0hMDtuWyJsaWIuZXM1LmQudHMiXT0hMDtuWyJsaWIuZXM2LmQudHMiXT0hMDtuWyJsaWIuZXNuZXh0LmQudHMiXT0hMDtuWyJsaWIuZXNuZXh0LmZ1bGwuZC50cyJdPSEwO25bImxpYi5lc25leHQuaW50bC5kLnRzIl09ITA7blsibGliLnNjcmlwdGhvc3QuZC50cyJdPSEwO25bImxpYi53ZWJ3b3JrZXIuZC50cyJdPSEwO25bImxpYi53ZWJ3b3JrZXIuaW1wb3J0c2NyaXB0cy5kLnRzIl09ITA7blsibGliLndlYndvcmtlci5pdGVyYWJsZS5kLnRzIl09ITA7ZnVuY3Rpb24gVShzLGUsdD0wKXtpZih0eXBlb2Ygcz09InN0cmluZyIpcmV0dXJuIHM7aWYocz09PXZvaWQgMClyZXR1cm4iIjtsZXQgaT0iIjtpZih0KXtpKz1lO2ZvcihsZXQgbD0wO2w8dDtsKyspaSs9IiAgIn1pZihpKz1zLm1lc3NhZ2VUZXh0LHQrKyxzLm5leHQpZm9yKGxldCBsIG9mIHMubmV4dClpKz1VKGwsZSx0KTtyZXR1cm4gaX1mdW5jdGlvbiBTKHMpe3JldHVybiBzP3MubWFwKGU9PmUudGV4dCkuam9pbigiIik6IiJ9dmFyIGs9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5fd29ya2VyPWV9X3RleHRTcGFuVG9SYW5nZShlLHQpe2xldCBpPWUuZ2V0UG9zaXRpb25BdCh0LnN0YXJ0KSxsPWUuZ2V0UG9zaXRpb25BdCh0LnN0YXJ0K3QubGVuZ3RoKSx7bGluZU51bWJlcjpjLGNvbHVtbjp1fT1pLHtsaW5lTnVtYmVyOmcsY29sdW1uOm99PWw7cmV0dXJue3N0YXJ0TGluZU51bWJlcjpjLHN0YXJ0Q29sdW1uOnUsZW5kTGluZU51bWJlcjpnLGVuZENvbHVtbjpvfX19LF89Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5fd29ya2VyPWU7dGhpcy5fbGliRmlsZXM9e30sdGhpcy5faGFzRmV0Y2hlZExpYkZpbGVzPSExLHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlPW51bGx9aXNMaWJGaWxlKGUpe3JldHVybiBlJiZlLnBhdGguaW5kZXhPZigiL2xpYi4iKT09PTA/ISFuW2UucGF0aC5zbGljZSgxKV06ITF9Z2V0T3JDcmVhdGVNb2RlbChlKXtsZXQgdD1yLlVyaS5wYXJzZShlKSxpPXIuZWRpdG9yLmdldE1vZGVsKHQpO2lmKGkpcmV0dXJuIGk7aWYodGhpcy5pc0xpYkZpbGUodCkmJnRoaXMuX2hhc0ZldGNoZWRMaWJGaWxlcylyZXR1cm4gci5lZGl0b3IuY3JlYXRlTW9kZWwodGhpcy5fbGliRmlsZXNbdC5wYXRoLnNsaWNlKDEpXSwidHlwZXNjcmlwdCIsdCk7bGV0IGw9cS50eXBlc2NyaXB0RGVmYXVsdHMuZ2V0RXh0cmFMaWJzKClbZV07cmV0dXJuIGw/ci5lZGl0b3IuY3JlYXRlTW9kZWwobC5jb250ZW50LCJ0eXBlc2NyaXB0Iix0KTpudWxsfV9jb250YWluc0xpYkZpbGUoZSl7Zm9yKGxldCB0IG9mIGUpaWYodGhpcy5pc0xpYkZpbGUodCkpcmV0dXJuITA7cmV0dXJuITF9YXN5bmMgZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KGUpe3RoaXMuX2NvbnRhaW5zTGliRmlsZShlKSYmYXdhaXQgdGhpcy5fZmV0Y2hMaWJGaWxlcygpfV9mZXRjaExpYkZpbGVzKCl7cmV0dXJuIHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlfHwodGhpcy5fZmV0Y2hMaWJGaWxlc1Byb21pc2U9dGhpcy5fd29ya2VyKCkudGhlbihlPT5lLmdldExpYkZpbGVzKCkpLnRoZW4oZT0+e3RoaXMuX2hhc0ZldGNoZWRMaWJGaWxlcz0hMCx0aGlzLl9saWJGaWxlcz1lfSkpLHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlfX07dmFyIFQ9Y2xhc3MgZXh0ZW5kcyBre2NvbnN0cnVjdG9yKHQsaSxsLGMpe3N1cGVyKGMpO3RoaXMuX2xpYkZpbGVzPXQ7dGhpcy5fZGVmYXVsdHM9aTt0aGlzLl9zZWxlY3Rvcj1sO3RoaXMuX2Rpc3Bvc2FibGVzPVtdO3RoaXMuX2xpc3RlbmVyPU9iamVjdC5jcmVhdGUobnVsbCk7bGV0IHU9YT0+e2lmKGEuZ2V0TGFuZ3VhZ2VJZCgpIT09bClyZXR1cm47bGV0IGQ9KCk9PntsZXR7b25seVZpc2libGU6eX09dGhpcy5fZGVmYXVsdHMuZ2V0RGlhZ25vc3RpY3NPcHRpb25zKCk7eT9hLmlzQXR0YWNoZWRUb0VkaXRvcigpJiZ0aGlzLl9kb1ZhbGlkYXRlKGEpOnRoaXMuX2RvVmFsaWRhdGUoYSl9LHAsZj1hLm9uRGlkQ2hhbmdlQ29udGVudCgoKT0+e2NsZWFyVGltZW91dChwKSxwPXdpbmRvdy5zZXRUaW1lb3V0KGQsNTAwKX0pLGI9YS5vbkRpZENoYW5nZUF0dGFjaGVkKCgpPT57bGV0e29ubHlWaXNpYmxlOnl9PXRoaXMuX2RlZmF1bHRzLmdldERpYWdub3N0aWNzT3B0aW9ucygpO3kmJihhLmlzQXR0YWNoZWRUb0VkaXRvcigpP2QoKTpyLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMoYSx0aGlzLl9zZWxlY3RvcixbXSkpfSk7dGhpcy5fbGlzdGVuZXJbYS51cmkudG9TdHJpbmcoKV09e2Rpc3Bvc2UoKXtmLmRpc3Bvc2UoKSxiLmRpc3Bvc2UoKSxjbGVhclRpbWVvdXQocCl9fSxkKCl9LGc9YT0+e3IuZWRpdG9yLnNldE1vZGVsTWFya2VycyhhLHRoaXMuX3NlbGVjdG9yLFtdKTtsZXQgZD1hLnVyaS50b1N0cmluZygpO3RoaXMuX2xpc3RlbmVyW2RdJiYodGhpcy5fbGlzdGVuZXJbZF0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl9saXN0ZW5lcltkXSl9O3RoaXMuX2Rpc3Bvc2FibGVzLnB1c2goci5lZGl0b3Iub25EaWRDcmVhdGVNb2RlbChhPT51KGEpKSksdGhpcy5fZGlzcG9zYWJsZXMucHVzaChyLmVkaXRvci5vbldpbGxEaXNwb3NlTW9kZWwoZykpLHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2goci5lZGl0b3Iub25EaWRDaGFuZ2VNb2RlbExhbmd1YWdlKGE9PntnKGEubW9kZWwpLHUoYS5tb2RlbCl9KSksdGhpcy5fZGlzcG9zYWJsZXMucHVzaCh7ZGlzcG9zZSgpe2ZvcihsZXQgYSBvZiByLmVkaXRvci5nZXRNb2RlbHMoKSlnKGEpfX0pO2xldCBvPSgpPT57Zm9yKGxldCBhIG9mIHIuZWRpdG9yLmdldE1vZGVscygpKWcoYSksdShhKX07dGhpcy5fZGlzcG9zYWJsZXMucHVzaCh0aGlzLl9kZWZhdWx0cy5vbkRpZENoYW5nZShvKSksdGhpcy5fZGlzcG9zYWJsZXMucHVzaCh0aGlzLl9kZWZhdWx0cy5vbkRpZEV4dHJhTGlic0NoYW5nZShvKSksci5lZGl0b3IuZ2V0TW9kZWxzKCkuZm9yRWFjaChhPT51KGEpKX1kaXNwb3NlKCl7dGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaCh0PT50JiZ0LmRpc3Bvc2UoKSksdGhpcy5fZGlzcG9zYWJsZXM9W119YXN5bmMgX2RvVmFsaWRhdGUodCl7bGV0IGk9YXdhaXQgdGhpcy5fd29ya2VyKHQudXJpKTtpZih0LmlzRGlzcG9zZWQoKSlyZXR1cm47bGV0IGw9W10se25vU3ludGF4VmFsaWRhdGlvbjpjLG5vU2VtYW50aWNWYWxpZGF0aW9uOnUsbm9TdWdnZXN0aW9uRGlhZ25vc3RpY3M6Z309dGhpcy5fZGVmYXVsdHMuZ2V0RGlhZ25vc3RpY3NPcHRpb25zKCk7Y3x8bC5wdXNoKGkuZ2V0U3ludGFjdGljRGlhZ25vc3RpY3ModC51cmkudG9TdHJpbmcoKSkpLHV8fGwucHVzaChpLmdldFNlbWFudGljRGlhZ25vc3RpY3ModC51cmkudG9TdHJpbmcoKSkpLGd8fGwucHVzaChpLmdldFN1Z2dlc3Rpb25EaWFnbm9zdGljcyh0LnVyaS50b1N0cmluZygpKSk7bGV0IG89YXdhaXQgUHJvbWlzZS5hbGwobCk7aWYoIW98fHQuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgYT1vLnJlZHVjZSgocCxmKT0+Zi5jb25jYXQocCksW10pLmZpbHRlcihwPT4odGhpcy5fZGVmYXVsdHMuZ2V0RGlhZ25vc3RpY3NPcHRpb25zKCkuZGlhZ25vc3RpY0NvZGVzVG9JZ25vcmV8fFtdKS5pbmRleE9mKHAuY29kZSk9PT0tMSksZD1hLm1hcChwPT5wLnJlbGF0ZWRJbmZvcm1hdGlvbnx8W10pLnJlZHVjZSgocCxmKT0+Zi5jb25jYXQocCksW10pLm1hcChwPT5wLmZpbGU/ci5VcmkucGFyc2UocC5maWxlLmZpbGVOYW1lKTpudWxsKTthd2FpdCB0aGlzLl9saWJGaWxlcy5mZXRjaExpYkZpbGVzSWZOZWNlc3NhcnkoZCksIXQuaXNEaXNwb3NlZCgpJiZyLmVkaXRvci5zZXRNb2RlbE1hcmtlcnModCx0aGlzLl9zZWxlY3RvcixhLm1hcChwPT50aGlzLl9jb252ZXJ0RGlhZ25vc3RpY3ModCxwKSkpfV9jb252ZXJ0RGlhZ25vc3RpY3ModCxpKXtsZXQgbD1pLnN0YXJ0fHwwLGM9aS5sZW5ndGh8fDEse2xpbmVOdW1iZXI6dSxjb2x1bW46Z309dC5nZXRQb3NpdGlvbkF0KGwpLHtsaW5lTnVtYmVyOm8sY29sdW1uOmF9PXQuZ2V0UG9zaXRpb25BdChsK2MpLGQ9W107cmV0dXJuIGkucmVwb3J0c1VubmVjZXNzYXJ5JiZkLnB1c2goci5NYXJrZXJUYWcuVW5uZWNlc3NhcnkpLGkucmVwb3J0c0RlcHJlY2F0ZWQmJmQucHVzaChyLk1hcmtlclRhZy5EZXByZWNhdGVkKSx7c2V2ZXJpdHk6dGhpcy5fdHNEaWFnbm9zdGljQ2F0ZWdvcnlUb01hcmtlclNldmVyaXR5KGkuY2F0ZWdvcnkpLHN0YXJ0TGluZU51bWJlcjp1LHN0YXJ0Q29sdW1uOmcsZW5kTGluZU51bWJlcjpvLGVuZENvbHVtbjphLG1lc3NhZ2U6VShpLm1lc3NhZ2VUZXh0LGAKYCksY29kZTppLmNvZGUudG9TdHJpbmcoKSx0YWdzOmQscmVsYXRlZEluZm9ybWF0aW9uOnRoaXMuX2NvbnZlcnRSZWxhdGVkSW5mb3JtYXRpb24odCxpLnJlbGF0ZWRJbmZvcm1hdGlvbil9fV9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uKHQsaSl7aWYoIWkpcmV0dXJuW107bGV0IGw9W107cmV0dXJuIGkuZm9yRWFjaChjPT57bGV0IHU9dDtpZihjLmZpbGUmJih1PXRoaXMuX2xpYkZpbGVzLmdldE9yQ3JlYXRlTW9kZWwoYy5maWxlLmZpbGVOYW1lKSksIXUpcmV0dXJuO2xldCBnPWMuc3RhcnR8fDAsbz1jLmxlbmd0aHx8MSx7bGluZU51bWJlcjphLGNvbHVtbjpkfT11LmdldFBvc2l0aW9uQXQoZykse2xpbmVOdW1iZXI6cCxjb2x1bW46Zn09dS5nZXRQb3NpdGlvbkF0KGcrbyk7bC5wdXNoKHtyZXNvdXJjZTp1LnVyaSxzdGFydExpbmVOdW1iZXI6YSxzdGFydENvbHVtbjpkLGVuZExpbmVOdW1iZXI6cCxlbmRDb2x1bW46ZixtZXNzYWdlOlUoYy5tZXNzYWdlVGV4dCxgCmApfSl9KSxsfV90c0RpYWdub3N0aWNDYXRlZ29yeVRvTWFya2VyU2V2ZXJpdHkodCl7c3dpdGNoKHQpe2Nhc2UgMTpyZXR1cm4gci5NYXJrZXJTZXZlcml0eS5FcnJvcjtjYXNlIDM6cmV0dXJuIHIuTWFya2VyU2V2ZXJpdHkuSW5mbztjYXNlIDA6cmV0dXJuIHIuTWFya2VyU2V2ZXJpdHkuV2FybmluZztjYXNlIDI6cmV0dXJuIHIuTWFya2VyU2V2ZXJpdHkuSGludH1yZXR1cm4gci5NYXJrZXJTZXZlcml0eS5JbmZvfX0sQz1jbGFzcyBzIGV4dGVuZHMga3tnZXQgdHJpZ2dlckNoYXJhY3RlcnMoKXtyZXR1cm5bIi4iXX1hc3luYyBwcm92aWRlQ29tcGxldGlvbkl0ZW1zKGUsdCxpLGwpe2xldCBjPWUuZ2V0V29yZFVudGlsUG9zaXRpb24odCksdT1uZXcgci5SYW5nZSh0LmxpbmVOdW1iZXIsYy5zdGFydENvbHVtbix0LmxpbmVOdW1iZXIsYy5lbmRDb2x1bW4pLGc9ZS51cmksbz1lLmdldE9mZnNldEF0KHQpLGE9YXdhaXQgdGhpcy5fd29ya2VyKGcpO2lmKGUuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgZD1hd2FpdCBhLmdldENvbXBsZXRpb25zQXRQb3NpdGlvbihnLnRvU3RyaW5nKCksbyk7cmV0dXJuIWR8fGUuaXNEaXNwb3NlZCgpP3ZvaWQgMDp7c3VnZ2VzdGlvbnM6ZC5lbnRyaWVzLm1hcChmPT57bGV0IGI9dTtpZihmLnJlcGxhY2VtZW50U3Bhbil7bGV0IFc9ZS5nZXRQb3NpdGlvbkF0KGYucmVwbGFjZW1lbnRTcGFuLnN0YXJ0KSx3PWUuZ2V0UG9zaXRpb25BdChmLnJlcGxhY2VtZW50U3Bhbi5zdGFydCtmLnJlcGxhY2VtZW50U3Bhbi5sZW5ndGgpO2I9bmV3IHIuUmFuZ2UoVy5saW5lTnVtYmVyLFcuY29sdW1uLHcubGluZU51bWJlcix3LmNvbHVtbil9bGV0IHk9W107cmV0dXJuIGYua2luZE1vZGlmaWVycyE9PXZvaWQgMCYmZi5raW5kTW9kaWZpZXJzLmluZGV4T2YoImRlcHJlY2F0ZWQiKSE9PS0xJiZ5LnB1c2goci5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1UYWcuRGVwcmVjYXRlZCkse3VyaTpnLHBvc2l0aW9uOnQsb2Zmc2V0Om8scmFuZ2U6YixsYWJlbDpmLm5hbWUsaW5zZXJ0VGV4dDpmLm5hbWUsc29ydFRleHQ6Zi5zb3J0VGV4dCxraW5kOnMuY29udmVydEtpbmQoZi5raW5kKSx0YWdzOnl9fSl9fWFzeW5jIHJlc29sdmVDb21wbGV0aW9uSXRlbShlLHQpe2xldCBpPWUsbD1pLnVyaSxjPWkucG9zaXRpb24sdT1pLm9mZnNldCxvPWF3YWl0KGF3YWl0IHRoaXMuX3dvcmtlcihsKSkuZ2V0Q29tcGxldGlvbkVudHJ5RGV0YWlscyhsLnRvU3RyaW5nKCksdSxpLmxhYmVsKTtyZXR1cm4gbz97dXJpOmwscG9zaXRpb246YyxsYWJlbDpvLm5hbWUsa2luZDpzLmNvbnZlcnRLaW5kKG8ua2luZCksZGV0YWlsOlMoby5kaXNwbGF5UGFydHMpLGRvY3VtZW50YXRpb246e3ZhbHVlOnMuY3JlYXRlRG9jdW1lbnRhdGlvblN0cmluZyhvKX19Oml9c3RhdGljIGNvbnZlcnRLaW5kKGUpe3N3aXRjaChlKXtjYXNlIG0ucHJpbWl0aXZlVHlwZTpjYXNlIG0ua2V5d29yZDpyZXR1cm4gci5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLktleXdvcmQ7Y2FzZSBtLnZhcmlhYmxlOmNhc2UgbS5sb2NhbFZhcmlhYmxlOnJldHVybiByLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuVmFyaWFibGU7Y2FzZSBtLm1lbWJlclZhcmlhYmxlOmNhc2UgbS5tZW1iZXJHZXRBY2Nlc3NvcjpjYXNlIG0ubWVtYmVyU2V0QWNjZXNzb3I6cmV0dXJuIHIubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GaWVsZDtjYXNlIG0uZnVuY3Rpb246Y2FzZSBtLm1lbWJlckZ1bmN0aW9uOmNhc2UgbS5jb25zdHJ1Y3RTaWduYXR1cmU6Y2FzZSBtLmNhbGxTaWduYXR1cmU6Y2FzZSBtLmluZGV4U2lnbmF0dXJlOnJldHVybiByLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb247Y2FzZSBtLmVudW06cmV0dXJuIHIubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5FbnVtO2Nhc2UgbS5tb2R1bGU6cmV0dXJuIHIubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5Nb2R1bGU7Y2FzZSBtLmNsYXNzOnJldHVybiByLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuQ2xhc3M7Y2FzZSBtLmludGVyZmFjZTpyZXR1cm4gci5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkludGVyZmFjZTtjYXNlIG0ud2FybmluZzpyZXR1cm4gci5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZpbGV9cmV0dXJuIHIubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eX1zdGF0aWMgY3JlYXRlRG9jdW1lbnRhdGlvblN0cmluZyhlKXtsZXQgdD1TKGUuZG9jdW1lbnRhdGlvbik7aWYoZS50YWdzKWZvcihsZXQgaSBvZiBlLnRhZ3MpdCs9YAoKJHtRKGkpfWA7cmV0dXJuIHR9fTtmdW5jdGlvbiBRKHMpe2xldCBlPWAqQCR7cy5uYW1lfSpgO2lmKHMubmFtZT09PSJwYXJhbSImJnMudGV4dCl7bGV0W3QsLi4uaV09cy50ZXh0O2UrPWBcYCR7dC50ZXh0fVxgYCxpLmxlbmd0aD4wJiYoZSs9YCBcdTIwMTQgJHtpLm1hcChsPT5sLnRleHQpLmpvaW4oIiAiKX1gKX1lbHNlIEFycmF5LmlzQXJyYXkocy50ZXh0KT9lKz1gIFx1MjAxNCAke3MudGV4dC5tYXAodD0+dC50ZXh0KS5qb2luKCIgIil9YDpzLnRleHQmJihlKz1gIFx1MjAxNCAke3MudGV4dH1gKTtyZXR1cm4gZX12YXIgST1jbGFzcyBzIGV4dGVuZHMga3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7dGhpcy5zaWduYXR1cmVIZWxwVHJpZ2dlckNoYXJhY3RlcnM9WyIoIiwiLCJdfXN0YXRpYyBfdG9TaWduYXR1cmVIZWxwVHJpZ2dlclJlYXNvbih0KXtzd2l0Y2godC50cmlnZ2VyS2luZCl7Y2FzZSByLmxhbmd1YWdlcy5TaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQuVHJpZ2dlckNoYXJhY3RlcjpyZXR1cm4gdC50cmlnZ2VyQ2hhcmFjdGVyP3QuaXNSZXRyaWdnZXI/e2tpbmQ6InJldHJpZ2dlciIsdHJpZ2dlckNoYXJhY3Rlcjp0LnRyaWdnZXJDaGFyYWN0ZXJ9OntraW5kOiJjaGFyYWN0ZXJUeXBlZCIsdHJpZ2dlckNoYXJhY3Rlcjp0LnRyaWdnZXJDaGFyYWN0ZXJ9OntraW5kOiJpbnZva2VkIn07Y2FzZSByLmxhbmd1YWdlcy5TaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQuQ29udGVudENoYW5nZTpyZXR1cm4gdC5pc1JldHJpZ2dlcj97a2luZDoicmV0cmlnZ2VyIn06e2tpbmQ6Imludm9rZWQifTtjYXNlIHIubGFuZ3VhZ2VzLlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZC5JbnZva2U6ZGVmYXVsdDpyZXR1cm57a2luZDoiaW52b2tlZCJ9fX1hc3luYyBwcm92aWRlU2lnbmF0dXJlSGVscCh0LGksbCxjKXtsZXQgdT10LnVyaSxnPXQuZ2V0T2Zmc2V0QXQoaSksbz1hd2FpdCB0aGlzLl93b3JrZXIodSk7aWYodC5pc0Rpc3Bvc2VkKCkpcmV0dXJuO2xldCBhPWF3YWl0IG8uZ2V0U2lnbmF0dXJlSGVscEl0ZW1zKHUudG9TdHJpbmcoKSxnLHt0cmlnZ2VyUmVhc29uOnMuX3RvU2lnbmF0dXJlSGVscFRyaWdnZXJSZWFzb24oYyl9KTtpZighYXx8dC5pc0Rpc3Bvc2VkKCkpcmV0dXJuO2xldCBkPXthY3RpdmVTaWduYXR1cmU6YS5zZWxlY3RlZEl0ZW1JbmRleCxhY3RpdmVQYXJhbWV0ZXI6YS5hcmd1bWVudEluZGV4LHNpZ25hdHVyZXM6W119O3JldHVybiBhLml0ZW1zLmZvckVhY2gocD0+e2xldCBmPXtsYWJlbDoiIixwYXJhbWV0ZXJzOltdfTtmLmRvY3VtZW50YXRpb249e3ZhbHVlOlMocC5kb2N1bWVudGF0aW9uKX0sZi5sYWJlbCs9UyhwLnByZWZpeERpc3BsYXlQYXJ0cykscC5wYXJhbWV0ZXJzLmZvckVhY2goKGIseSxXKT0+e2xldCB3PVMoYi5kaXNwbGF5UGFydHMpLFo9e2xhYmVsOncsZG9jdW1lbnRhdGlvbjp7dmFsdWU6UyhiLmRvY3VtZW50YXRpb24pfX07Zi5sYWJlbCs9dyxmLnBhcmFtZXRlcnMucHVzaChaKSx5PFcubGVuZ3RoLTEmJihmLmxhYmVsKz1TKHAuc2VwYXJhdG9yRGlzcGxheVBhcnRzKSl9KSxmLmxhYmVsKz1TKHAuc3VmZml4RGlzcGxheVBhcnRzKSxkLnNpZ25hdHVyZXMucHVzaChmKX0pLHt2YWx1ZTpkLGRpc3Bvc2UoKXt9fX19LFA9Y2xhc3MgZXh0ZW5kcyBre2FzeW5jIHByb3ZpZGVIb3ZlcihlLHQsaSl7bGV0IGw9ZS51cmksYz1lLmdldE9mZnNldEF0KHQpLHU9YXdhaXQgdGhpcy5fd29ya2VyKGwpO2lmKGUuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgZz1hd2FpdCB1LmdldFF1aWNrSW5mb0F0UG9zaXRpb24obC50b1N0cmluZygpLGMpO2lmKCFnfHxlLmlzRGlzcG9zZWQoKSlyZXR1cm47bGV0IG89UyhnLmRvY3VtZW50YXRpb24pLGE9Zy50YWdzP2cudGFncy5tYXAocD0+UShwKSkuam9pbihgICAKCmApOiIiLGQ9UyhnLmRpc3BsYXlQYXJ0cyk7cmV0dXJue3JhbmdlOnRoaXMuX3RleHRTcGFuVG9SYW5nZShlLGcudGV4dFNwYW4pLGNvbnRlbnRzOlt7dmFsdWU6ImBgYHR5cGVzY3JpcHRcbiIrZCsiXG5gYGBcbiJ9LHt2YWx1ZTpvKyhhP2AKCmArYToiIil9XX19fSxEPWNsYXNzIGV4dGVuZHMga3thc3luYyBwcm92aWRlRG9jdW1lbnRIaWdobGlnaHRzKGUsdCxpKXtsZXQgbD1lLnVyaSxjPWUuZ2V0T2Zmc2V0QXQodCksdT1hd2FpdCB0aGlzLl93b3JrZXIobCk7aWYoZS5pc0Rpc3Bvc2VkKCkpcmV0dXJuO2xldCBnPWF3YWl0IHUuZ2V0RG9jdW1lbnRIaWdobGlnaHRzKGwudG9TdHJpbmcoKSxjLFtsLnRvU3RyaW5nKCldKTtpZighKCFnfHxlLmlzRGlzcG9zZWQoKSkpcmV0dXJuIGcuZmxhdE1hcChvPT5vLmhpZ2hsaWdodFNwYW5zLm1hcChhPT4oe3JhbmdlOnRoaXMuX3RleHRTcGFuVG9SYW5nZShlLGEudGV4dFNwYW4pLGtpbmQ6YS5raW5kPT09IndyaXR0ZW5SZWZlcmVuY2UiP3IubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5Xcml0ZTpyLmxhbmd1YWdlcy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dH0pKSl9fSxGPWNsYXNzIGV4dGVuZHMga3tjb25zdHJ1Y3Rvcih0LGkpe3N1cGVyKGkpO3RoaXMuX2xpYkZpbGVzPXR9YXN5bmMgcHJvdmlkZURlZmluaXRpb24odCxpLGwpe2xldCBjPXQudXJpLHU9dC5nZXRPZmZzZXRBdChpKSxnPWF3YWl0IHRoaXMuX3dvcmtlcihjKTtpZih0LmlzRGlzcG9zZWQoKSlyZXR1cm47bGV0IG89YXdhaXQgZy5nZXREZWZpbml0aW9uQXRQb3NpdGlvbihjLnRvU3RyaW5nKCksdSk7aWYoIW98fHQuaXNEaXNwb3NlZCgpfHwoYXdhaXQgdGhpcy5fbGliRmlsZXMuZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KG8ubWFwKGQ9PnIuVXJpLnBhcnNlKGQuZmlsZU5hbWUpKSksdC5pc0Rpc3Bvc2VkKCkpKXJldHVybjtsZXQgYT1bXTtmb3IobGV0IGQgb2Ygbyl7bGV0IHA9dGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChkLmZpbGVOYW1lKTtwJiZhLnB1c2goe3VyaTpwLnVyaSxyYW5nZTp0aGlzLl90ZXh0U3BhblRvUmFuZ2UocCxkLnRleHRTcGFuKX0pfXJldHVybiBhfX0sTD1jbGFzcyBleHRlbmRzIGt7Y29uc3RydWN0b3IodCxpKXtzdXBlcihpKTt0aGlzLl9saWJGaWxlcz10fWFzeW5jIHByb3ZpZGVSZWZlcmVuY2VzKHQsaSxsLGMpe2xldCB1PXQudXJpLGc9dC5nZXRPZmZzZXRBdChpKSxvPWF3YWl0IHRoaXMuX3dvcmtlcih1KTtpZih0LmlzRGlzcG9zZWQoKSlyZXR1cm47bGV0IGE9YXdhaXQgby5nZXRSZWZlcmVuY2VzQXRQb3NpdGlvbih1LnRvU3RyaW5nKCksZyk7aWYoIWF8fHQuaXNEaXNwb3NlZCgpfHwoYXdhaXQgdGhpcy5fbGliRmlsZXMuZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KGEubWFwKHA9PnIuVXJpLnBhcnNlKHAuZmlsZU5hbWUpKSksdC5pc0Rpc3Bvc2VkKCkpKXJldHVybjtsZXQgZD1bXTtmb3IobGV0IHAgb2YgYSl7bGV0IGY9dGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChwLmZpbGVOYW1lKTtmJiZkLnB1c2goe3VyaTpmLnVyaSxyYW5nZTp0aGlzLl90ZXh0U3BhblRvUmFuZ2UoZixwLnRleHRTcGFuKX0pfXJldHVybiBkfX0sTT1jbGFzcyBleHRlbmRzIGt7YXN5bmMgcHJvdmlkZURvY3VtZW50U3ltYm9scyhlLHQpe2xldCBpPWUudXJpLGw9YXdhaXQgdGhpcy5fd29ya2VyKGkpO2lmKGUuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgYz1hd2FpdCBsLmdldE5hdmlnYXRpb25UcmVlKGkudG9TdHJpbmcoKSk7aWYoIWN8fGUuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgdT0obyxhKT0+KHtuYW1lOm8udGV4dCxkZXRhaWw6IiIsa2luZDpoW28ua2luZF18fHIubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGUscmFuZ2U6dGhpcy5fdGV4dFNwYW5Ub1JhbmdlKGUsby5zcGFuc1swXSksc2VsZWN0aW9uUmFuZ2U6dGhpcy5fdGV4dFNwYW5Ub1JhbmdlKGUsby5zcGFuc1swXSksdGFnczpbXSxjaGlsZHJlbjpvLmNoaWxkSXRlbXM/Lm1hcChwPT51KHAsby50ZXh0KSksY29udGFpbmVyTmFtZTphfSk7cmV0dXJuIGMuY2hpbGRJdGVtcz9jLmNoaWxkSXRlbXMubWFwKG89PnUobykpOltdfX0sbT1jbGFzc3tzdGF0aWN7dGhpcy51bmtub3duPSIifXN0YXRpY3t0aGlzLmtleXdvcmQ9ImtleXdvcmQifXN0YXRpY3t0aGlzLnNjcmlwdD0ic2NyaXB0In1zdGF0aWN7dGhpcy5tb2R1bGU9Im1vZHVsZSJ9c3RhdGlje3RoaXMuY2xhc3M9ImNsYXNzIn1zdGF0aWN7dGhpcy5pbnRlcmZhY2U9ImludGVyZmFjZSJ9c3RhdGlje3RoaXMudHlwZT0idHlwZSJ9c3RhdGlje3RoaXMuZW51bT0iZW51bSJ9c3RhdGlje3RoaXMudmFyaWFibGU9InZhciJ9c3RhdGlje3RoaXMubG9jYWxWYXJpYWJsZT0ibG9jYWwgdmFyIn1zdGF0aWN7dGhpcy5mdW5jdGlvbj0iZnVuY3Rpb24ifXN0YXRpY3t0aGlzLmxvY2FsRnVuY3Rpb249ImxvY2FsIGZ1bmN0aW9uIn1zdGF0aWN7dGhpcy5tZW1iZXJGdW5jdGlvbj0ibWV0aG9kIn1zdGF0aWN7dGhpcy5tZW1iZXJHZXRBY2Nlc3Nvcj0iZ2V0dGVyIn1zdGF0aWN7dGhpcy5tZW1iZXJTZXRBY2Nlc3Nvcj0ic2V0dGVyIn1zdGF0aWN7dGhpcy5tZW1iZXJWYXJpYWJsZT0icHJvcGVydHkifXN0YXRpY3t0aGlzLmNvbnN0cnVjdG9ySW1wbGVtZW50YXRpb249ImNvbnN0cnVjdG9yIn1zdGF0aWN7dGhpcy5jYWxsU2lnbmF0dXJlPSJjYWxsIn1zdGF0aWN7dGhpcy5pbmRleFNpZ25hdHVyZT0iaW5kZXgifXN0YXRpY3t0aGlzLmNvbnN0cnVjdFNpZ25hdHVyZT0iY29uc3RydWN0In1zdGF0aWN7dGhpcy5wYXJhbWV0ZXI9InBhcmFtZXRlciJ9c3RhdGlje3RoaXMudHlwZVBhcmFtZXRlcj0idHlwZSBwYXJhbWV0ZXIifXN0YXRpY3t0aGlzLnByaW1pdGl2ZVR5cGU9InByaW1pdGl2ZSB0eXBlIn1zdGF0aWN7dGhpcy5sYWJlbD0ibGFiZWwifXN0YXRpY3t0aGlzLmFsaWFzPSJhbGlhcyJ9c3RhdGlje3RoaXMuY29uc3Q9ImNvbnN0In1zdGF0aWN7dGhpcy5sZXQ9ImxldCJ9c3RhdGlje3RoaXMud2FybmluZz0id2FybmluZyJ9fSxoPU9iamVjdC5jcmVhdGUobnVsbCk7aFttLm1vZHVsZV09ci5sYW5ndWFnZXMuU3ltYm9sS2luZC5Nb2R1bGU7aFttLmNsYXNzXT1yLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkNsYXNzO2hbbS5lbnVtXT1yLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkVudW07aFttLmludGVyZmFjZV09ci5sYW5ndWFnZXMuU3ltYm9sS2luZC5JbnRlcmZhY2U7aFttLm1lbWJlckZ1bmN0aW9uXT1yLmxhbmd1YWdlcy5TeW1ib2xLaW5kLk1ldGhvZDtoW20ubWVtYmVyVmFyaWFibGVdPXIubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7aFttLm1lbWJlckdldEFjY2Vzc29yXT1yLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlByb3BlcnR5O2hbbS5tZW1iZXJTZXRBY2Nlc3Nvcl09ci5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtoW20udmFyaWFibGVdPXIubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGU7aFttLmNvbnN0XT1yLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlO2hbbS5sb2NhbFZhcmlhYmxlXT1yLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlO2hbbS52YXJpYWJsZV09ci5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtoW20uZnVuY3Rpb25dPXIubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuRnVuY3Rpb247aFttLmxvY2FsRnVuY3Rpb25dPXIubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuRnVuY3Rpb247dmFyIHg9Y2xhc3MgZXh0ZW5kcyBre3N0YXRpYyBfY29udmVydE9wdGlvbnMoZSl7cmV0dXJue0NvbnZlcnRUYWJzVG9TcGFjZXM6ZS5pbnNlcnRTcGFjZXMsVGFiU2l6ZTplLnRhYlNpemUsSW5kZW50U2l6ZTplLnRhYlNpemUsSW5kZW50U3R5bGU6MixOZXdMaW5lQ2hhcmFjdGVyOmAKYCxJbnNlcnRTcGFjZUFmdGVyQ29tbWFEZWxpbWl0ZXI6ITAsSW5zZXJ0U3BhY2VBZnRlclNlbWljb2xvbkluRm9yU3RhdGVtZW50czohMCxJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzOiEwLEluc2VydFNwYWNlQWZ0ZXJLZXl3b3Jkc0luQ29udHJvbEZsb3dTdGF0ZW1lbnRzOiEwLEluc2VydFNwYWNlQWZ0ZXJGdW5jdGlvbktleXdvcmRGb3JBbm9ueW1vdXNGdW5jdGlvbnM6ITAsSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpczohMSxJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eUJyYWNrZXRzOiExLEluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ1RlbXBsYXRlU3RyaW5nQnJhY2VzOiExLFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrczohMSxQbGFjZU9wZW5CcmFjZU9uTmV3TGluZUZvckZ1bmN0aW9uczohMX19X2NvbnZlcnRUZXh0Q2hhbmdlcyhlLHQpe3JldHVybnt0ZXh0OnQubmV3VGV4dCxyYW5nZTp0aGlzLl90ZXh0U3BhblRvUmFuZ2UoZSx0LnNwYW4pfX19LEE9Y2xhc3MgZXh0ZW5kcyB4e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTt0aGlzLmNhbkZvcm1hdE11bHRpcGxlUmFuZ2VzPSExfWFzeW5jIHByb3ZpZGVEb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRzKHQsaSxsLGMpe2xldCB1PXQudXJpLGc9dC5nZXRPZmZzZXRBdCh7bGluZU51bWJlcjppLnN0YXJ0TGluZU51bWJlcixjb2x1bW46aS5zdGFydENvbHVtbn0pLG89dC5nZXRPZmZzZXRBdCh7bGluZU51bWJlcjppLmVuZExpbmVOdW1iZXIsY29sdW1uOmkuZW5kQ29sdW1ufSksYT1hd2FpdCB0aGlzLl93b3JrZXIodSk7aWYodC5pc0Rpc3Bvc2VkKCkpcmV0dXJuO2xldCBkPWF3YWl0IGEuZ2V0Rm9ybWF0dGluZ0VkaXRzRm9yUmFuZ2UodS50b1N0cmluZygpLGcsbyx4Ll9jb252ZXJ0T3B0aW9ucyhsKSk7aWYoISghZHx8dC5pc0Rpc3Bvc2VkKCkpKXJldHVybiBkLm1hcChwPT50aGlzLl9jb252ZXJ0VGV4dENoYW5nZXModCxwKSl9fSxSPWNsYXNzIGV4dGVuZHMgeHtnZXQgYXV0b0Zvcm1hdFRyaWdnZXJDaGFyYWN0ZXJzKCl7cmV0dXJuWyI7IiwifSIsYApgXX1hc3luYyBwcm92aWRlT25UeXBlRm9ybWF0dGluZ0VkaXRzKGUsdCxpLGwsYyl7bGV0IHU9ZS51cmksZz1lLmdldE9mZnNldEF0KHQpLG89YXdhaXQgdGhpcy5fd29ya2VyKHUpO2lmKGUuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgYT1hd2FpdCBvLmdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlKHUudG9TdHJpbmcoKSxnLGkseC5fY29udmVydE9wdGlvbnMobCkpO2lmKCEoIWF8fGUuaXNEaXNwb3NlZCgpKSlyZXR1cm4gYS5tYXAoZD0+dGhpcy5fY29udmVydFRleHRDaGFuZ2VzKGUsZCkpfX0sTz1jbGFzcyBleHRlbmRzIHh7YXN5bmMgcHJvdmlkZUNvZGVBY3Rpb25zKGUsdCxpLGwpe2xldCBjPWUudXJpLHU9ZS5nZXRPZmZzZXRBdCh7bGluZU51bWJlcjp0LnN0YXJ0TGluZU51bWJlcixjb2x1bW46dC5zdGFydENvbHVtbn0pLGc9ZS5nZXRPZmZzZXRBdCh7bGluZU51bWJlcjp0LmVuZExpbmVOdW1iZXIsY29sdW1uOnQuZW5kQ29sdW1ufSksbz14Ll9jb252ZXJ0T3B0aW9ucyhlLmdldE9wdGlvbnMoKSksYT1pLm1hcmtlcnMuZmlsdGVyKGI9PmIuY29kZSkubWFwKGI9PmIuY29kZSkubWFwKE51bWJlciksZD1hd2FpdCB0aGlzLl93b3JrZXIoYyk7aWYoZS5pc0Rpc3Bvc2VkKCkpcmV0dXJuO2xldCBwPWF3YWl0IGQuZ2V0Q29kZUZpeGVzQXRQb3NpdGlvbihjLnRvU3RyaW5nKCksdSxnLGEsbyk7cmV0dXJuIXB8fGUuaXNEaXNwb3NlZCgpP3thY3Rpb25zOltdLGRpc3Bvc2U6KCk9Pnt9fTp7YWN0aW9uczpwLmZpbHRlcihiPT5iLmNoYW5nZXMuZmlsdGVyKHk9PnkuaXNOZXdGaWxlKS5sZW5ndGg9PT0wKS5tYXAoYj0+dGhpcy5fdHNDb2RlRml4QWN0aW9uVG9Nb25hY29Db2RlQWN0aW9uKGUsaSxiKSksZGlzcG9zZTooKT0+e319fV90c0NvZGVGaXhBY3Rpb25Ub01vbmFjb0NvZGVBY3Rpb24oZSx0LGkpe2xldCBsPVtdO2ZvcihsZXQgdSBvZiBpLmNoYW5nZXMpZm9yKGxldCBnIG9mIHUudGV4dENoYW5nZXMpbC5wdXNoKHtyZXNvdXJjZTplLnVyaSx2ZXJzaW9uSWQ6dm9pZCAwLHRleHRFZGl0OntyYW5nZTp0aGlzLl90ZXh0U3BhblRvUmFuZ2UoZSxnLnNwYW4pLHRleHQ6Zy5uZXdUZXh0fX0pO3JldHVybnt0aXRsZTppLmRlc2NyaXB0aW9uLGVkaXQ6e2VkaXRzOmx9LGRpYWdub3N0aWNzOnQubWFya2VycyxraW5kOiJxdWlja2ZpeCJ9fX0sRT1jbGFzcyBleHRlbmRzIGt7Y29uc3RydWN0b3IodCxpKXtzdXBlcihpKTt0aGlzLl9saWJGaWxlcz10fWFzeW5jIHByb3ZpZGVSZW5hbWVFZGl0cyh0LGksbCxjKXtsZXQgdT10LnVyaSxnPXUudG9TdHJpbmcoKSxvPXQuZ2V0T2Zmc2V0QXQoaSksYT1hd2FpdCB0aGlzLl93b3JrZXIodSk7aWYodC5pc0Rpc3Bvc2VkKCkpcmV0dXJuO2xldCBkPWF3YWl0IGEuZ2V0UmVuYW1lSW5mbyhnLG8se2FsbG93UmVuYW1lT2ZJbXBvcnRQYXRoOiExfSk7aWYoZC5jYW5SZW5hbWU9PT0hMSlyZXR1cm57ZWRpdHM6W10scmVqZWN0UmVhc29uOmQubG9jYWxpemVkRXJyb3JNZXNzYWdlfTtpZihkLmZpbGVUb1JlbmFtZSE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIlJlbmFtaW5nIGZpbGVzIGlzIG5vdCBzdXBwb3J0ZWQuIik7bGV0IHA9YXdhaXQgYS5maW5kUmVuYW1lTG9jYXRpb25zKGcsbywhMSwhMSwhMSk7aWYoIXB8fHQuaXNEaXNwb3NlZCgpKXJldHVybjtsZXQgZj1bXTtmb3IobGV0IGIgb2YgcCl7bGV0IHk9dGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChiLmZpbGVOYW1lKTtpZih5KWYucHVzaCh7cmVzb3VyY2U6eS51cmksdmVyc2lvbklkOnZvaWQgMCx0ZXh0RWRpdDp7cmFuZ2U6dGhpcy5fdGV4dFNwYW5Ub1JhbmdlKHksYi50ZXh0U3BhbiksdGV4dDpsfX0pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpbGUgJHtiLmZpbGVOYW1lfS5gKX1yZXR1cm57ZWRpdHM6Zn19fSxOPWNsYXNzIGV4dGVuZHMga3thc3luYyBwcm92aWRlSW5sYXlIaW50cyhlLHQsaSl7bGV0IGw9ZS51cmksYz1sLnRvU3RyaW5nKCksdT1lLmdldE9mZnNldEF0KHtsaW5lTnVtYmVyOnQuc3RhcnRMaW5lTnVtYmVyLGNvbHVtbjp0LnN0YXJ0Q29sdW1ufSksZz1lLmdldE9mZnNldEF0KHtsaW5lTnVtYmVyOnQuZW5kTGluZU51bWJlcixjb2x1bW46dC5lbmRDb2x1bW59KSxvPWF3YWl0IHRoaXMuX3dvcmtlcihsKTtyZXR1cm4gZS5pc0Rpc3Bvc2VkKCk/bnVsbDp7aGludHM6KGF3YWl0IG8ucHJvdmlkZUlubGF5SGludHMoYyx1LGcpKS5tYXAocD0+KHsuLi5wLGxhYmVsOnAudGV4dCxwb3NpdGlvbjplLmdldFBvc2l0aW9uQXQocC5wb3NpdGlvbiksa2luZDp0aGlzLl9jb252ZXJ0SGludEtpbmQocC5raW5kKX0pKSxkaXNwb3NlOigpPT57fX19X2NvbnZlcnRIaW50S2luZChlKXtzd2l0Y2goZSl7Y2FzZSJQYXJhbWV0ZXIiOnJldHVybiByLmxhbmd1YWdlcy5JbmxheUhpbnRLaW5kLlBhcmFtZXRlcjtjYXNlIlR5cGUiOnJldHVybiByLmxhbmd1YWdlcy5JbmxheUhpbnRLaW5kLlR5cGU7ZGVmYXVsdDpyZXR1cm4gci5sYW5ndWFnZXMuSW5sYXlIaW50S2luZC5UeXBlfX19O3ZhciBWLGo7ZnVuY3Rpb24gdWUocyl7aj1YKHMsInR5cGVzY3JpcHQiKX1mdW5jdGlvbiBnZShzKXtWPVgocywiamF2YXNjcmlwdCIpfWZ1bmN0aW9uIHBlKCl7cmV0dXJuIG5ldyBQcm9taXNlKChzLGUpPT57aWYoIVYpcmV0dXJuIGUoIkphdmFTY3JpcHQgbm90IHJlZ2lzdGVyZWQhIik7cyhWKX0pfWZ1bmN0aW9uIGRlKCl7cmV0dXJuIG5ldyBQcm9taXNlKChzLGUpPT57aWYoIWopcmV0dXJuIGUoIlR5cGVTY3JpcHQgbm90IHJlZ2lzdGVyZWQhIik7cyhqKX0pfWZ1bmN0aW9uIFgocyxlKXtsZXQgdD1bXSxpPVtdLGw9bmV3IHYoZSxzKTt0LnB1c2gobCk7bGV0IGM9KC4uLm8pPT5sLmdldExhbmd1YWdlU2VydmljZVdvcmtlciguLi5vKSx1PW5ldyBfKGMpO2Z1bmN0aW9uIGcoKXtsZXR7bW9kZUNvbmZpZ3VyYXRpb246b309cztZKGkpLG8uY29tcGxldGlvbkl0ZW1zJiZpLnB1c2goci5sYW5ndWFnZXMucmVnaXN0ZXJDb21wbGV0aW9uSXRlbVByb3ZpZGVyKGUsbmV3IEMoYykpKSxvLnNpZ25hdHVyZUhlbHAmJmkucHVzaChyLmxhbmd1YWdlcy5yZWdpc3RlclNpZ25hdHVyZUhlbHBQcm92aWRlcihlLG5ldyBJKGMpKSksby5ob3ZlcnMmJmkucHVzaChyLmxhbmd1YWdlcy5yZWdpc3RlckhvdmVyUHJvdmlkZXIoZSxuZXcgUChjKSkpLG8uZG9jdW1lbnRIaWdobGlnaHRzJiZpLnB1c2goci5sYW5ndWFnZXMucmVnaXN0ZXJEb2N1bWVudEhpZ2hsaWdodFByb3ZpZGVyKGUsbmV3IEQoYykpKSxvLmRlZmluaXRpb25zJiZpLnB1c2goci5sYW5ndWFnZXMucmVnaXN0ZXJEZWZpbml0aW9uUHJvdmlkZXIoZSxuZXcgRih1LGMpKSksby5yZWZlcmVuY2VzJiZpLnB1c2goci5sYW5ndWFnZXMucmVnaXN0ZXJSZWZlcmVuY2VQcm92aWRlcihlLG5ldyBMKHUsYykpKSxvLmRvY3VtZW50U3ltYm9scyYmaS5wdXNoKHIubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRTeW1ib2xQcm92aWRlcihlLG5ldyBNKGMpKSksby5yZW5hbWUmJmkucHVzaChyLmxhbmd1YWdlcy5yZWdpc3RlclJlbmFtZVByb3ZpZGVyKGUsbmV3IEUodSxjKSkpLG8uZG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0cyYmaS5wdXNoKHIubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIoZSxuZXcgQShjKSkpLG8ub25UeXBlRm9ybWF0dGluZ0VkaXRzJiZpLnB1c2goci5sYW5ndWFnZXMucmVnaXN0ZXJPblR5cGVGb3JtYXR0aW5nRWRpdFByb3ZpZGVyKGUsbmV3IFIoYykpKSxvLmNvZGVBY3Rpb25zJiZpLnB1c2goci5sYW5ndWFnZXMucmVnaXN0ZXJDb2RlQWN0aW9uUHJvdmlkZXIoZSxuZXcgTyhjKSkpLG8uaW5sYXlIaW50cyYmaS5wdXNoKHIubGFuZ3VhZ2VzLnJlZ2lzdGVySW5sYXlIaW50c1Byb3ZpZGVyKGUsbmV3IE4oYykpKSxvLmRpYWdub3N0aWNzJiZpLnB1c2gobmV3IFQodSxzLGUsYykpfXJldHVybiBnKCksdC5wdXNoKGZlKGkpKSxjfWZ1bmN0aW9uIGZlKHMpe3JldHVybntkaXNwb3NlOigpPT5ZKHMpfX1mdW5jdGlvbiBZKHMpe2Zvcig7cy5sZW5ndGg7KXMucG9wKCkuZGlzcG9zZSgpfXJldHVybiBhZShtZSk7fSkoKTsKcmV0dXJuIG1vZHVsZUV4cG9ydHM7Cn0pOwo=